<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AzeorthCore: D:/azerothcore-wotlk/src/server/game/Entities/Player/PlayerQuest.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../20147732.png"/></td>
  <td id="projectalign">
   <div id="projectname">AzeorthCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('de/d33/a01274_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">PlayerQuest.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="../../de/d33/a01274.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * This file is part of the AzerothCore Project. See AUTHORS file for Copyright information</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> *</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> * This program is free software; you can redistribute it and/or modify it</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> * under the terms of the GNU Affero General Public License as published by the</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> * Free Software Foundation; either version 3 of the License, or (at your</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> * option) any later version.</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> *</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> * This program is distributed in the hope that it will be useful, but WITHOUT</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"> * more details.</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"> *</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> * You should have received a copy of the GNU General Public License along</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment"> * with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment"> */</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="../../d2/d4a/a00758.html">CreatureAI.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="../../d5/d67/a01070.html">DisableMgr.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="../../d2/d94/a00716.html">GameObjectAI.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="../../d1/dce/a02168.html">GameTime.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="../../d2/d04/a00281.html">GitRevision.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="../../de/df1/a01151.html">GossipDef.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="../../dc/d35/a01400.html">Group.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="../../d7/d29/a01589.html">MapMgr.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="../../da/dd8/a01265.html">Player.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="../../d7/d62/a01805.html">PoolMgr.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="../../d9/d88/a01823.html">ReputationMgr.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="../../d3/d67/a01958.html">ScriptMgr.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="../../db/d7a/a02105.html">SpellAuraEffects.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="../../db/df6/a02138.html">SpellMgr.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="../../de/d9d/a02072.html">WorldSession.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="comment">/*********************************************************/</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="comment">/***                    QUEST SYSTEM                   ***/</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">/*********************************************************/</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#aa352798726d935f9e76f97137e47ee33">   38</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#aa352798726d935f9e76f97137e47ee33">Player::PrepareQuestMenu</a>(<a class="code hl_class" href="../../da/d98/a07852.html">ObjectGuid</a> guid)</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>{</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <a class="code hl_typedef" href="../../d8/d4e/a01355.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a> objectQR;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <a class="code hl_typedef" href="../../d8/d4e/a01355.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a> objectQIR;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="comment">// pets also can have quests</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <a class="code hl_class" href="../../dc/d6f/a07436.html">Creature</a>* creature = <a class="code hl_function" href="../../df/dfb/a04472.html#abe7c8995443541417f52b00973dbde6f">ObjectAccessor::GetCreatureOrPetOrVehicle</a>(*<span class="keyword">this</span>, guid);</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <span class="keywordflow">if</span> (creature)</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    {</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>        objectQR  = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureQuestRelationBounds(creature-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>        objectQIR = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureQuestInvolvedRelationBounds(creature-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    }</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    {</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>        <span class="comment">//we should obtain map pointer from GetMap() in 99% of cases. Special case</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>        <span class="comment">//only for quests which cast teleport spells on player</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>        <a class="code hl_class" href="../../db/d9f/a09188.html">Map</a>* _map = <a class="code hl_function" href="../../d3/dd0/a07804.html#a3aeab7def818ba6c50249f197ad2f9ca">IsInWorld</a>() ? <a class="code hl_function" href="../../d7/d14/a07836.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>() : <a class="code hl_define" href="../../d7/d29/a01589.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindMap(<a class="code hl_function" href="../../de/d51/a07896.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>(), <a class="code hl_function" href="../../d7/d14/a07836.html#a664e99edd35c98e8eb7f67476aa8082d">GetInstanceId</a>());</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>        <a class="code hl_define" href="../../dd/d52/a00221.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(_map);</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>        <a class="code hl_class" href="../../d7/dc7/a07748.html">GameObject</a>* pGameObject = _map-&gt;<a class="code hl_function" href="../../db/d9f/a09188.html#a92001d81940cdfec678ec714248052a5">GetGameObject</a>(guid);</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>        <span class="keywordflow">if</span> (pGameObject)</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>        {</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>            objectQR  = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGOQuestRelationBounds(pGameObject-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>            objectQIR = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGOQuestInvolvedRelationBounds(pGameObject-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>        }</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    }</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <a class="code hl_class" href="../../d4/d81/a07548.html">QuestMenu</a>&amp; qm = <a class="code hl_variable" href="../../df/d6a/a08044.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code hl_function" href="../../d6/d61/a07552.html#a6129e728a42a0d74e462073ba7219eb1">GetQuestMenu</a>();</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    qm.<a class="code hl_function" href="../../d4/d81/a07548.html#ab3d3881aabe000694acab37a3774507e">ClearMenu</a>();</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="keywordflow">for</span> (QuestRelations::const_iterator i = objectQIR.first; i != objectQIR.second; ++i)</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    {</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id = i-&gt;second;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>        <a class="code hl_enumeration" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> status = <a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(quest_id);</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>        <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>)</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>            qm.<a class="code hl_function" href="../../d4/d81/a07548.html#ac8735756bbf9f2fa799c505bd740e070">AddMenuItem</a>(quest_id, 4);</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>            qm.<a class="code hl_function" href="../../d4/d81/a07548.html#ac8735756bbf9f2fa799c505bd740e070">AddMenuItem</a>(quest_id, 4);</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>        <span class="comment">//else if (status == QUEST_STATUS_AVAILABLE)</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>        <span class="comment">//    qm.AddMenuItem(quest_id, 2);</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    }</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="keywordflow">for</span> (QuestRelations::const_iterator i = objectQR.first; i != objectQR.second; ++i)</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    {</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id = i-&gt;second;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>        <span class="keywordflow">if</span> (!quest)</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/d6a/a08044.html#a4119b83fa78e608d8d946b1821c57fdf">CanTakeQuest</a>(quest, <span class="keyword">false</span>))</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>        <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>() &amp;&amp; (!quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>() || quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aab14227810deb46be3e04f3fb43eab05">IsDaily</a>() || quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad655d2ab2988cbc70c17a53f27aa84dc">IsWeekly</a>() || quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aec34a6498bb385e4ee734fa54d0d9643">IsMonthly</a>()))</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>            qm.<a class="code hl_function" href="../../d4/d81/a07548.html#ac8735756bbf9f2fa799c505bd740e070">AddMenuItem</a>(quest_id, 0);</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>())</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>            qm.<a class="code hl_function" href="../../d4/d81/a07548.html#ac8735756bbf9f2fa799c505bd740e070">AddMenuItem</a>(quest_id, 4);</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(quest_id) == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>            qm.<a class="code hl_function" href="../../d4/d81/a07548.html#ac8735756bbf9f2fa799c505bd740e070">AddMenuItem</a>(quest_id, 2);</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    }</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>}</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span> </div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a84b252bdcb4e0538c1043926773f153f">  100</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a84b252bdcb4e0538c1043926773f153f">Player::HasQuest</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)<span class="keyword"> const</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    {</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>        <span class="keywordflow">if</span> (questid == questId)</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        {</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        }</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    }</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>}</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a558ae516e2abd8e8be169518d7209053">  114</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a558ae516e2abd8e8be169518d7209053">Player::SendPreparedQuest</a>(<a class="code hl_class" href="../../da/d98/a07852.html">ObjectGuid</a> guid)</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>{</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <a class="code hl_class" href="../../d4/d81/a07548.html">QuestMenu</a>&amp; questMenu = <a class="code hl_variable" href="../../df/d6a/a08044.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code hl_function" href="../../d6/d61/a07552.html#a6129e728a42a0d74e462073ba7219eb1">GetQuestMenu</a>();</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="keywordflow">if</span> (questMenu.<a class="code hl_function" href="../../d4/d81/a07548.html#a1a850cb70956f299ea91cb0d732ad202">Empty</a>())</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="comment">// single element case</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="keywordflow">if</span> (questMenu.<a class="code hl_function" href="../../d4/d81/a07548.html#a2338a6fb88c32bfb66fe524a8ffaa0d7">GetMenuItemCount</a>() == 1)</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    {</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        <a class="code hl_struct" href="../../d5/d11/a07540.html">QuestMenuItem</a> <span class="keyword">const</span>&amp; qmi0 = questMenu.<a class="code hl_function" href="../../d4/d81/a07548.html#a08240a8d18dce0cb96db19f54c67dd2c">GetItem</a>(0);</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId = qmi0.<a class="code hl_variable" href="../../d5/d11/a07540.html#a522a4fcb28daec3e1a620b6f02c3d8fe">QuestId</a>;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>        <span class="comment">// Auto open -- maybe also should verify there is no greeting</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId))</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>        {</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>            <span class="keywordflow">if</span> (qmi0.<a class="code hl_variable" href="../../d5/d11/a07540.html#ad8bbfe08780eaa68a8205e2634d211b8">QuestIcon</a> == 4)</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>                <a class="code hl_variable" href="../../df/d6a/a08044.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code hl_function" href="../../d6/d61/a07552.html#a61a5f8d9b8b9c4baa511028884011f89">SendQuestGiverRequestItems</a>(quest, guid, <a class="code hl_function" href="../../df/d6a/a08044.html#a541838bee904b263239f051505a1498b">CanRewardQuest</a>(quest, <span class="keyword">false</span>), <span class="keyword">true</span>);</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>                <span class="comment">// Send completable on repeatable and autoCompletable quest if player don&#39;t have quest</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="comment"></span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>            {</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>                <a class="code hl_class" href="../../d3/dd0/a07804.html">Object</a>* <span class="keywordtype">object</span> = <a class="code hl_function" href="../../df/dfb/a04472.html#a0bfd3fb4a5f43a4159bbd0b176186e19">ObjectAccessor::GetObjectByTypeMask</a>(*<span class="keyword">this</span>, guid, <a class="code hl_enumvalue" href="../../d9/d31/a01208.html#acfe503ba26d8a881f16958aaafd431e1a611a6f19a7f885d824ea5be71ffca2de">TYPEMASK_UNIT</a> | <a class="code hl_enumvalue" href="../../d9/d31/a01208.html#acfe503ba26d8a881f16958aaafd431e1ab64731f0031a7f58c1a56cbf45d6f2f4">TYPEMASK_GAMEOBJECT</a> | <a class="code hl_enumvalue" href="../../d9/d31/a01208.html#acfe503ba26d8a881f16958aaafd431e1a213c6f64ff343595c13d0e808b75297d">TYPEMASK_ITEM</a>);</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>                <span class="keywordflow">if</span> (!<span class="keywordtype">object</span> || (!object-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#a5a39e4cde00448cc3a6eaeaee139c749">hasQuest</a>(questId) &amp;&amp; !object-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#ada61cb59931e3c02624a63161997bf20">hasInvolvedQuest</a>(questId)))</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>                {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>                    <a class="code hl_variable" href="../../df/d6a/a08044.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code hl_function" href="../../d6/d61/a07552.html#a1071f28b7138ecbd7e94d95175059ba1">SendCloseGossip</a>();</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>                }</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>                <span class="keywordflow">if</span> (quest-&gt;IsAutoAccept() &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a5ced1d54771a4c7654620f1768436806">CanAddQuest</a>(quest, <span class="keyword">true</span>) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a4119b83fa78e608d8d946b1821c57fdf">CanTakeQuest</a>(quest, <span class="keyword">true</span>))</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#aa59bc437abf78479ccb2a10800f202d3">AddQuestAndCheckCompletion</a>(quest, <span class="keywordtype">object</span>);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>                <span class="keywordflow">if</span> (quest-&gt;IsAutoComplete() || !quest-&gt;GetQuestMethod())</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>                    <a class="code hl_variable" href="../../df/d6a/a08044.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code hl_function" href="../../d6/d61/a07552.html#a61a5f8d9b8b9c4baa511028884011f89">SendQuestGiverRequestItems</a>(quest, guid, <a class="code hl_function" href="../../df/d6a/a08044.html#abbdc64fe74e2935052b57d3072dee33e">CanCompleteRepeatableQuest</a>(quest), <span class="keyword">true</span>);</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>                    <a class="code hl_variable" href="../../df/d6a/a08044.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code hl_function" href="../../d6/d61/a07552.html#a3961687838852446af0db40d6458fb41">SendQuestGiverQuestDetails</a>(quest, guid, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>            }</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        }</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    }</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="comment">// multiple entries</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    {</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        <a class="code hl_struct" href="../../d0/d84/a08944.html">QEmote</a> qe;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>        qe.<a class="code hl_variable" href="../../d0/d84/a08944.html#a8c4024f5818f327f29b44a26892b89a1">_Delay</a> = 0;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>        qe.<a class="code hl_variable" href="../../d0/d84/a08944.html#a701c902af6f7f472511727bcc88ceeef">_Emote</a> = 0;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>        std::string title = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        <span class="comment">// need pet case for some quests</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>        <a class="code hl_class" href="../../dc/d6f/a07436.html">Creature</a>* creature = <a class="code hl_function" href="../../df/dfb/a04472.html#abe7c8995443541417f52b00973dbde6f">ObjectAccessor::GetCreatureOrPetOrVehicle</a>(*<span class="keyword">this</span>, guid);</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>        <span class="keywordflow">if</span> (creature)</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>        {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>            <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> textid = <a class="code hl_function" href="../../df/d6a/a08044.html#ae22a64659346d2a5017d4b47e796146c">GetGossipTextId</a>(creature);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>            <a class="code hl_struct" href="../../db/df5/a08952.html">GossipText</a> <span class="keyword">const</span>* gossiptext = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGossipText(textid);</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>            <span class="keywordflow">if</span> (!gossiptext)</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>            {</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>                qe.<a class="code hl_variable" href="../../d0/d84/a08944.html#a8c4024f5818f327f29b44a26892b89a1">_Delay</a> = 0;                              <span class="comment">//TEXTEMOTE_MESSAGE;              //zyg: player emote</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>                qe.<a class="code hl_variable" href="../../d0/d84/a08944.html#a701c902af6f7f472511727bcc88ceeef">_Emote</a> = 0;                              <span class="comment">//TEXTEMOTE_HELLO;                //zyg: NPC emote</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>                title = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>            }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>            {</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>                qe = gossiptext-&gt;<a class="code hl_variable" href="../../db/df5/a08952.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[0].<a class="code hl_variable" href="../../d8/d06/a08948.html#a0f67a651fdb3f3217279015c9e3fb292">Emotes</a>[0];</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>                <span class="keywordflow">if</span> (!gossiptext-&gt;<a class="code hl_variable" href="../../db/df5/a08952.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[0].<a class="code hl_variable" href="../../d8/d06/a08948.html#a046d637b91807db067c6e7050184322d">Text_0</a>.empty())</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>                {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>                    title = gossiptext-&gt;<a class="code hl_variable" href="../../db/df5/a08952.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[0].<a class="code hl_variable" href="../../d8/d06/a08948.html#a046d637b91807db067c6e7050184322d">Text_0</a>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>                    <span class="keywordtype">int</span> loc_idx = <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>                    <span class="keywordflow">if</span> (loc_idx &gt;= 0)</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>                        <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d4/d43/a08960.html">NpcTextLocale</a> <span class="keyword">const</span>* npcTextLocale = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetNpcTextLocale(textid))</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>                            <a class="code hl_function" href="../../d8/d05/a08464.html#a92a2d9fe378030122340f34a7cb79ef9">ObjectMgr::GetLocaleString</a>(npcTextLocale-&gt;Text_0[0], loc_idx, title);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>                }</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>                {</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>                    title = gossiptext-&gt;<a class="code hl_variable" href="../../db/df5/a08952.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[0].<a class="code hl_variable" href="../../d8/d06/a08948.html#a8d64d7b8fcdbd995cc11e22adde8c0de">Text_1</a>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>                    <span class="keywordtype">int</span> loc_idx = <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>                    <span class="keywordflow">if</span> (loc_idx &gt;= 0)</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>                        <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d4/d43/a08960.html">NpcTextLocale</a> <span class="keyword">const</span>* npcTextLocale = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetNpcTextLocale(textid))</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>                            <a class="code hl_function" href="../../d8/d05/a08464.html#a92a2d9fe378030122340f34a7cb79ef9">ObjectMgr::GetLocaleString</a>(npcTextLocale-&gt;Text_1[0], loc_idx, title);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>                }</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>            }</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        }</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>        <a class="code hl_variable" href="../../df/d6a/a08044.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code hl_function" href="../../d6/d61/a07552.html#a1995bf53009911627fbbcb20049a1fbf">SendQuestGiverQuestList</a>(qe, title, guid);</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    }</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>}</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a9940e82568c515c239c821d6fffdfb9b">  201</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a9940e82568c515c239c821d6fffdfb9b">Player::IsActiveQuest</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(quest_id) != <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end();</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>}</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ac35099dc1c5c4340d450db90a5d143ca">  206</a></span><a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* <a class="code hl_function" href="../../df/d6a/a08044.html#ac35099dc1c5c4340d450db90a5d143ca">Player::GetNextQuest</a>(<a class="code hl_class" href="../../da/d98/a07852.html">ObjectGuid</a> guid, <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest)</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>{</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <a class="code hl_typedef" href="../../d8/d4e/a01355.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a> objectQR;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <a class="code hl_class" href="../../dc/d6f/a07436.html">Creature</a>* creature = <a class="code hl_function" href="../../df/dfb/a04472.html#abe7c8995443541417f52b00973dbde6f">ObjectAccessor::GetCreatureOrPetOrVehicle</a>(*<span class="keyword">this</span>, guid);</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="keywordflow">if</span> (creature)</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        objectQR  = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureQuestRelationBounds(creature-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    {</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        <span class="comment">//we should obtain map pointer from GetMap() in 99% of cases. Special case</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        <span class="comment">//only for quests which cast teleport spells on player</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>        <a class="code hl_class" href="../../db/d9f/a09188.html">Map</a>* _map = <a class="code hl_function" href="../../d3/dd0/a07804.html#a3aeab7def818ba6c50249f197ad2f9ca">IsInWorld</a>() ? <a class="code hl_function" href="../../d7/d14/a07836.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>() : <a class="code hl_define" href="../../d7/d29/a01589.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindMap(<a class="code hl_function" href="../../de/d51/a07896.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>(), <a class="code hl_function" href="../../d7/d14/a07836.html#a664e99edd35c98e8eb7f67476aa8082d">GetInstanceId</a>());</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        <a class="code hl_define" href="../../dd/d52/a00221.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(_map);</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>        <a class="code hl_class" href="../../d7/dc7/a07748.html">GameObject</a>* pGameObject = _map-&gt;<a class="code hl_function" href="../../db/d9f/a09188.html#a92001d81940cdfec678ec714248052a5">GetGameObject</a>(guid);</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>        <span class="keywordflow">if</span> (pGameObject)</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>            objectQR  = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGOQuestRelationBounds(pGameObject-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    }</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> nextQuestID = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#afd21789d43617d2a7d48e0479b247fde">GetNextQuestInChain</a>();</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="keywordflow">for</span> (QuestRelations::const_iterator itr = objectQR.first; itr != objectQR.second; ++itr)</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    {</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>        <span class="keywordflow">if</span> (itr-&gt;second == nextQuestID)</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(nextQuestID);</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    }</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>}</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a743bfca834aded4409212d6fb43d8f4f">  236</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a743bfca834aded4409212d6fb43d8f4f">Player::CanSeeStartQuest</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest)</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>{</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../dd/d3c/a04466.html#a6673bbc719c96febfc86a4220a988ed0">DisableMgr::IsDisabledFor</a>(<a class="code hl_enumvalue" href="../../d5/d67/a01070.html#affa2a0d7ee61f6e1bc7c6cb7d2c1b64ca53c0091b82a6fc9bc32393f75af1e49e">DISABLE_TYPE_QUEST</a>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>(), <span class="keyword">this</span>) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a8d5b1b54960d39e389dcfa8c71dc54f4">SatisfyQuestClass</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a8b94a5119e583d66540638942e19f431">SatisfyQuestRace</a>(quest, <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#abd1902419170116dee3064afbd492f0f">SatisfyQuestSkill</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a3eff2504b3182e587f5861966fc819e6">SatisfyQuestExclusiveGroup</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a8e0d6d5481aa496aa943b546e82b8911">SatisfyQuestReputation</a>(quest, <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#ab38d56b364dfd74d7b6a88d08ecdf072">SatisfyQuestPreviousQuest</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a20f4b508f43c0250a376be46cb31ffa6">SatisfyQuestNextChain</a>(quest, <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#ade36479ca18bfad804c3b5306d856ddf">SatisfyQuestPrevChain</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a518389d20cdf628f73a4ca8db9b5d2fd">SatisfyQuestDay</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#aca05d62bd5f150ae2426747d8e1a3a36">SatisfyQuestWeek</a>(quest, <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a7b45b9e11b333d56baf6b02cc523d70a">SatisfyQuestMonth</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(quest, <span class="keyword">false</span>))</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    {</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() + <a class="code hl_define" href="../../d3/d74/a04418.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/d6f/a02234.html#a17aac4c166ebe43e3b8fdccf9e012e41a35be86ac21dd2db36961628f5be2279f">CONFIG_QUEST_HIGH_LEVEL_HIDE_DIFF</a>) &gt;= quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a4355a8343017eb1059657dbd2bd13694">GetMinLevel</a>();</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    }</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>}</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a4119b83fa78e608d8d946b1821c57fdf">  250</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a4119b83fa78e608d8d946b1821c57fdf">Player::CanTakeQuest</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>{</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="keywordflow">return</span> !<a class="code hl_function" href="../../dd/d3c/a04466.html#a6673bbc719c96febfc86a4220a988ed0">DisableMgr::IsDisabledFor</a>(<a class="code hl_enumvalue" href="../../d5/d67/a01070.html#affa2a0d7ee61f6e1bc7c6cb7d2c1b64ca53c0091b82a6fc9bc32393f75af1e49e">DISABLE_TYPE_QUEST</a>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>(), <span class="keyword">this</span>)</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>           &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#acf0f9d07a0043d6fdbd8a4cbde03ab53">SatisfyQuestStatus</a>(quest, msg) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a3eff2504b3182e587f5861966fc819e6">SatisfyQuestExclusiveGroup</a>(quest, msg)</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>           &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a8d5b1b54960d39e389dcfa8c71dc54f4">SatisfyQuestClass</a>(quest, msg) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a8b94a5119e583d66540638942e19f431">SatisfyQuestRace</a>(quest, msg) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#aa741d2df6cdf7e02b63b46d2a58f609a">SatisfyQuestLevel</a>(quest, msg)</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>           &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#abd1902419170116dee3064afbd492f0f">SatisfyQuestSkill</a>(quest, msg) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a8e0d6d5481aa496aa943b546e82b8911">SatisfyQuestReputation</a>(quest, msg)</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>           &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#ab38d56b364dfd74d7b6a88d08ecdf072">SatisfyQuestPreviousQuest</a>(quest, msg) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a981ca241668a35c4d44f885769f59f7a">SatisfyQuestTimed</a>(quest, msg)</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>           &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a20f4b508f43c0250a376be46cb31ffa6">SatisfyQuestNextChain</a>(quest, msg) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#ade36479ca18bfad804c3b5306d856ddf">SatisfyQuestPrevChain</a>(quest, msg)</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>           &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a518389d20cdf628f73a4ca8db9b5d2fd">SatisfyQuestDay</a>(quest, msg) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#aca05d62bd5f150ae2426747d8e1a3a36">SatisfyQuestWeek</a>(quest, msg)</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>           &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a7b45b9e11b333d56baf6b02cc523d70a">SatisfyQuestMonth</a>(quest, msg) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(quest, msg)</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>           &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a5713cd88450fc91ded78904209521176">SatisfyQuestConditions</a>(quest, msg);</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>}</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span> </div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a5ced1d54771a4c7654620f1768436806">  263</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a5ced1d54771a4c7654620f1768436806">Player::CanAddQuest</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>{</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/d6a/a08044.html#a9db7bf014aa6b541253cef245cc34948">SatisfyQuestLog</a>(msg))</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> srcitem = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad4362cc4900c53c7bf010ea8fe0eabff">GetSrcItemId</a>();</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="keywordflow">if</span> (srcitem &gt; 0)</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    {</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a624f094e3f33c2bf5eb30dd9d208a058">GetSrcItemCount</a>();</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        <a class="code hl_typedef" href="../../da/dd8/a01265.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <a class="code hl_enumeration" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> msg2 = <a class="code hl_function" href="../../df/d6a/a08044.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, srcitem, count);</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        <span class="comment">// player already have max number (in most case 1) source item, no additional item needed and quest can be added.</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <span class="keywordflow">if</span> (msg2 == <a class="code hl_enumvalue" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391ac38e8d6381e5ed7855a06a1b34163dca">EQUIP_ERR_CANT_CARRY_MORE_OF_THIS</a>)</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg2 != <a class="code hl_enumvalue" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(msg2, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, srcitem);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        }</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    }</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>}</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span> </div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">  287</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">Player::CanCompleteQuest</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id, <span class="keyword">const</span> <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>* q_savedStatus)</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>{</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="keywordflow">if</span> (quest_id)</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="comment">// Xinef: take seasonals into account</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="keywordflow">if</span>(!qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>() &amp;&amp; !qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>() &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(quest_id))</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;                                   <span class="comment">// not allow re-complete quest</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        <span class="comment">// auto complete quest</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <span class="keywordflow">if</span> ((qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>() || !qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#af1e10dfc30ded6ceadd623ab382ef10f">GetQuestMethod</a>()) &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a4119b83fa78e608d8d946b1821c57fdf">CanTakeQuest</a>(qInfo, <span class="keyword">false</span>))</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a> q_status;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>        <span class="keywordflow">if</span> (q_savedStatus)</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>            q_status = *q_savedStatus;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        {</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            QuestStatusMap::const_iterator itr = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(quest_id);</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>            <span class="keywordflow">if</span> (itr == <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end())</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>            q_status = itr-&gt;second;</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        }</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        {</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>            {</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; i++)</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                {</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i] != 0 &amp;&amp; q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[i] &lt; qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i])</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                }</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>            }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27">QUEST_SPECIAL_FLAGS_KILL</a> | <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce">QUEST_SPECIAL_FLAGS_CAST</a> | <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7adaae331a9f2b83cc198f7bdd130fc3c8d8">QUEST_SPECIAL_FLAGS_SPEAKTO</a>))</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>            {</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; i++)</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[i] == 0)</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[i] != 0 &amp;&amp; q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[i] &lt; qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[i])</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>                }</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>            }</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7adaf684e0d6b4efab2cf6a32452b9bba335">QUEST_SPECIAL_FLAGS_PLAYER_KILL</a>))</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>                <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a910f66ebd4b91d594dab6e6227ad2917">GetPlayersSlain</a>() != 0 &amp;&amp; q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a170a1e54fe45b7fd0c7934f1309f7969">PlayerCount</a> &lt; qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a910f66ebd4b91d594dab6e6227ad2917">GetPlayersSlain</a>())</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span> </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada7cdb9968510dd711ea90b4b1f1275413">QUEST_SPECIAL_FLAGS_EXPLORATION_OR_EVENT</a>) &amp;&amp; !q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a734f6a61aa35c77689d33031e88f0c0b">Explored</a>)</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab">QUEST_SPECIAL_FLAGS_TIMED</a>) &amp;&amp; q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a16343f7a162e5b7b6a1a18345420c77a">Timer</a> == 0)</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span> </div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad52228188a1e225f7b26dd0a16967994">GetRewOrReqMoney</a>() &lt; 0)</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>            {</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/d6a/a08044.html#a77b52bf6fc7a0ac6ad37bf836aaf5c7b">HasEnoughMoney</a>(-qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad52228188a1e225f7b26dd0a16967994">GetRewOrReqMoney</a>()))</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>            }</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>            <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> repFacId = qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a1c6aee64c4ebe888060dfc4a3b0ae974">GetRepObjectiveFaction</a>();</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>            <span class="keywordflow">if</span> (repFacId &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#af5e271a82ad1ba3d3b081b9774b7a5e5">GetReputationMgr</a>().<a class="code hl_function" href="../../df/d6a/a08044.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(repFacId) &lt; qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a06c88a17affc1a13a06be5b5404e3b8f">GetRepObjectiveValue</a>())</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span> </div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        }</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    }</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>}</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span> </div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#abbdc64fe74e2935052b57d3072dee33e">  364</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#abbdc64fe74e2935052b57d3072dee33e">Player::CanCompleteRepeatableQuest</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest)</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>{</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <span class="comment">// Solve problem that player don&#39;t have the quest and try complete it.</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="comment">// if repeatable she must be able to complete event if player don&#39;t have it.</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="comment">// Seem that all repeatable quest are DELIVER Flag so, no need to add more.</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/d6a/a08044.html#a4119b83fa78e608d8d946b1821c57fdf">CanTakeQuest</a>(quest, <span class="keyword">false</span>))</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span> </div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; i++)</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i] &amp;&amp; quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i] &amp;&amp; !<a class="code hl_function" href="../../df/d6a/a08044.html#a3b6b7692a9496e07088b96315decc78c">HasItemCount</a>(quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i], quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i]))</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span> </div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/d6a/a08044.html#a541838bee904b263239f051505a1498b">CanRewardQuest</a>(quest, <span class="keyword">false</span>))</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>}</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span> </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a541838bee904b263239f051505a1498b">  383</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a541838bee904b263239f051505a1498b">Player::CanRewardQuest</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>{</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="comment">// not auto complete quest and not completed quest (only cheating case, then ignore without message)</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="keywordflow">if</span> (!quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a62deb059ae37d23ad11c985b8a8ed792">IsDFQuest</a>() &amp;&amp; !quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>() &amp;&amp; quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#af1e10dfc30ded6ceadd623ab382ef10f">GetQuestMethod</a>() &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()) != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>)</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="comment">// daily quest can&#39;t be rewarded (25 daily quest already completed)</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/d6a/a08044.html#a518389d20cdf628f73a4ca8db9b5d2fd">SatisfyQuestDay</a>(quest, <span class="keyword">true</span>) || !<a class="code hl_function" href="../../df/d6a/a08044.html#aca05d62bd5f150ae2426747d8e1a3a36">SatisfyQuestWeek</a>(quest, <span class="keyword">true</span>) || !<a class="code hl_function" href="../../df/d6a/a08044.html#a7b45b9e11b333d56baf6b02cc523d70a">SatisfyQuestMonth</a>(quest, <span class="keyword">true</span>) || !<a class="code hl_function" href="../../df/d6a/a08044.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(quest, <span class="keyword">true</span>))</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <span class="comment">// rewarded and not repeatable quest (only cheating case, then ignore without message)</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#a2f780cf8d581075515965d1de74cf789">GetQuestRewardStatus</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()))</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span> </div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="comment">// prevent receive reward with quest items in bank</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    {</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; i++)</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>        {</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>            <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i] != 0 &amp;&amp;</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>                <a class="code hl_function" href="../../df/d6a/a08044.html#a5aa219a691b0c5212fda9de12dfd72e9">GetItemCount</a>(quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i]) &lt; quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i])</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>            {</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>                <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(<a class="code hl_enumvalue" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391a8b1b5966ea1ccbf5ee6d1d4a244b272e">EQUIP_ERR_ITEM_NOT_FOUND</a>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i]);</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>            }</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>        }</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    }</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span> </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    <span class="comment">// prevent receive reward with low money and GetRewOrReqMoney() &lt; 0</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad52228188a1e225f7b26dd0a16967994">GetRewOrReqMoney</a>() &lt; 0 &amp;&amp; !<a class="code hl_function" href="../../df/d6a/a08044.html#a77b52bf6fc7a0ac6ad37bf836aaf5c7b">HasEnoughMoney</a>(-quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad52228188a1e225f7b26dd0a16967994">GetRewOrReqMoney</a>()))</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>}</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span> </div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#aa59bc437abf78479ccb2a10800f202d3">  419</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#aa59bc437abf78479ccb2a10800f202d3">Player::AddQuestAndCheckCompletion</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code hl_class" href="../../d3/dd0/a07804.html">Object</a>* questGiver)</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>{</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a583c1a4763502f74b9aa69f5b43fc9a6">AddQuest</a>(quest, questGiver);</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span> </div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()))</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span> </div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    <span class="keywordflow">if</span> (!questGiver)</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span> </div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    <span class="keywordflow">switch</span> (questGiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#a621a345fc34deed6d3a4e1e498a652da">GetTypeId</a>())</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2a93dfa528ffc48db4993fb7ac62696db9">TYPEID_UNIT</a>:</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>            <a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestAccept(<span class="keyword">this</span>, questGiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#ab0e2ef1ac1daa91476f749e0ec6ad3c6">ToCreature</a>(), quest);</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>            questGiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#ab0e2ef1ac1daa91476f749e0ec6ad3c6">ToCreature</a>()-&gt;<a class="code hl_function" href="../../dc/d6f/a07436.html#af2188eef9620b5af52ef2d3ac142db67">AI</a>()-&gt;<a class="code hl_function" href="../../d9/d19/a05804.html#a03076e2d142052af78e6d9e85f390fd1">sQuestAccept</a>(<span class="keyword">this</span>, quest);</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2ab2bcf0ba3fcc0090223bf840eda90b28">TYPEID_ITEM</a>:</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2afebf490e56b6f11276b1523008afa107">TYPEID_CONTAINER</a>:</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>            <a class="code hl_class" href="../../de/dbd/a07760.html">Item</a>* item = (<a class="code hl_class" href="../../de/dbd/a07760.html">Item</a>*)questGiver;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>            <a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestAccept(<span class="keyword">this</span>, item, quest);</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>            <span class="comment">// destroy not required for quest finish quest starting item</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>            <span class="keywordtype">bool</span> destroyItem = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>            {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>                <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i] == item-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>() &amp;&amp; item-&gt;<a class="code hl_function" href="../../de/dbd/a07760.html#a55223032f2942a6f46b10053afe8c73c">GetTemplate</a>()-&gt;<a class="code hl_variable" href="../../dc/d8f/a07784.html#a2c13c4c1edbd3add9c6e0e2263f6c717">MaxCount</a> &gt; 0)</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>                {</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                    destroyItem = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>                }</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>            }</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span> </div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            <span class="keywordflow">if</span> (destroyItem)</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>                <a class="code hl_function" href="../../df/d6a/a08044.html#a79e24bb7856e3631a8e3d1fd16fc744e">DestroyItem</a>(item-&gt;<a class="code hl_function" href="../../de/dbd/a07760.html#adfcfd40507681d503b6115ac3fc11a79">GetBagSlot</a>(), item-&gt;<a class="code hl_function" href="../../de/dbd/a07760.html#a04019a011a5f4df849f39b413df68295">GetSlot</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        }</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2a91b74ac7ebfe7909332a6eec5054c60d">TYPEID_GAMEOBJECT</a>:</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>            <a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestAccept(<span class="keyword">this</span>, questGiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#a96b380b13acdb406d552053cf775180f">ToGameObject</a>(), quest);</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>            questGiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#a96b380b13acdb406d552053cf775180f">ToGameObject</a>()-&gt;<a class="code hl_function" href="../../d7/dc7/a07748.html#a6c584d5d6a7e7d357d8d8975e967edd5">AI</a>()-&gt;<a class="code hl_function" href="../../d7/df8/a05736.html#a8459d37ce69b9a02c1ecd047ec704089">QuestAccept</a>(<span class="keyword">this</span>, quest);</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    }</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>}</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span> </div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a0a4dc5dbc656abdc90695b8dd643f1c7">  466</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a541838bee904b263239f051505a1498b">Player::CanRewardQuest</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reward, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>{</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    <span class="comment">// prevent receive reward with quest items in bank or for not completed quest</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/d6a/a08044.html#a541838bee904b263239f051505a1498b">CanRewardQuest</a>(quest, msg))</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> </div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <a class="code hl_typedef" href="../../da/dd8/a01265.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad0ccd9dbb5209c6e5a8b4f88703d1b24">GetRewChoiceItemsCount</a>() &gt; 0)</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    {</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>        <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a57886dc304657391b76080b4ca7c3176">RewardChoiceItemId</a>[reward])</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>        {</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>            <a class="code hl_enumeration" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> res = <a class="code hl_function" href="../../df/d6a/a08044.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a57886dc304657391b76080b4ca7c3176">RewardChoiceItemId</a>[reward], quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a822276910bf774ea9190c34b9a30fe5d">RewardChoiceItemCount</a>[reward]);</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>            <span class="keywordflow">if</span> (res != <a class="code hl_enumvalue" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>            {</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>                <a class="code hl_function" href="../../df/d6a/a08044.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(res, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a57886dc304657391b76080b4ca7c3176">RewardChoiceItemId</a>[reward]);</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>            }</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>        }</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    }</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span> </div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#acedf7709925beca7cfa576950ea952bf">GetRewItemsCount</a>() &gt; 0)</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#acedf7709925beca7cfa576950ea952bf">GetRewItemsCount</a>(); ++i)</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>        {</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>            <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aede7794218b0181207be14b07cda2b64">RewardItemId</a>[i])</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>            {</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>                <a class="code hl_enumeration" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> res = <a class="code hl_function" href="../../df/d6a/a08044.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aede7794218b0181207be14b07cda2b64">RewardItemId</a>[i], quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a3fe2654312995eeeb8940d7d2c70d6f3">RewardItemIdCount</a>[i]);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>                <span class="keywordflow">if</span> (res != <a class="code hl_enumvalue" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>                {</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(res, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aede7794218b0181207be14b07cda2b64">RewardItemId</a>[i]);</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                }</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>            }</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>        }</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    }</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span> </div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>}</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span> </div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a583c1a4763502f74b9aa69f5b43fc9a6">  505</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a583c1a4763502f74b9aa69f5b43fc9a6">Player::AddQuest</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code hl_class" href="../../d3/dd0/a07804.html">Object</a>* questGiver)</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>{</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code hl_function" href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(0);</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span> </div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    <span class="keywordflow">if</span> (log_slot &gt;= <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>) <span class="comment">// Player does not have any free slot in the quest log</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span> </div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>();</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span> </div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    <span class="comment">// if not exist then created with set uState == NEW and rewarded=false</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; questStatusData = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[quest_id];</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span> </div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="comment">// check for repeatable quests status reset</span></div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    questStatusData.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>;</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    questStatusData.<a class="code hl_variable" href="../../dd/d88/a09564.html#a734f6a61aa35c77689d33031e88f0c0b">Explored</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    {</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>            questStatusData.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[i] = 0;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    }</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27">QUEST_SPECIAL_FLAGS_KILL</a> | <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce">QUEST_SPECIAL_FLAGS_CAST</a> | <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7adaae331a9f2b83cc198f7bdd130fc3c8d8">QUEST_SPECIAL_FLAGS_SPEAKTO</a>))</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    {</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>            questStatusData.<a class="code hl_variable" href="../../dd/d88/a09564.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[i] = 0;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    }</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span> </div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7adaf684e0d6b4efab2cf6a32452b9bba335">QUEST_SPECIAL_FLAGS_PLAYER_KILL</a>))</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        questStatusData.<a class="code hl_variable" href="../../dd/d88/a09564.html#a170a1e54fe45b7fd0c7934f1309f7969">PlayerCount</a> = 0;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#acaa7aab48332b249ff546d123a9af85d">GiveQuestSourceItem</a>(quest);</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a887ee39fb5179132913f3907d504ca77">AdjustQuestReqItemCount</a>(quest, questStatusData);</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span> </div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a1c6aee64c4ebe888060dfc4a3b0ae974">GetRepObjectiveFaction</a>())</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../da/d98/a30124.html">FactionEntry</a> <span class="keyword">const</span>* factionEntry = <a class="code hl_variable" href="../../d9/d7c/a01073.html#a0fff35395ba871f73cf11434790780d7">sFactionStore</a>.LookupEntry(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a1c6aee64c4ebe888060dfc4a3b0ae974">GetRepObjectiveFaction</a>()))</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#af5e271a82ad1ba3d3b081b9774b7a5e5">GetReputationMgr</a>().<a class="code hl_function" href="../../dd/de1/a09572.html#a1c217a2d0b1f4f1079f9353294a37170">SetVisible</a>(factionEntry);</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span> </div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a31378cd54fb5bbe7cccbd47cdd06ac3b">GetRepObjectiveFaction2</a>())</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../da/d98/a30124.html">FactionEntry</a> <span class="keyword">const</span>* factionEntry = <a class="code hl_variable" href="../../d9/d7c/a01073.html#a0fff35395ba871f73cf11434790780d7">sFactionStore</a>.LookupEntry(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a31378cd54fb5bbe7cccbd47cdd06ac3b">GetRepObjectiveFaction2</a>()))</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#af5e271a82ad1ba3d3b081b9774b7a5e5">GetReputationMgr</a>().<a class="code hl_function" href="../../dd/de1/a09572.html#a1c217a2d0b1f4f1079f9353294a37170">SetVisible</a>(factionEntry);</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span> </div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> qtime = 0;</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab">QUEST_SPECIAL_FLAGS_TIMED</a>))</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    {</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> timeAllowed = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#af6c06e652199b8685e1d1688a3c8f33f">GetTimeAllowed</a>();</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span> </div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>        <span class="comment">// shared timed quest</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        <span class="keywordflow">if</span> (questGiver &amp;&amp; questGiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#a621a345fc34deed6d3a4e1e498a652da">GetTypeId</a>() == <a class="code hl_enumvalue" href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2aca37d750899c40a5743285ccda2bba9c">TYPEID_PLAYER</a>)</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>            timeAllowed = questGiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#a328d5f752cc33ed398b3d9861ef6929d">ToPlayer</a>()-&gt;<a class="code hl_function" href="../../df/d6a/a08044.html#a218f48b60269525adf800c1a7278f232">getQuestStatusMap</a>()[quest_id].Timer / <a class="code hl_variable" href="../../df/dc8/a00122.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span> </div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#af37c2193907bc6a6860b7e25954531e0">AddTimedQuest</a>(quest_id);</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        questStatusData.<a class="code hl_variable" href="../../dd/d88/a09564.html#a16343f7a162e5b7b6a1a18345420c77a">Timer</a> = timeAllowed * <a class="code hl_variable" href="../../df/dc8/a00122.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        qtime = <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d1/d55/a04496.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a>().count()) + timeAllowed;</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    }</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>        questStatusData.<a class="code hl_variable" href="../../dd/d88/a09564.html#a16343f7a162e5b7b6a1a18345420c77a">Timer</a> = 0;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a071cf4919b90266595fef826351f2d2a">HasFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a881ebe30fbf0f088d54bfa959cefe47ca16e6bbf1bd0e4cc59521b0e5e4ed670e">QUEST_FLAGS_FLAGS_PVP</a>))</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>    {</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>        <a class="code hl_variable" href="../../df/d6a/a08044.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code hl_variable" href="../../d8/d44/a07992.html#a22a1c8f0e8c51f4a27cb8ab362028d61">IsHostile</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a583d3a68188487a3952dc9e6bd1a1c76">UpdatePvPState</a>();</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>    }</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span> </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a92675cf0a2e48ee6d04764081743b8ea">SetQuestSlot</a>(log_slot, quest_id, qtime);</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span> </div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    <a class="code hl_variable" href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[quest_id] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span> </div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a10c732bc343e1f9b0de50865bb2ba577">StartTimedAchievement</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a04247.html#a282f094fb8ee80177dd57d2086ddd35bade60c4178807ba9725dbc89de211259d">ACHIEVEMENT_TIMED_TYPE_QUEST</a>, quest_id);</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span> </div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a71e5ab0c8c5ba33eb6c36a2300065823">SendQuestUpdate</a>(quest_id);</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span> </div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="comment">// check if Quest Tracker is enabled</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d3/d74/a04418.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/d6f/a02234.html#a1b4b88c03b7d0124998b4c22e957baf0adb4253fa69e835b574c8407d084c38a3">CONFIG_QUEST_ENABLE_QUEST_TRACKER</a>))</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    {</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>        <span class="comment">// prepare Quest Tracker datas</span></div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        <span class="keyword">auto</span> stmt = <a class="code hl_variable" href="../../d9/d19/a00560.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../dc/d25/a00596.html#a76116b4fa282d8e35bf8f8e940b5cba7ac9ebca48fcfc7fd698951925c55a36fe">CHAR_INS_QUEST_TRACK</a>);</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        stmt-&gt;SetData(0, quest_id);</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        stmt-&gt;SetData(1, <a class="code hl_function" href="../../d3/dd0/a07804.html#ae65fbd7720a9aa448516f6cf494bda67">GetGUID</a>().GetCounter());</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>        stmt-&gt;SetData(2, <a class="code hl_function" href="../../d7/dad/a04438.html#addcf1401768f04ea13a6e868d9580605">GitRevision::GetHash</a>());</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        stmt-&gt;SetData(3, <a class="code hl_function" href="../../d7/dad/a04438.html#a10817e6a26ea352c0f79233d2ef552a8">GitRevision::GetDate</a>());</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span> </div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>        <span class="comment">// add to Quest Tracker</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        <a class="code hl_variable" href="../../d9/d19/a00560.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    }</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span> </div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <span class="comment">// Xinef: area auras may change on quest accept!</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#ab3a73c835c52cd903ab0112a5bc4e7f0">UpdateZoneDependentAuras</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a6dea805c714a08cb8972769c3f343bb9">UpdateAreaDependentAuras</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>());</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>}</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span> </div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">  596</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">Player::CompleteQuest</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>{</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <span class="keywordflow">if</span> (!quest_id)</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    {</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    }</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span> </div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnBeforePlayerQuestComplete(<span class="keyword">this</span>, quest_id))</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    {</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    }</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span> </div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#ad32f3a3ec1be51826e04097db7a69620">SetQuestStatus</a>(quest_id, <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>);</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span> </div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <span class="keyword">auto</span> log_slot = <a class="code hl_function" href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(quest_id);</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <span class="keywordflow">if</span> (log_slot &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    {</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a9a1e2b927ca66d8bc57d3c009a192397">SetQuestSlotState</a>(log_slot, <a class="code hl_enumvalue" href="../../da/dd8/a01265.html#a2d079af58ae5bf704ea2b958307a5196a61b0594f1dd162d5a1dcff7103cecfc2">QUEST_STATE_COMPLETE</a>);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    }</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span> </div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    <span class="keywordflow">if</span> (qInfo &amp;&amp; qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a071cf4919b90266595fef826351f2d2a">HasFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a881ebe30fbf0f088d54bfa959cefe47ca00e51fd29f4182b118050cb8863b02bb">QUEST_FLAGS_TRACKING</a>))</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    {</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#ad0a1439167b4634cfd0745dc4310521e">RewardQuest</a>(qInfo, 0, <span class="keyword">this</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    }</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span> </div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>    <span class="comment">// Xinef: area auras may change on quest completion!</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#ab3a73c835c52cd903ab0112a5bc4e7f0">UpdateZoneDependentAuras</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a6dea805c714a08cb8972769c3f343bb9">UpdateAreaDependentAuras</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>());</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code hl_enumvalue" href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755a0e79848772fb35db024b1d9cfd8a55b2">ADDITIONAL_SAVING_INVENTORY_AND_GOLD</a> | <a class="code hl_enumvalue" href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span> </div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    <span class="comment">// check if Quest Tracker is enabled</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d3/d74/a04418.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/d6f/a02234.html#a1b4b88c03b7d0124998b4c22e957baf0adb4253fa69e835b574c8407d084c38a3">CONFIG_QUEST_ENABLE_QUEST_TRACKER</a>))</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    {</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <span class="comment">// prepare Quest Tracker datas</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        <span class="keyword">auto</span> stmt = <a class="code hl_variable" href="../../d9/d19/a00560.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../dc/d25/a00596.html#a76116b4fa282d8e35bf8f8e940b5cba7a1d30572a7f06c2e359c143d8e8fc6c7a">CHAR_UPD_QUEST_TRACK_COMPLETE_TIME</a>);</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        stmt-&gt;SetData(0, quest_id);</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>        stmt-&gt;SetData(1, <a class="code hl_function" href="../../d3/dd0/a07804.html#ae65fbd7720a9aa448516f6cf494bda67">GetGUID</a>().GetCounter());</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span> </div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <span class="comment">// add to Quest Tracker</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        <a class="code hl_variable" href="../../d9/d19/a00560.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    }</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>}</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span> </div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a23321f70f6954313a691f35ce93d2794">  640</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a23321f70f6954313a691f35ce93d2794">Player::IncompleteQuest</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>{</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>    <span class="keywordflow">if</span> (quest_id)</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    {</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#ad32f3a3ec1be51826e04097db7a69620">SetQuestStatus</a>(quest_id, <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>);</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span> </div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code hl_function" href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(quest_id);</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        <span class="keywordflow">if</span> (log_slot &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a7003bb11837e1583fbd9aa0606e3c22f">RemoveQuestSlotState</a>(log_slot, <a class="code hl_enumvalue" href="../../da/dd8/a01265.html#a2d079af58ae5bf704ea2b958307a5196a61b0594f1dd162d5a1dcff7103cecfc2">QUEST_STATE_COMPLETE</a>);</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span> </div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>        <span class="comment">// Xinef: area auras may change on quest completion!</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#ab3a73c835c52cd903ab0112a5bc4e7f0">UpdateZoneDependentAuras</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a6dea805c714a08cb8972769c3f343bb9">UpdateAreaDependentAuras</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>());</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code hl_enumvalue" href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    }</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>}</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span> </div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ad0a1439167b4634cfd0745dc4310521e">  657</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ad0a1439167b4634cfd0745dc4310521e">Player::RewardQuest</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reward, <a class="code hl_class" href="../../d3/dd0/a07804.html">Object</a>* questGiver, <span class="keywordtype">bool</span> announce, <span class="keywordtype">bool</span> isLFGReward)</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>{</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <span class="comment">//this THING should be here to protect code from quest, which cast on player far teleport as a reward</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    <span class="comment">//should work fine, cause far teleport will be executed in Player::Update()</span></div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#aec4b723fc85478c4fec8f468a130d9c0">SetMustDelayTeleport</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span> </div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>();</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span> </div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    {</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i]))</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>        {</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i], quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i], <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        }</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    }</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#acf2c83159c7b7d9270380dafa7ab8d11">QUEST_SOURCE_ITEM_IDS_COUNT</a>; ++i)</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    {</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a5f22941fdb30fd269c0cf7ddab97e918">ItemDrop</a>[i]))</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        {</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a5f22941fdb30fd269c0cf7ddab97e918">ItemDrop</a>[i], quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a05de2206c2a4c7761851f87c81842ace">ItemDropQuantity</a>[i], <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>        }</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    }</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span> </div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#aca986a0702330f87627116816b5c0a92">RemoveTimedQuest</a>(quest_id);</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    std::vector&lt;std::pair&lt;uint32, uint32&gt;&gt; problematicItems;</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad0ccd9dbb5209c6e5a8b4f88703d1b24">GetRewChoiceItemsCount</a>())</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    {</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> itemId = quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a57886dc304657391b76080b4ca7c3176">RewardChoiceItemId</a>[reward])</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>        {</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>            <a class="code hl_typedef" href="../../da/dd8/a01265.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, itemId, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a822276910bf774ea9190c34b9a30fe5d">RewardChoiceItemCount</a>[reward]) == <a class="code hl_enumvalue" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>            {</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>                <a class="code hl_class" href="../../de/dbd/a07760.html">Item</a>* item = <a class="code hl_function" href="../../df/d6a/a08044.html#ac996a41fc3f89d8683de8695bb7db13c">StoreNewItem</a>(dest, itemId, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>                <a class="code hl_function" href="../../df/d6a/a08044.html#a9b1ad78b229913ff669912d2fb80c6e0">SendNewItem</a>(item, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a822276910bf774ea9190c34b9a30fe5d">RewardChoiceItemCount</a>[reward], <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span> </div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>                <a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestRewardItem(<span class="keyword">this</span>, item, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a822276910bf774ea9190c34b9a30fe5d">RewardChoiceItemCount</a>[reward]);</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>            }</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>            {</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>                problematicItems.emplace_back(itemId, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a822276910bf774ea9190c34b9a30fe5d">RewardChoiceItemCount</a>[reward]);</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>            }</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>        }</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    }</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span> </div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#acedf7709925beca7cfa576950ea952bf">GetRewItemsCount</a>())</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    {</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#acedf7709925beca7cfa576950ea952bf">GetRewItemsCount</a>(); ++i)</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>        {</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>            <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> itemId = quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aede7794218b0181207be14b07cda2b64">RewardItemId</a>[i])</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>            {</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>                <a class="code hl_typedef" href="../../da/dd8/a01265.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, itemId, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a3fe2654312995eeeb8940d7d2c70d6f3">RewardItemIdCount</a>[i]) == <a class="code hl_enumvalue" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>                {</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>                    <a class="code hl_class" href="../../de/dbd/a07760.html">Item</a>* item = <a class="code hl_function" href="../../df/d6a/a08044.html#ac996a41fc3f89d8683de8695bb7db13c">StoreNewItem</a>(dest, itemId, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#a9b1ad78b229913ff669912d2fb80c6e0">SendNewItem</a>(item, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a3fe2654312995eeeb8940d7d2c70d6f3">RewardItemIdCount</a>[i], <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span> </div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>                    <a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestRewardItem(<span class="keyword">this</span>, item, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a3fe2654312995eeeb8940d7d2c70d6f3">RewardItemIdCount</a>[i]);</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>                }</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>                    problematicItems.emplace_back(itemId, quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a3fe2654312995eeeb8940d7d2c70d6f3">RewardItemIdCount</a>[i]);</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>            }</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>        }</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    }</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span> </div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    <span class="comment">// Xinef: send items that couldn&#39;t be added properly by mail</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    <span class="keywordflow">if</span> (!problematicItems.empty())</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    {</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a5287085841b4a0e311f7dd0ea20f61af">SendItemRetrievalMail</a>(problematicItems);</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>    }</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span> </div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#acb2677536aca2865da4e6ceea0d3f3bf">RewardReputation</a>(quest);</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span> </div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code hl_function" href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(quest_id);</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    <span class="keywordflow">if</span> (log_slot &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a92675cf0a2e48ee6d04764081743b8ea">SetQuestSlot</a>(log_slot, 0);</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span> </div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    <span class="keywordtype">bool</span> rewarded = <a class="code hl_function" href="../../df/d6a/a08044.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(quest_id) &amp;&amp; !quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a62deb059ae37d23ad11c985b8a8ed792">IsDFQuest</a>();</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span> </div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    <span class="comment">// Not give XP in case already completed once repeatable quest</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> XP = rewarded ? 0 : <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad0c0f5ed540531ae8efb8316b0509181">XPValue</a>(<a class="code hl_function" href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>()) * <a class="code hl_function" href="../../df/d6a/a08044.html#a9ea72cbc30ce91ae6ca1b5b03536737a">GetQuestRate</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a62deb059ae37d23ad11c985b8a8ed792">IsDFQuest</a>()));</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>    <span class="comment">// handle SPELL_AURA_MOD_XP_QUEST_PCT auras</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    <a class="code hl_typedef" href="../../db/d54/a08188.html#adcdd87d0c137619dfc869536c1315dd7">Unit::AuraEffectList</a> <span class="keyword">const</span>&amp; ModXPPctAuras = <a class="code hl_function" href="../../db/d54/a08188.html#a0b6417e1489c3f2e1ced1e0384d48ff8">GetAuraEffectsByType</a>(<a class="code hl_enumvalue" href="../../d9/dff/a02099.html#a538cdc259460b365f406fe0b3a981799a572e146e74f47d8f6f5c45b2a8163559">SPELL_AURA_MOD_XP_QUEST_PCT</a>);</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    <span class="keywordflow">for</span> (Unit::AuraEffectList::const_iterator i = ModXPPctAuras.begin(); i != ModXPPctAuras.end(); ++i)</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>        <a class="code hl_function" href="../../d4/d1f/a00506.html#a53176b459b4462b058b2a1be47ef82ee">AddPct</a>(XP, (*i)-&gt;GetAmount());</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span> </div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>    <a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestComputeXP(<span class="keyword">this</span>, quest, XP);</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> moneyRew = 0;</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() &gt;= <a class="code hl_define" href="../../d3/d74/a04418.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/d6f/a02234.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a>) || <a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;ShouldBeRewardedWithMoneyInsteadOfExp(<span class="keyword">this</span>))</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>    {</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>        moneyRew = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a0ce0eac987fc5e0d7424d05d3e36ceca">GetRewMoneyMaxLevel</a>();</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>    }</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    {</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a876f4504de04e561d10d3cb2282ea08c">GiveXP</a>(XP, <span class="keyword">nullptr</span>, isLFGReward);</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>    }</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span> </div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    <span class="comment">// Give player extra money if GetRewOrReqMoney &gt; 0 and get ReqMoney if negative</span></div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> rewOrReqMoney = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad52228188a1e225f7b26dd0a16967994">GetRewOrReqMoney</a>(<a class="code hl_function" href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>()))</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>    {</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        moneyRew += rewOrReqMoney;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>    }</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span> </div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    <span class="keywordflow">if</span> (moneyRew)</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    {</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a46351fb555db3b97fc531f215d2d2338">ModifyMoney</a>(moneyRew);</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span> </div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>        <span class="keywordflow">if</span> (moneyRew &gt; 0)</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19a7a228f44074f44bec4ca6be425933516">ACHIEVEMENT_CRITERIA_TYPE_MONEY_FROM_QUEST_REWARD</a>, <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(moneyRew));</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    }</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span> </div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    <span class="comment">// honor reward</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> honor = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a93e369e74db8a06214df0ded5731e925">CalculateHonorGain</a>(<a class="code hl_function" href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>()))</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a030b9e0a5adc82692f438c8a7109da6c">RewardHonor</a>(<span class="keyword">nullptr</span>, 0, honor);</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span> </div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    <span class="comment">// title reward</span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a38e904dcfcbdca8aa66b61c3eb1f5846">GetCharTitleId</a>())</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    {</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d2/d45/a30048.html">CharTitlesEntry</a> <span class="keyword">const</span>* titleEntry = <a class="code hl_variable" href="../../d9/d7c/a01073.html#a06f45c5687b0ce227eb9f147389de967">sCharTitlesStore</a>.LookupEntry(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a38e904dcfcbdca8aa66b61c3eb1f5846">GetCharTitleId</a>()))</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#aab6ea43cb3184a4503f019f7f518c7aa">SetTitle</a>(titleEntry);</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    }</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span> </div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aefa1e253b25eb7e6a0239f14dda98ffc">GetBonusTalents</a>())</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    {</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>        <a class="code hl_variable" href="../../df/d6a/a08044.html#ac960994f0346b8ca89cc61aa6b74cf53">m_questRewardTalentCount</a> += quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aefa1e253b25eb7e6a0239f14dda98ffc">GetBonusTalents</a>();</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a1b2ca1d80df0e35eb06c77844ff6cf49">InitTalentForLevel</a>();</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    }</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> </div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a040b23aa9d248980540640a5dcac3cf5">GetRewArenaPoints</a>())</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#ac10984e94763eda3478a22aa8e6dd8b3">ModifyArenaPoints</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a040b23aa9d248980540640a5dcac3cf5">GetRewArenaPoints</a>());</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span> </div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>    <span class="comment">// Send reward mail</span></div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> mail_template_id = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a2689be1a4799b2e9f1e456d2f4a1ec5b">GetRewMailTemplateId</a>())</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>    {</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>        <span class="comment">//- TODO: Poor design of mail system</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>        <a class="code hl_typedef" href="../../d0/d3e/a00566.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d9/d19/a00560.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>        <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a123c8907addf478087674d1108e8c290">GetRewMailSenderEntry</a>() != 0)</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>            <a class="code hl_class" href="../../d1/da1/a09080.html">MailDraft</a>(mail_template_id).<a class="code hl_function" href="../../d1/da1/a09080.html#aaee8965aaa66351954bdc7db246151d7">SendMailTo</a>(trans, <span class="keyword">this</span>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a123c8907addf478087674d1108e8c290">GetRewMailSenderEntry</a>(), <a class="code hl_enumvalue" href="../../d6/d82/a01565.html#a0409511b5ca7192d457a7e550a1c6e26a348c2227a2767173436f2f88dfe37716">MAIL_CHECK_MASK_HAS_BODY</a>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aaaa75cd3de5c25120c3d710bbf52154c">GetRewMailDelaySecs</a>());</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            <a class="code hl_class" href="../../d1/da1/a09080.html">MailDraft</a>(mail_template_id).<a class="code hl_function" href="../../d1/da1/a09080.html#aaee8965aaa66351954bdc7db246151d7">SendMailTo</a>(trans, <span class="keyword">this</span>, questGiver, <a class="code hl_enumvalue" href="../../d6/d82/a01565.html#a0409511b5ca7192d457a7e550a1c6e26a348c2227a2767173436f2f88dfe37716">MAIL_CHECK_MASK_HAS_BODY</a>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aaaa75cd3de5c25120c3d710bbf52154c">GetRewMailDelaySecs</a>());</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>        <a class="code hl_variable" href="../../d9/d19/a00560.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    }</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span> </div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aab14227810deb46be3e04f3fb43eab05">IsDaily</a>() || quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a62deb059ae37d23ad11c985b8a8ed792">IsDFQuest</a>())</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    {</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a8bac7edc1e6c0ebcbd3b75090c434cd3">SetDailyQuestStatus</a>(quest_id);</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>        <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aab14227810deb46be3e04f3fb43eab05">IsDaily</a>())</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>        {</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19a3bdab46e91e8fb2c068ce0042617f0c3">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST</a>, quest_id);</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19a0f567a2ca32349130eaddba38ff93636">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST_DAILY</a>, quest_id);</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>        }</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    }</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad655d2ab2988cbc70c17a53f27aa84dc">IsWeekly</a>())</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#aadc3aa4a32a272c806b46ae077e13951">SetWeeklyQuestStatus</a>(quest_id);</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aec34a6498bb385e4ee734fa54d0d9643">IsMonthly</a>())</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a4c5c78979c1df40929dc1ce44c5f6daf">SetMonthlyQuestStatus</a>(quest_id);</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>())</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a51452c4c6e6c2f8eb13dc66dfb5e8ba4">SetSeasonalQuestStatus</a>(quest_id);</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span> </div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#ab702c2acc0393baed9ac829435a10b03">RemoveActiveQuest</a>(quest_id, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    <a class="code hl_variable" href="../../df/d6a/a08044.html#a904aeb6ca88d6996e7c3f3ba96b9d274">m_RewardedQuests</a>.insert(quest_id);</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    <a class="code hl_variable" href="../../df/d6a/a08044.html#af3bfe54e63e3e08602f01e187ccedb7a">m_RewardedQuestsSave</a>[quest_id] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span> </div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>    <span class="keywordflow">if</span> (announce)</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a722631a3f64dd62b5f8db9114051e4cf">SendQuestReward</a>(quest, XP);</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span> </div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    <span class="comment">// cast spells after mark quest complete (some spells have quest completed state requirements in spell_area data)</span></div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ae8a2cf843cd8c423ed4116d53a5bd098">GetRewSpellCast</a>() &gt; 0)</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    {</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        <a class="code hl_class" href="../../d8/d22/a10536.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_define" href="../../db/df6/a02138.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ae8a2cf843cd8c423ed4116d53a5bd098">GetRewSpellCast</a>());</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>        <span class="keywordflow">if</span> (questGiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#a7253dbcbed15f5f1190c5cc56d141610">isType</a>(<a class="code hl_enumvalue" href="../../d9/d31/a01208.html#acfe503ba26d8a881f16958aaafd431e1a611a6f19a7f885d824ea5be71ffca2de">TYPEMASK_UNIT</a>) &amp;&amp; !spellInfo-&gt;<a class="code hl_function" href="../../d8/d22/a10536.html#ad66dd61ba67ee1626e7e8393f0c27498">HasEffect</a>(<a class="code hl_enumvalue" href="../../d9/d4e/a04307.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a>) &amp;&amp; !spellInfo-&gt;<a class="code hl_function" href="../../d8/d22/a10536.html#ad66dd61ba67ee1626e7e8393f0c27498">HasEffect</a>(<a class="code hl_enumvalue" href="../../d9/d4e/a04307.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a>) &amp;&amp; !spellInfo-&gt;<a class="code hl_function" href="../../d8/d22/a10536.html#a6af41c5dfe2fc8a6e18d010bcb924dc9">IsSelfCast</a>())</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        {</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dc/d6f/a07436.html">Creature</a>* creature = <a class="code hl_function" href="../../d7/d14/a07836.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>()-&gt;GetCreature(questGiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>                creature-&gt;CastSpell(<span class="keyword">this</span>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ae8a2cf843cd8c423ed4116d53a5bd098">GetRewSpellCast</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        }</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>            <a class="code hl_function" href="../../db/d54/a08188.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(<span class="keyword">this</span>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ae8a2cf843cd8c423ed4116d53a5bd098">GetRewSpellCast</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>    }</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a0a844c9747f60175e1395b63a01e324c">GetRewSpell</a>() &gt; 0)</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>    {</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>        <a class="code hl_class" href="../../d8/d22/a10536.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_define" href="../../db/df6/a02138.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a0a844c9747f60175e1395b63a01e324c">GetRewSpell</a>());</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>        <span class="keywordflow">if</span> (questGiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#a7253dbcbed15f5f1190c5cc56d141610">isType</a>(<a class="code hl_enumvalue" href="../../d9/d31/a01208.html#acfe503ba26d8a881f16958aaafd431e1a611a6f19a7f885d824ea5be71ffca2de">TYPEMASK_UNIT</a>) &amp;&amp; !spellInfo-&gt;<a class="code hl_function" href="../../d8/d22/a10536.html#ad66dd61ba67ee1626e7e8393f0c27498">HasEffect</a>(<a class="code hl_enumvalue" href="../../d9/d4e/a04307.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a>) &amp;&amp; !spellInfo-&gt;<a class="code hl_function" href="../../d8/d22/a10536.html#ad66dd61ba67ee1626e7e8393f0c27498">HasEffect</a>(<a class="code hl_enumvalue" href="../../d9/d4e/a04307.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a>) &amp;&amp; !spellInfo-&gt;<a class="code hl_function" href="../../d8/d22/a10536.html#a6af41c5dfe2fc8a6e18d010bcb924dc9">IsSelfCast</a>())</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>        {</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dc/d6f/a07436.html">Creature</a>* creature = <a class="code hl_function" href="../../d7/d14/a07836.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>()-&gt;GetCreature(questGiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>                creature-&gt;CastSpell(<span class="keyword">this</span>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a0a844c9747f60175e1395b63a01e324c">GetRewSpell</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>        }</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>            <a class="code hl_function" href="../../db/d54/a08188.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(<span class="keyword">this</span>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a0a844c9747f60175e1395b63a01e324c">GetRewSpell</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    }</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span> </div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a72ab8dd7b90b7aaf183a11e9da4cdcaf">GetZoneOrSort</a>() &gt; 0)</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19a07c4265f9d6dea6c3f0c432a22079860">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUESTS_IN_ZONE</a>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a72ab8dd7b90b7aaf183a11e9da4cdcaf">GetZoneOrSort</a>());</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19a160b2b4466f5bd5f7df6afc9115cf1f6">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST_COUNT</a>);</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19aab6b86cbbba4147c7278f97bc49c21e4">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST</a>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span> </div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    <span class="comment">// pussywizard: replaced partial save with full save</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a017c8a9f126945990cedc63b5567af0b">SaveToDB</a>(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span> </div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a071cf4919b90266595fef826351f2d2a">HasFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a881ebe30fbf0f088d54bfa959cefe47ca16e6bbf1bd0e4cc59521b0e5e4ed670e">QUEST_FLAGS_FLAGS_PVP</a>))</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    {</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>        <a class="code hl_variable" href="../../df/d6a/a08044.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code hl_variable" href="../../d8/d44/a07992.html#a22a1c8f0e8c51f4a27cb8ab362028d61">IsHostile</a> = <a class="code hl_variable" href="../../df/d6a/a08044.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code hl_variable" href="../../d8/d44/a07992.html#a92d3c8991f7e3c5d683b414d18cbbd64">IsInHostileArea</a> || <a class="code hl_function" href="../../df/d6a/a08044.html#a144a3a724d55073438501522b396bc44">HasPvPForcingQuest</a>();</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a583d3a68188487a3952dc9e6bd1a1c76">UpdatePvPState</a>();</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    }</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span> </div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a71e5ab0c8c5ba33eb6c36a2300065823">SendQuestUpdate</a>(quest_id);</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span> </div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#ae9eca1b0ef6f9a14e65d8a167cdf8e66">SendQuestGiverStatusMultiple</a>();</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span> </div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>    <span class="comment">//lets remove flag for delayed teleports</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#aec4b723fc85478c4fec8f468a130d9c0">SetMustDelayTeleport</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span> </div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>    <span class="comment">// Xinef: area auras may change on quest completion!</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#ab3a73c835c52cd903ab0112a5bc4e7f0">UpdateZoneDependentAuras</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a6dea805c714a08cb8972769c3f343bb9">UpdateAreaDependentAuras</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>());</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span> </div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    <a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnPlayerCompleteQuest(<span class="keyword">this</span>, quest);</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>}</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span> </div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ac66aea564f92c5f3c38d5819a0a0b4e4">  877</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ac66aea564f92c5f3c38d5819a0a0b4e4">Player::FailQuest</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>{</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId))</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    {</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>        <a class="code hl_enumeration" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> qStatus = <a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(questId);</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>        <span class="comment">// xinef: if quest is marked as failed, dont do it again</span></div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>        <span class="keywordflow">if</span> (qStatus != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span> </div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#ad32f3a3ec1be51826e04097db7a69620">SetQuestStatus</a>(questId, <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a8e2ffb80a87da63793e4122d9b73cf8b">QUEST_STATUS_FAILED</a>);</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span> </div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code hl_function" href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(questId);</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span> </div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>        <span class="keywordflow">if</span> (log_slot &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>        {</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#aa0e09138bf609a7cf32ada4026aab833">SetQuestSlotTimer</a>(log_slot, 1);</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a9a1e2b927ca66d8bc57d3c009a192397">SetQuestSlotState</a>(log_slot, <a class="code hl_enumvalue" href="../../da/dd8/a01265.html#a2d079af58ae5bf704ea2b958307a5196a94e8ba97d7ae5f33b87bab4d23ffb39f">QUEST_STATE_FAIL</a>);</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        }</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span> </div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        <span class="keywordflow">if</span> (quest-&gt;HasSpecialFlag(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab">QUEST_SPECIAL_FLAGS_TIMED</a>))</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>        {</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>            <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; q_status = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questId];</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span> </div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#aca986a0702330f87627116816b5c0a92">RemoveTimedQuest</a>(questId);</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>            q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a16343f7a162e5b7b6a1a18345420c77a">Timer</a> = 0;</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span> </div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a572b6465151408484c3bf84bb3f946a3">SendQuestTimerFailed</a>(questId);</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>        }</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a6b0668bfae62da5119dbc080d2c3c7f5">SendQuestFailed</a>(questId);</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span> </div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        <span class="comment">// Destroy quest items on quest failure.</span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../dc/d8f/a07784.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;RequiredItemId[i]))</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>                <span class="keywordflow">if</span> (quest-&gt;RequiredItemCount[i] &gt; 0 &amp;&amp; itemTemplate-&gt;Bonding == <a class="code hl_enumvalue" href="../../dd/d43/a01193.html#aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3">BIND_QUEST_ITEM</a>)</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;RequiredItemId[i], quest-&gt;RequiredItemCount[i], <span class="keyword">true</span>);</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span> </div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#acf2c83159c7b7d9270380dafa7ab8d11">QUEST_SOURCE_ITEM_IDS_COUNT</a>; ++i)</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../dc/d8f/a07784.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;ItemDrop[i]))</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>                <span class="keywordflow">if</span> (quest-&gt;ItemDropQuantity[i] &gt; 0 &amp;&amp; itemTemplate-&gt;Bonding == <a class="code hl_enumvalue" href="../../dd/d43/a01193.html#aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3">BIND_QUEST_ITEM</a>)</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;ItemDrop[i], quest-&gt;ItemDropQuantity[i], <span class="keyword">true</span>);</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>    }</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>}</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span> </div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ad7da6786f5e1327b2c1e7614c9a5b1be">  921</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ad7da6786f5e1327b2c1e7614c9a5b1be">Player::AbandonQuest</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>{</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId))</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    {</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>        <span class="comment">// It will Destroy quest items on quests abandons.</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../dc/d8f/a07784.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;RequiredItemId[i]))</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>                <span class="keywordflow">if</span> (quest-&gt;RequiredItemCount[i] &gt; 0 &amp;&amp; itemTemplate-&gt;Bonding == <a class="code hl_enumvalue" href="../../dd/d43/a01193.html#aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3">BIND_QUEST_ITEM</a>)</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;RequiredItemId[i], quest-&gt;RequiredItemCount[i], <span class="keyword">true</span>);</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span> </div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#acf2c83159c7b7d9270380dafa7ab8d11">QUEST_SOURCE_ITEM_IDS_COUNT</a>; ++i)</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../dc/d8f/a07784.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;ItemDrop[i]))</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>                <span class="keywordflow">if</span> (quest-&gt;ItemDropQuantity[i] &gt; 0 &amp;&amp; itemTemplate-&gt;Bonding == <a class="code hl_enumvalue" href="../../dd/d43/a01193.html#aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3">BIND_QUEST_ITEM</a>)</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;ItemDrop[i], quest-&gt;ItemDropQuantity[i], <span class="keyword">true</span>);</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    }</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>}</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span> </div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#abd1902419170116dee3064afbd492f0f">  938</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#abd1902419170116dee3064afbd492f0f">Player::SatisfyQuestSkill</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> skill = qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#acff09432e075b85f9e9618a695ab952a">GetRequiredSkill</a>();</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span> </div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <span class="comment">// skip 0 case RequiredSkill</span></div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    <span class="keywordflow">if</span> (skill == 0)</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span> </div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    <span class="comment">// check skill value</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#a2b7579cb973f79b2886702c96721f594">GetSkillValue</a>(skill) &lt; qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a9acac091142788ff249f56b7e1020f03">GetRequiredSkillValue</a>())</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    {</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span> </div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>    }</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span> </div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>}</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span> </div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#aa741d2df6cdf7e02b63b46d2a58f609a">  958</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#aa741d2df6cdf7e02b63b46d2a58f609a">Player::SatisfyQuestLevel</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() &lt; qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a4355a8343017eb1059657dbd2bd13694">GetMinLevel</a>())</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    {</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa8c7847cc142b47d740a77d44a9a359f2">INVALIDREASON_QUEST_FAILED_LOW_LEVEL</a>);</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>    }</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a3aa437e753c20123a86b29d12f2f05e2">GetMaxLevel</a>() &gt; 0 &amp;&amp; <a class="code hl_function" href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() &gt; qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a3aa437e753c20123a86b29d12f2f05e2">GetMaxLevel</a>())</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    {</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>); <span class="comment">// There doesn&#39;t seem to be a specific response for too high player level</span></div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>    }</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>}</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span> </div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a9db7bf014aa6b541253cef245cc34948">  975</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a9db7bf014aa6b541253cef245cc34948">Player::SatisfyQuestLog</a>(<span class="keywordtype">bool</span> msg)</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>{</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    <span class="comment">// exist free slot</span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(0) &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span> </div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>    <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    {</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>        <a class="code hl_class" href="../../d1/dac/a10340.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba30c98574a0018ff7c9728bf1cfe66554">SMSG_QUESTLOG_FULL</a>, 0);</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>        <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTLOG_FULL&quot;</span>);</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>    }</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>}</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span> </div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ab38d56b364dfd74d7b6a88d08ecdf072">  990</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ab38d56b364dfd74d7b6a88d08ecdf072">Player::SatisfyQuestPreviousQuest</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>    <span class="comment">// No previous quest (might be first quest in a series)</span></div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#ab73acadcd0a76dd4470c4796aa04a8e9">prevQuests</a>.empty())</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span> </div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    <span class="keywordflow">for</span> (Quest::PrevQuests::const_iterator iter = qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#ab73acadcd0a76dd4470c4796aa04a8e9">prevQuests</a>.begin(); iter != qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#ab73acadcd0a76dd4470c4796aa04a8e9">prevQuests</a>.end(); ++iter)</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    {</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> prevId = std::abs(*iter);</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span> </div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qPrevInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(prevId);</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span> </div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>        <span class="keywordflow">if</span> (qPrevInfo)</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>        {</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>            <span class="comment">// If any of the positive previous quests completed, return true</span></div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>            <span class="keywordflow">if</span> (*iter &gt; 0 &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(prevId) &amp;&amp; (!qPrevInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>() || !<a class="code hl_function" href="../../df/d6a/a08044.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(qPrevInfo, <span class="keyword">false</span>)))</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>            {</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>                <span class="comment">// skip one-from-all exclusive group</span></div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>                <span class="keywordflow">if</span> (qPrevInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>() &gt;= 0)</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span> </div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>                <span class="comment">// each-from-all exclusive group (&lt; 0)</span></div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>                <span class="comment">// can be start if only all quests in prev quest exclusive group completed and rewarded</span></div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>                <a class="code hl_typedef" href="../../d8/d05/a08464.html#a4143a2afd52e788bd0bd82193ef41701">ObjectMgr::ExclusiveQuestGroupsBounds</a> range(<a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;mExclusiveQuestGroups.equal_range(qPrevInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>()));</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span> </div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>                <span class="keywordflow">for</span> (; range.first != range.second; ++range.first)</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>                {</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>                    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> exclude_Id = range.first-&gt;second;</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span> </div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>                    <span class="comment">// skip checked quest id, only state of other quests in group is interesting</span></div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>                    <span class="keywordflow">if</span> (exclude_Id == prevId)</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span> </div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>                    <span class="comment">// alternative quest from group also must be completed and rewarded(reported)</span></div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span> </div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>                    <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qExcludeInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(exclude_Id);</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/d6a/a08044.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(exclude_Id) || (qExcludeInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>() &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(qExcludeInfo, <span class="keyword">false</span>)))</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>                    {</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>                        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>                            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>                    }</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>                }</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>            }</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span> </div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>            <span class="comment">// If any of the negative previous quests active, return true</span></div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>            <span class="keywordflow">if</span> (*iter &lt; 0 &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(prevId) != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>            {</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>                <span class="comment">// skip one-from-all exclusive group</span></div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>                <span class="keywordflow">if</span> (qPrevInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>() &gt;= 0)</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span> </div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>                <span class="comment">// each-from-all exclusive group (&lt; 0)</span></div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>                <span class="comment">// can be start if only all quests in prev quest exclusive group active</span></div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>                <a class="code hl_typedef" href="../../d8/d05/a08464.html#a4143a2afd52e788bd0bd82193ef41701">ObjectMgr::ExclusiveQuestGroupsBounds</a> range(<a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;mExclusiveQuestGroups.equal_range(qPrevInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>()));</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span> </div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>                <span class="keywordflow">for</span> (; range.first != range.second; ++range.first)</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>                {</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>                    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> exclude_Id = range.first-&gt;second;</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span> </div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>                    <span class="comment">// skip checked quest id, only state of other quests in group is interesting</span></div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>                    <span class="keywordflow">if</span> (exclude_Id == prevId)</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span> </div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>                    <span class="comment">// alternative quest from group also must be active</span></div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(exclude_Id) != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>                    {</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>                        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>                            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>                    }</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>                }</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>            }</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>        }</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>    }</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span> </div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>    <span class="comment">// Has only positive prev. quests in non-rewarded state</span></div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>    <span class="comment">// and negative prev. quests in non-active state</span></div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>    <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span> </div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>}</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span> </div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a8d5b1b54960d39e389dcfa8c71dc54f4"> 1076</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a8d5b1b54960d39e389dcfa8c71dc54f4">Player::SatisfyQuestClass</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqClass = qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a69a404c71347a99ebb006a8091f84493">GetRequiredClasses</a>();</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span> </div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>    <span class="keywordflow">if</span> (reqClass == 0)</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span> </div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    <span class="keywordflow">if</span> ((reqClass &amp; <a class="code hl_function" href="../../db/d54/a08188.html#abbbd9cc147469bc7f35075539bdf55a0">getClassMask</a>()) == 0)</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>    {</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span> </div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>    }</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span> </div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>}</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span> </div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a8b94a5119e583d66540638942e19f431"> 1094</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a8b94a5119e583d66540638942e19f431">Player::SatisfyQuestRace</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqraces = qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a6ff12c6f23e1c67482e61700b33d9f0a">GetAllowableRaces</a>();</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    <span class="keywordflow">if</span> (reqraces == 0)</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>    <span class="keywordflow">if</span> ((reqraces &amp; <a class="code hl_function" href="../../db/d54/a08188.html#a9819c2f13647afe6ac172fb5313cfd83">getRaceMask</a>()) == 0)</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    {</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa6ccfc01ce1d8978fd6ff245df456842d">INVALIDREASON_QUEST_FAILED_WRONG_RACE</a>);</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>    }</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>}</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span> </div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a8e0d6d5481aa496aa943b546e82b8911"> 1108</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a8e0d6d5481aa496aa943b546e82b8911">Player::SatisfyQuestReputation</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> fIdMin = qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a85b398c765cd61093e9c99aa5c4dab50">GetRequiredMinRepFaction</a>();      <span class="comment">//Min required rep</span></div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>    <span class="keywordflow">if</span> (fIdMin &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#af5e271a82ad1ba3d3b081b9774b7a5e5">GetReputationMgr</a>().<a class="code hl_function" href="../../df/d6a/a08044.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(fIdMin) &lt; qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a432388b929011995705ba2d7967ba3c9">GetRequiredMinRepValue</a>())</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>    {</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>    }</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span> </div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> fIdMax = qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#afcb07099ad8e2ed8fa6c87ca7993aac3">GetRequiredMaxRepFaction</a>();      <span class="comment">//Max required rep</span></div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    <span class="keywordflow">if</span> (fIdMax &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#af5e271a82ad1ba3d3b081b9774b7a5e5">GetReputationMgr</a>().<a class="code hl_function" href="../../df/d6a/a08044.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(fIdMax) &gt;= qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a3c9f29edfe7730926a6c291867b946c8">GetRequiredMaxRepValue</a>())</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>    {</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    }</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span> </div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>    <span class="comment">// ReputationObjective2 does not seem to be an objective requirement but a requirement</span></div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>    <span class="comment">// to be able to accept the quest</span></div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> fIdObj = qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a31378cd54fb5bbe7cccbd47cdd06ac3b">GetRepObjectiveFaction2</a>();</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>    <span class="keywordflow">if</span> (fIdObj &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#af5e271a82ad1ba3d3b081b9774b7a5e5">GetReputationMgr</a>().<a class="code hl_function" href="../../df/d6a/a08044.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(fIdObj) &gt;= qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a15e22f8cce4ac1bec8294d952d0d39e2">GetRepObjectiveValue2</a>())</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>    {</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>    }</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span> </div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>}</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span> </div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#acf0f9d07a0043d6fdbd8a4cbde03ab53"> 1139</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#acf0f9d07a0043d6fdbd8a4cbde03ab53">Player::SatisfyQuestStatus</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()) != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>    {</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa43ddb2705d2b8b1dadf2129725eb8e67">INVALIDREASON_QUEST_ALREADY_ON</a>);</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>    }</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>}</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span> </div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a5713cd88450fc91ded78904209521176"> 1150</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a5713cd88450fc91ded78904209521176">Player::SatisfyQuestConditions</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>{</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    <a class="code hl_typedef" href="../../d9/db3/a01064.html#ae942a8e25dc24ce42e62625bb583c0dd">ConditionList</a> conditions = <a class="code hl_define" href="../../d9/db3/a01064.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;GetConditionsForNotGroupedEntry(<a class="code hl_enumvalue" href="../../d9/db3/a01064.html#a5ba040e3c1f6efbefb512efb9bd69a7faff018c19627d2a3c3767b8c3665cd1eb">CONDITION_SOURCE_TYPE_QUEST_AVAILABLE</a>, qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d9/db3/a01064.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;IsObjectMeetToConditions(<span class="keyword">this</span>, conditions))</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    {</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;condition&quot;</span>, <span class="stringliteral">&quot;Player::SatisfyQuestConditions: conditions not met for quest {}&quot;</span>, qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    }</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>}</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span> </div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a981ca241668a35c4d44f885769f59f7a"> 1163</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a981ca241668a35c4d44f885769f59f7a">Player::SatisfyQuestTimed</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../df/d6a/a08044.html#a4b8c18a582b0aab0f3dee61d76ec93a6">m_timedquests</a>.empty() &amp;&amp; qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab">QUEST_SPECIAL_FLAGS_TIMED</a>))</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>    {</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa89932eb633b107826e9dbd9a01b20d87">INVALIDREASON_QUEST_ONLY_ONE_TIMED</a>);</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>    }</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>}</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span> </div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a3eff2504b3182e587f5861966fc819e6"> 1174</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a3eff2504b3182e587f5861966fc819e6">Player::SatisfyQuestExclusiveGroup</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>    <span class="comment">// non positive exclusive group, if &gt; 0 then can be start if any other quest in exclusive group already started/completed</span></div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>() &lt;= 0)</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span> </div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>    <a class="code hl_typedef" href="../../d8/d05/a08464.html#a4143a2afd52e788bd0bd82193ef41701">ObjectMgr::ExclusiveQuestGroupsBounds</a> range(<a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;mExclusiveQuestGroups.equal_range(qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>()));</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span> </div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>    <span class="keywordflow">for</span> (; range.first != range.second; ++range.first)</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>    {</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> exclude_Id = range.first-&gt;second;</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span> </div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>        <span class="comment">// skip checked quest id, only state of other quests in group is interesting</span></div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>        <span class="keywordflow">if</span> (exclude_Id == qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>())</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span> </div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>        <span class="comment">// not allow have daily quest if daily quest from exclusive group already recently completed</span></div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* Nquest = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(exclude_Id);</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/d6a/a08044.html#a518389d20cdf628f73a4ca8db9b5d2fd">SatisfyQuestDay</a>(Nquest, <span class="keyword">false</span>) || !<a class="code hl_function" href="../../df/d6a/a08044.html#aca05d62bd5f150ae2426747d8e1a3a36">SatisfyQuestWeek</a>(Nquest, <span class="keyword">false</span>) || !<a class="code hl_function" href="../../df/d6a/a08044.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(Nquest, <span class="keyword">false</span>))</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>        {</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>            <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>                <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span> </div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>        }</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span> </div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>        <span class="comment">// alternative quest already started or completed - but don&#39;t check rewarded states if both are repeatable</span></div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(exclude_Id) != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a> || (!(qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>() &amp;&amp; Nquest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>()) &amp;&amp; !Nquest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>() &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(exclude_Id))) <span class="comment">// pussywizard: added !Nquest-&gt;IsSeasonal() because seasonal quests are considered rewarded only if finished this year, this is checked above in SatisfyQuestSeasonal</span></div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>        {</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>            <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>                <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>        }</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>    }</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>}</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span> </div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a20f4b508f43c0250a376be46cb31ffa6"> 1211</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a20f4b508f43c0250a376be46cb31ffa6">Player::SatisfyQuestNextChain</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> nextQuest = qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#afd21789d43617d2a7d48e0479b247fde">GetNextQuestInChain</a>();</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>    <span class="keywordflow">if</span> (!nextQuest)</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span> </div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>    <span class="comment">// next quest in chain already started or completed</span></div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(nextQuest) != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>) <span class="comment">// GetQuestStatus returns QUEST_STATUS_COMPLETED for rewarded quests</span></div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>    {</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>    }</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span> </div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>    <span class="comment">// check for all quests further up the chain</span></div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>    <span class="comment">// only necessary if there are quest chains with more than one quest that can be skipped</span></div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    <span class="comment">//return SatisfyQuestNextChain(qInfo-&gt;GetNextQuestInChain(), msg);</span></div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>}</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span> </div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ade36479ca18bfad804c3b5306d856ddf"> 1231</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ade36479ca18bfad804c3b5306d856ddf">Player::SatisfyQuestPrevChain</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>    <span class="comment">// No previous quest in chain</span></div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#af8f473ce55790d197715fef652c2edc1">prevChainQuests</a>.empty())</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span> </div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>    <span class="keywordflow">for</span> (Quest::PrevChainQuests::const_iterator iter = qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#af8f473ce55790d197715fef652c2edc1">prevChainQuests</a>.begin(); iter != qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#af8f473ce55790d197715fef652c2edc1">prevChainQuests</a>.end(); ++iter)</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    {</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>        QuestStatusMap::const_iterator itr = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(*iter);</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span> </div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>        <span class="comment">// If any of the previous quests in chain active, return false</span></div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>        <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end() &amp;&amp; itr-&gt;second.Status != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>        {</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>            <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>                <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>        }</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span> </div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>        <span class="comment">// check for all quests further down the chain</span></div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>        <span class="comment">// only necessary if there are quest chains with more than one quest that can be skipped</span></div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>        <span class="comment">//if (!SatisfyQuestPrevChain(prevId, msg))</span></div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>        <span class="comment">//    return false;</span></div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>    }</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span> </div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>    <span class="comment">// No previous quest in chain active</span></div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>}</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span> </div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a518389d20cdf628f73a4ca8db9b5d2fd"> 1259</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a518389d20cdf628f73a4ca8db9b5d2fd">Player::SatisfyQuestDay</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>    <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aab14227810deb46be3e04f3fb43eab05">IsDaily</a>() &amp;&amp; !qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a62deb059ae37d23ad11c985b8a8ed792">IsDFQuest</a>())</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span> </div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a62deb059ae37d23ad11c985b8a8ed792">IsDFQuest</a>())</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>    {</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../df/d6a/a08044.html#a3f71a19d954e153b2fb790f176d7e69e">m_DFQuests</a>.empty())</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span> </div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>    }</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span> </div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>    <span class="keywordtype">bool</span> have_slot = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_daily_idx = 0; quest_daily_idx &lt; <a class="code hl_define" href="../../da/dd8/a01265.html#a9b615cd8e69bf1f12cbee0c8ce784feb">PLAYER_MAX_DAILY_QUESTS</a>; ++quest_daily_idx)</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    {</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keywordtype">id</span> = <a class="code hl_function" href="../../d3/dd0/a07804.html#a3264388b9f92da9de7641477b3dc77f9">GetUInt32Value</a>(<a class="code hl_enumvalue" href="../../dd/dad/a01235.html#a0e42dc606678c9df7884e1aad621e881a1839e5053ba2ed57303c92683b483745">PLAYER_FIELD_DAILY_QUESTS_1</a> + quest_daily_idx);</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>        <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>() == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span> </div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>        <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>)</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>            have_slot = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>    }</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span> </div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    <span class="keywordflow">if</span> (!have_slot)</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>    {</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fab1743dc9f2777d67b8bbfaa440940d94">INVALIDREASON_DAILY_QUESTS_REMAINING</a>);</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    }</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span> </div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>}</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span> </div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#aca05d62bd5f150ae2426747d8e1a3a36"> 1293</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#aca05d62bd5f150ae2426747d8e1a3a36">Player::SatisfyQuestWeek</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> <span class="comment">/*msg*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad655d2ab2988cbc70c17a53f27aa84dc">IsWeekly</a>() || <a class="code hl_variable" href="../../df/d6a/a08044.html#a4f79955d3a09a3ba998350d584546717">m_weeklyquests</a>.empty())</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span> </div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>    <span class="comment">// if not found in cooldown list</span></div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../df/d6a/a08044.html#a4f79955d3a09a3ba998350d584546717">m_weeklyquests</a>.find(qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()) == <a class="code hl_variable" href="../../df/d6a/a08044.html#a4f79955d3a09a3ba998350d584546717">m_weeklyquests</a>.end();</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>}</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span> </div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a897e236601ec88039eb9d16652233ce5"> 1302</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a897e236601ec88039eb9d16652233ce5">Player::SatisfyQuestSeasonal</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> <span class="comment">/*msg*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>    <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>() || <a class="code hl_variable" href="../../df/d6a/a08044.html#ae9b5335b821af51bcfa01e994f3387f8">m_seasonalquests</a>.empty())</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span> </div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>    Player::SeasonalEventQuestMap::iterator itr = ((<a class="code hl_class" href="../../df/d6a/a08044.html">Player</a>*)<span class="keyword">this</span>)-&gt;m_seasonalquests.find(qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a0c6ec21639c30c5fad76225ec9dbca43">GetEventIdForQuest</a>());</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span> </div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>    <span class="keywordflow">if</span> (itr == <a class="code hl_variable" href="../../df/d6a/a08044.html#ae9b5335b821af51bcfa01e994f3387f8">m_seasonalquests</a>.end() || itr-&gt;second.empty())</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span> </div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    <span class="comment">// if not found in cooldown list</span></div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>    <span class="keywordflow">return</span> itr-&gt;second.find(qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()) == itr-&gt;second.end();</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>}</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span> </div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a7b45b9e11b333d56baf6b02cc523d70a"> 1316</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a7b45b9e11b333d56baf6b02cc523d70a">Player::SatisfyQuestMonth</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> <span class="comment">/*msg*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>    <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aec34a6498bb385e4ee734fa54d0d9643">IsMonthly</a>() || <a class="code hl_variable" href="../../df/d6a/a08044.html#a56420e8977008b8f8a3399058b8a432f">m_monthlyquests</a>.empty())</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span> </div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>    <span class="comment">// if not found in cooldown list</span></div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../df/d6a/a08044.html#a56420e8977008b8f8a3399058b8a432f">m_monthlyquests</a>.find(qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()) == <a class="code hl_variable" href="../../df/d6a/a08044.html#a56420e8977008b8f8a3399058b8a432f">m_monthlyquests</a>.end();</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>}</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span> </div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#acaa7aab48332b249ff546d123a9af85d"> 1325</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#acaa7aab48332b249ff546d123a9af85d">Player::GiveQuestSourceItem</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest)</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>{</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> srcitem = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad4362cc4900c53c7bf010ea8fe0eabff">GetSrcItemId</a>();</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>    <span class="keywordflow">if</span> (srcitem &gt; 0)</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>    {</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a624f094e3f33c2bf5eb30dd9d208a058">GetSrcItemCount</a>();</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>        <span class="keywordflow">if</span> (count &lt;= 0)</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>            count = 1;</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span> </div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>        <a class="code hl_typedef" href="../../da/dd8/a01265.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>        <a class="code hl_enumeration" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> msg = <a class="code hl_function" href="../../df/d6a/a08044.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code hl_enumvalue" href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, srcitem, count);</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>        <span class="keywordflow">if</span> (msg == <a class="code hl_enumvalue" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>        {</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>            <a class="code hl_class" href="../../de/dbd/a07760.html">Item</a>* item = <a class="code hl_function" href="../../df/d6a/a08044.html#ac996a41fc3f89d8683de8695bb7db13c">StoreNewItem</a>(dest, srcitem, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a9b1ad78b229913ff669912d2fb80c6e0">SendNewItem</a>(item, count, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>        }</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>            <span class="comment">// player already have max amount required item, just report success</span></div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code hl_enumvalue" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391ac38e8d6381e5ed7855a06a1b34163dca">EQUIP_ERR_CANT_CARRY_MORE_OF_THIS</a>)</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(msg, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, srcitem);</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>    }</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span> </div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>}</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span> </div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ab5a791e5b6f12cdf6eff3bab46449b5d"> 1353</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ab5a791e5b6f12cdf6eff3bab46449b5d">Player::TakeQuestSourceItem</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>{</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>    <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId);</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>    <span class="keywordflow">if</span> (quest)</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>    {</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> srcItemId = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad4362cc4900c53c7bf010ea8fe0eabff">GetSrcItemId</a>();</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>        <a class="code hl_struct" href="../../dc/d8f/a07784.html">ItemTemplate</a> <span class="keyword">const</span>* item = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(srcItemId);</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span> </div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>        <span class="keywordflow">if</span> (srcItemId &gt; 0)</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>        {</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>            <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a624f094e3f33c2bf5eb30dd9d208a058">GetSrcItemCount</a>();</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>            <span class="keywordflow">if</span> (count &lt;= 0)</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>                count = 1;</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span> </div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>            <span class="comment">// exist two cases when destroy source quest item not possible:</span></div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>            <span class="comment">// a) non un-equippable item (equipped non-empty bag, for example)</span></div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>            <span class="comment">// b) when quest is started from an item and item also is needed in</span></div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>            <span class="comment">// the end as RequiredItemId</span></div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>            <a class="code hl_enumeration" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> res = <a class="code hl_function" href="../../df/d6a/a08044.html#ac6ee8565680d6696c0804fa40d47ba73">CanUnequipItems</a>(srcItemId, count);</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>            <span class="keywordflow">if</span> (res != <a class="code hl_enumvalue" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>            {</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>                <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(res, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, srcItemId);</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>            }</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span> </div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>            <span class="keywordtype">bool</span> destroyItem = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> n = 0; n &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++n)</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>                <span class="keywordflow">if</span> (item-&gt;<a class="code hl_variable" href="../../dc/d8f/a07784.html#aef5389c8385f5729a2471d7ef144f05a">StartQuest</a> == questId &amp;&amp; srcItemId == quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[n])</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>                    destroyItem = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span> </div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>            <span class="keywordflow">if</span> (destroyItem)</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>                <a class="code hl_function" href="../../df/d6a/a08044.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(srcItemId, count, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>        }</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>    }</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span> </div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>}</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span> </div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a2f780cf8d581075515965d1de74cf789"> 1392</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a2f780cf8d581075515965d1de74cf789">Player::GetQuestRewardStatus</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>    <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>    <span class="keywordflow">if</span> (qInfo)</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>    {</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>        <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>())</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>            <span class="keywordflow">return</span> !<a class="code hl_function" href="../../df/d6a/a08044.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(qInfo, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span> </div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>        <span class="comment">// for repeatable quests: rewarded field is set after first reward only to prevent getting XP more than once</span></div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>        <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>())</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../df/d6a/a08044.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(quest_id);</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>    }</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>}</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span> </div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349"> 1407</a></span><a class="code hl_enumeration" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> <a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">Player::GetQuestStatus</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>    <span class="keywordflow">if</span> (quest_id)</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>    {</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>        QuestStatusMap::const_iterator itr = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(quest_id);</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span> </div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>        <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end())</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>        {</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>            <span class="keywordflow">return</span> itr-&gt;second.Status;</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>        }</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span> </div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id))</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>        {</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>            <span class="keywordflow">if</span> (qInfo-&gt;IsSeasonal())</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>            {</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(qInfo, <span class="keyword">false</span>) ? <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a> : <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a8aa7be8f8f2585bb49ad2e1d33a65d3c">QUEST_STATUS_REWARDED</a>;</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>            }</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span> </div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>            <span class="keywordflow">if</span> (!qInfo-&gt;IsRepeatable() &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(quest_id))</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>            {</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a8aa7be8f8f2585bb49ad2e1d33a65d3c">QUEST_STATUS_REWARDED</a>;</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>            }</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>        }</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>    }</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span> </div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>;</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>}</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span> </div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ac62aa687e837226933cf563955f39f76"> 1435</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ac62aa687e837226933cf563955f39f76">Player::CanShareQuest</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>    <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>    <span class="keywordflow">if</span> (qInfo &amp;&amp; qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a071cf4919b90266595fef826351f2d2a">HasFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a881ebe30fbf0f088d54bfa959cefe47caad03215b00fda5ef5b3a3b55d0181582">QUEST_FLAGS_SHARABLE</a>))</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>    {</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>        QuestStatusMap::const_iterator itr = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(quest_id);</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>        <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end())</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>        {</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>            <span class="comment">// in pool and not currently available (wintergrasp weekly, dalaran weekly) - can&#39;t share</span></div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d7/d62/a01805.html#a9189dd9c6265b9e6d57104dd61a5fe85">sPoolMgr</a>-&gt;IsPartOfAPool&lt;<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a>&gt;(quest_id) &amp;&amp; !<a class="code hl_define" href="../../d7/d62/a01805.html#a9189dd9c6265b9e6d57104dd61a5fe85">sPoolMgr</a>-&gt;IsSpawnedObject&lt;<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a>&gt;(quest_id))</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>            {</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>                <a class="code hl_function" href="../../df/d6a/a08044.html#a912005a1a9058c11996bbbd8b6a0152c">SendPushToPartyResponse</a>(<span class="keyword">this</span>, <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#ac0edcb86ea5fca813b3c69e348fe74c0aa8f02823dd955bf0b8ba1409f982feaa">QUEST_PARTY_MSG_CANT_BE_SHARED_TODAY</a>);</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>            }</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span> </div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>        }</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>    }</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>}</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span> </div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ad32f3a3ec1be51826e04097db7a69620"> 1456</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ad32f3a3ec1be51826e04097db7a69620">Player::SetQuestStatus</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <a class="code hl_enumeration" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> status, <span class="keywordtype">bool</span> update <span class="comment">/*= true*/</span>)</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>{</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId))</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>    {</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>        <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questId].Status = status;</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span> </div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>        <span class="keywordflow">if</span> (quest-&gt;GetQuestMethod() &amp;&amp; !quest-&gt;IsAutoComplete())</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>        {</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>            <a class="code hl_variable" href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questId] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>        }</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>    }</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span> </div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>    <span class="keywordflow">if</span> (update)</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a71e5ab0c8c5ba33eb6c36a2300065823">SendQuestUpdate</a>(questId);</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>}</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span> </div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ab702c2acc0393baed9ac829435a10b03"> 1472</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ab702c2acc0393baed9ac829435a10b03">Player::RemoveActiveQuest</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <span class="keywordtype">bool</span> update <span class="comment">/*= true*/</span>)</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>{</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>    QuestStatusMap::iterator itr = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(questId);</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end())</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>    {</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>        <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.erase(itr);</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>        <a class="code hl_variable" href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questId] = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    }</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span> </div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>    <span class="keywordflow">if</span> (update)</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a71e5ab0c8c5ba33eb6c36a2300065823">SendQuestUpdate</a>(questId);</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span> </div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>    <span class="comment">// Xinef: area auras may change on quest remove!</span></div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#ab3a73c835c52cd903ab0112a5bc4e7f0">UpdateZoneDependentAuras</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a6dea805c714a08cb8972769c3f343bb9">UpdateAreaDependentAuras</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>());</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code hl_enumvalue" href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>}</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span> </div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ad7e77cd57824c0ca08d2c88a8b1c3aec"> 1490</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ad7e77cd57824c0ca08d2c88a8b1c3aec">Player::RemoveRewardedQuest</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <span class="keywordtype">bool</span> update <span class="comment">/*= true*/</span>)</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>{</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>    RewardedQuestSet::iterator rewItr = <a class="code hl_variable" href="../../df/d6a/a08044.html#a904aeb6ca88d6996e7c3f3ba96b9d274">m_RewardedQuests</a>.find(questId);</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>    <span class="keywordflow">if</span> (rewItr != <a class="code hl_variable" href="../../df/d6a/a08044.html#a904aeb6ca88d6996e7c3f3ba96b9d274">m_RewardedQuests</a>.end())</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>    {</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>        <a class="code hl_variable" href="../../df/d6a/a08044.html#a904aeb6ca88d6996e7c3f3ba96b9d274">m_RewardedQuests</a>.erase(rewItr);</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>        <a class="code hl_variable" href="../../df/d6a/a08044.html#af3bfe54e63e3e08602f01e187ccedb7a">m_RewardedQuestsSave</a>[questId] = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>    }</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span> </div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>    <span class="keywordflow">if</span> (update)</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a71e5ab0c8c5ba33eb6c36a2300065823">SendQuestUpdate</a>(questId);</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>}</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span> </div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a71e5ab0c8c5ba33eb6c36a2300065823"> 1503</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a71e5ab0c8c5ba33eb6c36a2300065823">Player::SendQuestUpdate</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>{</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zone = 0, area = 0;</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>    <span class="comment">// xinef: fixup</span></div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldSpellId = 0;</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span> </div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>    <a class="code hl_typedef" href="../../db/df6/a02138.html#aebca17b4bc1b0129c26a7c769d90159b">SpellAreaForQuestMapBounds</a> saBounds = <a class="code hl_define" href="../../db/df6/a02138.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellAreaForQuestMapBounds(questId);</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>    <span class="keywordflow">if</span> (saBounds.first != saBounds.second)</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>    {</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>        <a class="code hl_function" href="../../d7/d14/a07836.html#ae1a8efe701e885f0ed1eaeb93bbece8e">GetZoneAndAreaId</a>(zone, area);</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span> </div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>        <span class="keywordflow">for</span> (SpellAreaForAreaMap::const_iterator itr = saBounds.first; itr != saBounds.second; ++itr)</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>        {</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>            <span class="comment">// xinef: spell was already casted, skip different areas with same spell</span></div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>            <span class="keywordflow">if</span> (itr-&gt;second-&gt;spellId == oldSpellId)</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>            <span class="keywordflow">if</span> (itr-&gt;second-&gt;autocast &amp;&amp; itr-&gt;second-&gt;IsFitToRequirements(<span class="keyword">this</span>, zone, area))</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../db/d54/a08188.html#a69c5ac45b65cf0dede6e0ee837361f61">HasAura</a>(itr-&gt;second-&gt;spellId))</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>                {</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>                    <a class="code hl_function" href="../../db/d54/a08188.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(<span class="keyword">this</span>, itr-&gt;second-&gt;spellId, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>                    oldSpellId = itr-&gt;second-&gt;spellId;</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>                }</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>        }</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>    }</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span> </div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>    saBounds = <a class="code hl_define" href="../../db/df6/a02138.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellAreaForQuestEndMapBounds(questId);</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span> </div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>    <span class="comment">// xinef: fixup</span></div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> skipSpellId = 0;</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>    oldSpellId = 0;</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>    <span class="keywordflow">if</span> (saBounds.first != saBounds.second)</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>    {</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>        <span class="keywordflow">if</span> (!zone || !area)</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>            <a class="code hl_function" href="../../d7/d14/a07836.html#ae1a8efe701e885f0ed1eaeb93bbece8e">GetZoneAndAreaId</a>(zone, area);</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span> </div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>        <span class="keywordflow">for</span> (SpellAreaForAreaMap::const_iterator itr = saBounds.first; itr != saBounds.second; ++itr)</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>        {</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>            <span class="comment">// xinef: skip spell for which condition is already fulfilled</span></div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>            <span class="keywordflow">if</span> (itr-&gt;second-&gt;spellId == skipSpellId)</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>            skipSpellId = 0;</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span> </div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>            <span class="comment">// xinef: spells are sorted, if no condition is fulfilled remove aura</span></div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>            <span class="keywordflow">if</span> (oldSpellId &amp;&amp; oldSpellId != itr-&gt;second-&gt;spellId)</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>            {</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>                <a class="code hl_function" href="../../db/d54/a08188.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(oldSpellId);</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>                oldSpellId = 0;</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>            }</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span> </div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>            <span class="keywordflow">if</span> (!itr-&gt;second-&gt;IsFitToRequirements(<span class="keyword">this</span>, zone, area))</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>            {</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>                <span class="comment">//RemoveAurasDueToSpell(itr-&gt;second-&gt;spellId);</span></div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>                oldSpellId = itr-&gt;second-&gt;spellId;</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>            }</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>            {</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>                skipSpellId = itr-&gt;second-&gt;spellId;</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>                oldSpellId = 0;</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>            }</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>        }</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span> </div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>        <span class="comment">// xinef: check if we have something to remove yet</span></div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>        <span class="keywordflow">if</span> (oldSpellId)</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>            <a class="code hl_function" href="../../db/d54/a08188.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(oldSpellId);</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>    }</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span> </div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a4ed4f2a833a55c6cb2ffc91fb43eb066">UpdateForQuestWorldObjects</a>();</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>}</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span> </div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a4f934c08237609db274d492c0323b744"> 1572</a></span><a class="code hl_enumeration" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6c">QuestGiverStatus</a> <a class="code hl_function" href="../../df/d6a/a08044.html#a4f934c08237609db274d492c0323b744">Player::GetQuestDialogStatus</a>(<a class="code hl_class" href="../../d3/dd0/a07804.html">Object</a>* questgiver)</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>{</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>    <a class="code hl_typedef" href="../../d8/d4e/a01355.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a> qr;</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>    <a class="code hl_typedef" href="../../d8/d4e/a01355.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a> qir;</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span> </div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>    <a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;GetDialogStatus(<span class="keyword">this</span>, questgiver);</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span> </div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>    <span class="keywordflow">switch</span> (questgiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#a621a345fc34deed6d3a4e1e498a652da">GetTypeId</a>())</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>    {</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2a91b74ac7ebfe7909332a6eec5054c60d">TYPEID_GAMEOBJECT</a>:</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>        {</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>            <a class="code hl_enumeration" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6c">QuestGiverStatus</a> questStatus = <a class="code hl_enumeration" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6c">QuestGiverStatus</a>(<a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;GetDialogStatus(<span class="keyword">this</span>, questgiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#a96b380b13acdb406d552053cf775180f">ToGameObject</a>()));</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>            <span class="keywordflow">if</span> (questStatus != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca3d77f1cc50b7e48f2f16aa7d383601a3">DIALOG_STATUS_SCRIPTED_NO_STATUS</a>)</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>                <span class="keywordflow">return</span> questStatus;</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>            qr = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGOQuestRelationBounds(questgiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>            qir = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGOQuestInvolvedRelationBounds(questgiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>        }</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2a93dfa528ffc48db4993fb7ac62696db9">TYPEID_UNIT</a>:</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>        {</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>            <a class="code hl_enumeration" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6c">QuestGiverStatus</a> questStatus = <a class="code hl_enumeration" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6c">QuestGiverStatus</a>(<a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;GetDialogStatus(<span class="keyword">this</span>, questgiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#ab0e2ef1ac1daa91476f749e0ec6ad3c6">ToCreature</a>()));</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>            <span class="keywordflow">if</span> (questStatus != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca3d77f1cc50b7e48f2f16aa7d383601a3">DIALOG_STATUS_SCRIPTED_NO_STATUS</a>)</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>                <span class="keywordflow">return</span> questStatus;</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>            qr = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureQuestRelationBounds(questgiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>            qir = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureQuestInvolvedRelationBounds(questgiver-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>        }</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>            <span class="comment">// it&#39;s impossible, but check</span></div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>            <span class="comment">//LOG_ERROR(&quot;entities.player.quest&quot;, &quot;GetQuestDialogStatus called for unexpected type {}&quot;, questgiver-&gt;GetTypeId());</span></div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca26affdf7d4a232a13a2e85bcfec3acac">DIALOG_STATUS_NONE</a>;</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>    }</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span> </div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>    <a class="code hl_enumeration" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6c">QuestGiverStatus</a> result = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca26affdf7d4a232a13a2e85bcfec3acac">DIALOG_STATUS_NONE</a>;</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span> </div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>    <span class="keywordflow">for</span> (QuestRelations::const_iterator i = qir.first; i != qir.second; ++i)</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>    {</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>        <a class="code hl_enumeration" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6c">QuestGiverStatus</a> result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca26affdf7d4a232a13a2e85bcfec3acac">DIALOG_STATUS_NONE</a>;</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId = i-&gt;second;</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId);</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>        <span class="keywordflow">if</span> (!quest)</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span> </div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>        <a class="code hl_typedef" href="../../d9/db3/a01064.html#ae942a8e25dc24ce42e62625bb583c0dd">ConditionList</a> conditions = <a class="code hl_define" href="../../d9/db3/a01064.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;GetConditionsForNotGroupedEntry(<a class="code hl_enumvalue" href="../../d9/db3/a01064.html#a5ba040e3c1f6efbefb512efb9bd69a7faff018c19627d2a3c3767b8c3665cd1eb">CONDITION_SOURCE_TYPE_QUEST_AVAILABLE</a>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d9/db3/a01064.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;IsObjectMeetToConditions(<span class="keyword">this</span>, conditions))</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span> </div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>        <a class="code hl_enumeration" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> status = <a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(questId);</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>        <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a> &amp;&amp; !<a class="code hl_function" href="../../df/d6a/a08044.html#a2f780cf8d581075515965d1de74cf789">GetQuestRewardStatus</a>(questId))</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>        {</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>            result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca75135989445a2947df016dddb20dcf24">DIALOG_STATUS_REWARD</a>;</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>        }</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>        {</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>            result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6caa4ccf7e90f00237c4edb4de98162be3a">DIALOG_STATUS_INCOMPLETE</a>;</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>        }</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span> </div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>        <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>() &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a4119b83fa78e608d8d946b1821c57fdf">CanTakeQuest</a>(quest, <span class="keyword">false</span>) &amp;&amp; quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>() &amp;&amp; !quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#adb84c508be7586def5faee4c286dd463">IsDailyOrWeekly</a>())</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>        {</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>            result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca8c007c4cb4d3909e264b15da0c678415">DIALOG_STATUS_REWARD_REP</a>;</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>        }</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span> </div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>        <span class="keywordflow">if</span> (result2 &gt; result)</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>        {</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>            result = result2;</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>        }</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>    }</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span> </div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>    <span class="keywordflow">for</span> (QuestRelations::const_iterator i = qr.first; i != qr.second; ++i)</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>    {</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>        <a class="code hl_enumeration" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6c">QuestGiverStatus</a> result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca26affdf7d4a232a13a2e85bcfec3acac">DIALOG_STATUS_NONE</a>;</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId = i-&gt;second;</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId);</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>        <span class="keywordflow">if</span> (!quest)</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span> </div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>        <a class="code hl_typedef" href="../../d9/db3/a01064.html#ae942a8e25dc24ce42e62625bb583c0dd">ConditionList</a> conditions = <a class="code hl_define" href="../../d9/db3/a01064.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;GetConditionsForNotGroupedEntry(<a class="code hl_enumvalue" href="../../d9/db3/a01064.html#a5ba040e3c1f6efbefb512efb9bd69a7faff018c19627d2a3c3767b8c3665cd1eb">CONDITION_SOURCE_TYPE_QUEST_AVAILABLE</a>, quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d9/db3/a01064.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;IsObjectMeetToConditions(<span class="keyword">this</span>, conditions))</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span> </div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>        <a class="code hl_enumeration" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> status = <a class="code hl_function" href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(questId);</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>        <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>        {</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#a743bfca834aded4409212d6fb43d8f4f">CanSeeStartQuest</a>(quest))</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>            {</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#aa741d2df6cdf7e02b63b46d2a58f609a">SatisfyQuestLevel</a>(quest, <span class="keyword">false</span>))</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>                {</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>                    <span class="keywordtype">bool</span> isNotLowLevelQuest = <a class="code hl_function" href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() &lt;= (<a class="code hl_function" href="../../df/d6a/a08044.html#a12c144fe6e00820ed8929e0547ab04f3">GetQuestLevel</a>(quest) + <a class="code hl_define" href="../../d3/d74/a04418.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/d6f/a02234.html#a17aac4c166ebe43e3b8fdccf9e012e41a1e7d0052850c3e4d941b52d7a453c1a7">CONFIG_QUEST_LOW_LEVEL_HIDE_DIFF</a>));</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span> </div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>                    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>())</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>                    {</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>                        <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aab14227810deb46be3e04f3fb43eab05">IsDaily</a>())</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>                        {</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>                            <span class="keywordflow">if</span> (isNotLowLevelQuest)</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>                            {</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>                                result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6caeb1be76328219029c8b20345c76e9dd7">DIALOG_STATUS_AVAILABLE_REP</a>;</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>                            }</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>                            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>                            {</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>                                result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6cad0b9e3d049c7df9b0ca9c2d0d461a25d">DIALOG_STATUS_LOW_LEVEL_AVAILABLE_REP</a>;</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>                            }</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>                        }</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad655d2ab2988cbc70c17a53f27aa84dc">IsWeekly</a>() || quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aec34a6498bb385e4ee734fa54d0d9643">IsMonthly</a>())</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>                        {</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>                            <span class="keywordflow">if</span> (isNotLowLevelQuest)</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>                            {</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>                                result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca332bbf12a9f624eaf8304facf64520c2">DIALOG_STATUS_AVAILABLE</a>;</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>                            }</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>                            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>                            {</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>                                result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca867ef0a1e8243d47039936338db4e0d2">DIALOG_STATUS_LOW_LEVEL_AVAILABLE</a>;</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>                            }</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>                        }</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>())</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>                        {</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>                            <span class="keywordflow">if</span> (isNotLowLevelQuest)</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>                            {</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>                                result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca8c007c4cb4d3909e264b15da0c678415">DIALOG_STATUS_REWARD_REP</a>;</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>                            }</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>                            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>                            {</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>                                result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca44bd5ba1866b6195d1fdbcfc88e4429d">DIALOG_STATUS_LOW_LEVEL_REWARD_REP</a>;</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>                            }</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>                        }</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>                        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>                        {</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>                            <span class="keywordflow">if</span> (isNotLowLevelQuest)</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>                            {</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>                                result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca8c007c4cb4d3909e264b15da0c678415">DIALOG_STATUS_REWARD_REP</a>;</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>                            }</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>                            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>                            {</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>                                result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca44bd5ba1866b6195d1fdbcfc88e4429d">DIALOG_STATUS_LOW_LEVEL_REWARD_REP</a>;</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>                            }</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>                        }</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>                    }</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>                    {</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>                        result2 = isNotLowLevelQuest ? <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca332bbf12a9f624eaf8304facf64520c2">DIALOG_STATUS_AVAILABLE</a> : <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca867ef0a1e8243d47039936338db4e0d2">DIALOG_STATUS_LOW_LEVEL_AVAILABLE</a>;</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>                    }</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>                }</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>                {</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>                    result2 = <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca23c6b78237061dac38ddfb39d974a3db">DIALOG_STATUS_UNAVAILABLE</a>;</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>                }</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>            }</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>        }</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span> </div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>        <span class="keywordflow">if</span> (result2 &gt; result)</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>            result = result2;</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>    }</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span> </div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>}</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span> </div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span><span class="comment">// not used in Trinity, but used in scripting code</span></div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a6313d888ff224476aa988bd1f0f2ea3c"> 1728</a></span><a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> <a class="code hl_function" href="../../df/d6a/a08044.html#a6313d888ff224476aa988bd1f0f2ea3c">Player::GetReqKillOrCastCurrentCount</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id, <a class="code hl_typedef" href="../../d1/da8/a00230.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> entry)</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>{</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>    <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>    <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span> </div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>        <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j] == entry)</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[quest_id].CreatureOrGOCount[j];</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span> </div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>}</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span> </div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a887ee39fb5179132913f3907d504ca77"> 1741</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a887ee39fb5179132913f3907d504ca77">Player::AdjustQuestReqItemCount</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; questStatusData)</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>{</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>    <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>    {</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>        {</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>            <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqitemcount = quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i];</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>            <span class="keywordflow">if</span> (reqitemcount != 0)</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>            {</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>                <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> curitemcount = <a class="code hl_function" href="../../df/d6a/a08044.html#a5aa219a691b0c5212fda9de12dfd72e9">GetItemCount</a>(quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i], <span class="keyword">true</span>);</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span> </div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>                questStatusData.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[i] = std::min(curitemcount, reqitemcount);</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>                <a class="code hl_variable" href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>            }</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>        }</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    }</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>}</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span> </div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95"> 1759</a></span><a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> <a class="code hl_function" href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95">Player::FindQuestSlot</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i) == quest_id)</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>            <span class="keywordflow">return</span> i;</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span> </div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>;</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>}</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span> </div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ab3b4eddc001341bfc294817c8b23d824"> 1768</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ab3b4eddc001341bfc294817c8b23d824">Player::AreaExploredOrEventHappens</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>{</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>    <span class="keywordflow">if</span> (questId)</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>    {</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code hl_function" href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(questId);</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>        <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>* q_status = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>        <span class="keywordflow">if</span> (log_slot &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>        {</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>            q_status = &amp;<a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questId];</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span> </div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>            <span class="comment">// xinef: added failed check</span></div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>            <span class="keywordflow">if</span> (!q_status-&gt;<a class="code hl_variable" href="../../dd/d88/a09564.html#a734f6a61aa35c77689d33031e88f0c0b">Explored</a> &amp;&amp; q_status-&gt;<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a8e2ffb80a87da63793e4122d9b73cf8b">QUEST_STATUS_FAILED</a>)</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>            {</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>                q_status-&gt;<a class="code hl_variable" href="../../dd/d88/a09564.html#a734f6a61aa35c77689d33031e88f0c0b">Explored</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>                <a class="code hl_variable" href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questId] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span> </div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>                <a class="code hl_function" href="../../df/d6a/a08044.html#a9e99ee8e3d5603c86e5ed99bb1d233ee">SendQuestComplete</a>(questId);</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>            }</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>        }</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questId, q_status))</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questId);</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code hl_enumvalue" href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>    }</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>}</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span> </div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span><span class="comment">//not used in Trinityd, function for external script library</span></div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a5407b30447c557eb4bcb441d0e4df355"> 1795</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a5407b30447c557eb4bcb441d0e4df355">Player::GroupEventHappens</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <a class="code hl_class" href="../../d7/d14/a07836.html">WorldObject</a> <span class="keyword">const</span>* pEventObject)</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>{</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d4/dfc/a08856.html">Group</a>* group = <a class="code hl_function" href="../../df/d6a/a08044.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>())</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>    {</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>        <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d9/d13/a08868.html">GroupReference</a>* itr = group-&gt;GetFirstMember(); itr != <span class="keyword">nullptr</span>; itr = itr-&gt;<a class="code hl_function" href="../../d9/d13/a08868.html#a6f8f406f1209dd7060904d40f5424b41">next</a>())</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>        {</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>            <a class="code hl_class" href="../../df/d6a/a08044.html">Player</a>* player = itr-&gt;GetSource();</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span> </div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>            <span class="comment">// for any leave or dead (with not released body) group member at appropriate distance</span></div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>            <span class="keywordflow">if</span> (player &amp;&amp; player-&gt;<a class="code hl_function" href="../../df/d6a/a08044.html#a60c16e65f7375a886b133d5e8738c798">IsAtGroupRewardDistance</a>(pEventObject) &amp;&amp; !player-&gt;<a class="code hl_function" href="../../df/d6a/a08044.html#a8c1208da22d449910537b53d26308fa3">GetCorpse</a>())</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>                player-&gt;<a class="code hl_function" href="../../df/d6a/a08044.html#ab3b4eddc001341bfc294817c8b23d824">AreaExploredOrEventHappens</a>(questId);</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>        }</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>    }</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#ab3b4eddc001341bfc294817c8b23d824">AreaExploredOrEventHappens</a>(questId);</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>}</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span> </div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ac84736fec697d49391a3325b99e3e039"> 1812</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ac84736fec697d49391a3325b99e3e039">Player::ItemAddedQuestCheck</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry, <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count)</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>{</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>    {</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>        <span class="keywordflow">if</span> (questid == 0)</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span> </div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>        <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; q_status = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span> </div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>        <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> != <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span> </div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>        <span class="keywordflow">if</span> (!qInfo || !qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span> </div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>        {</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>            <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqitem = qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[j];</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>            <span class="keywordflow">if</span> (reqitem == entry)</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>            {</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>                <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqitemcount = qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[j];</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>                <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curitemcount = q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j];</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>                <span class="keywordflow">if</span> (curitemcount &lt; reqitemcount)</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>                {</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>                    q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] = std::min&lt;uint16&gt;(q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] + count, reqitemcount);</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>                    <a class="code hl_variable" href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questid] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>                }</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code hl_enumvalue" href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755a0e79848772fb35db024b1d9cfd8a55b2">ADDITIONAL_SAVING_INVENTORY_AND_GOLD</a> | <a class="code hl_enumvalue" href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>            }</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>        }</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>    }</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a4ed4f2a833a55c6cb2ffc91fb43eb066">UpdateForQuestWorldObjects</a>();</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>}</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span> </div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a0927f8027a80bf9d43291d73c2556a04"> 1851</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a0927f8027a80bf9d43291d73c2556a04">Player::ItemRemovedQuestCheck</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry, <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count)</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>{</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>    {</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span> </div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span> </div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>        <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span> </div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>        {</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>            <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqitem = qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[j];</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>            <span class="keywordflow">if</span> (reqitem == entry)</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>            {</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>                <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; q_status = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>                <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqitemcount = qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[j];</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>                <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curitemcount = q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j];</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span> </div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>                <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] &gt;= reqitemcount) <span class="comment">// we may have more than what the status shows</span></div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>                    curitemcount = <a class="code hl_function" href="../../df/d6a/a08044.html#a5aa219a691b0c5212fda9de12dfd72e9">GetItemCount</a>(entry, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span> </div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>                <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> newItemCount = (count &gt; curitemcount) ? 0 : curitemcount - count;</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>                newItemCount = std::min&lt;uint16&gt;(newItemCount, reqitemcount);</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>                <span class="keywordflow">if</span> (newItemCount != q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j])</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>                {</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>                    q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] = newItemCount;</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>                    <a class="code hl_variable" href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questid] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>                    <a class="code hl_function" href="../../df/d6a/a08044.html#a23321f70f6954313a691f35ce93d2794">IncompleteQuest</a>(questid);</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>                }</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>            }</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>        }</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>    }</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a4ed4f2a833a55c6cb2ffc91fb43eb066">UpdateForQuestWorldObjects</a>();</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>}</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span> </div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a60ef0de3403e8c16c065fe12f5f856e5"> 1892</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a60ef0de3403e8c16c065fe12f5f856e5">Player::KilledMonster</a>(<a class="code hl_struct" href="../../d2/d2b/a07460.html">CreatureTemplate</a> <span class="keyword">const</span>* cInfo, <a class="code hl_class" href="../../da/d98/a07852.html">ObjectGuid</a> guid)</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>{</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>    <a class="code hl_define" href="../../dd/d52/a00221.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(cInfo);</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span> </div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>    <span class="keywordflow">if</span> (cInfo-&gt;<a class="code hl_variable" href="../../d2/d2b/a07460.html#a3f6f92f27a268bc4e3f4d349c633c9f8">Entry</a>)</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a05924f5e9df8d5f06ba422e159a4fd8a">KilledMonsterCredit</a>(cInfo-&gt;<a class="code hl_variable" href="../../d2/d2b/a07460.html#a3f6f92f27a268bc4e3f4d349c633c9f8">Entry</a>, guid);</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span> </div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d1/dae/a01136.html#a3f331d9e202385f679104cc20ef74c3d">MAX_KILL_CREDIT</a>; ++i)</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>        <span class="keywordflow">if</span> (cInfo-&gt;<a class="code hl_variable" href="../../d2/d2b/a07460.html#a8f1f7c9c67532ec302ebeb41b340e287">KillCredit</a>[i])</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>            <a class="code hl_function" href="../../df/d6a/a08044.html#a05924f5e9df8d5f06ba422e159a4fd8a">KilledMonsterCredit</a>(cInfo-&gt;<a class="code hl_variable" href="../../d2/d2b/a07460.html#a8f1f7c9c67532ec302ebeb41b340e287">KillCredit</a>[i]);</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>}</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span> </div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a05924f5e9df8d5f06ba422e159a4fd8a"> 1904</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a05924f5e9df8d5f06ba422e159a4fd8a">Player::KilledMonsterCredit</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry, <a class="code hl_class" href="../../da/d98/a07852.html">ObjectGuid</a> guid)</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>{</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> addkillcount = 1;</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> real_entry = entry;</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>    <span class="keywordflow">if</span> (guid)</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>    {</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>        <a class="code hl_class" href="../../dc/d6f/a07436.html">Creature</a>* killed = <a class="code hl_function" href="../../d7/d14/a07836.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>()-&gt;<a class="code hl_function" href="../../db/d9f/a09188.html#a9c20f696cb8109183fbd81b13848b050">GetCreature</a>(guid);</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>        <span class="keywordflow">if</span> (killed &amp;&amp; killed-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>())</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>            real_entry = killed-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>();</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>    }</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span> </div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a10c732bc343e1f9b0de50865bb2ba577">StartTimedAchievement</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a04247.html#a282f094fb8ee80177dd57d2086ddd35ba62265ea91045a63323e2cb65f78e88c1">ACHIEVEMENT_TIMED_TYPE_CREATURE</a>, real_entry);   <span class="comment">// MUST BE CALLED FIRST</span></div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code hl_enumvalue" href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19ac4c7bccbf435b49105604debea36e251">ACHIEVEMENT_CRITERIA_TYPE_KILL_CREATURE</a>, real_entry, addkillcount, guid ? <a class="code hl_function" href="../../d7/d14/a07836.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>()-&gt;GetCreature(guid) : <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span> </div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>    {</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span> </div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>        <span class="comment">// just if !ingroup || !noraidgroup || raidgroup</span></div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>        <span class="comment">// xinef: or is pvp quest, and player in BG/BF group</span></div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>        <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; q_status = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>        <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a> &amp;&amp; (!<a class="code hl_function" href="../../df/d6a/a08044.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>() || !<a class="code hl_function" href="../../df/d6a/a08044.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>()-&gt;isRaidGroup() || qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad0a6cd3d42bc80ab0a3f5472cbf24b8b">IsAllowedInRaid</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>()-&gt;<a class="code hl_function" href="../../df/d6a/a08044.html#a4e146717e02e530b473d147e6c650ff4">GetDifficulty</a>()) ||</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>                                                           (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#af7ac2e2789dc06f793ee19f7cbae4a41">IsPVPQuest</a>() &amp;&amp; (<a class="code hl_function" href="../../df/d6a/a08044.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>()-&gt;isBFGroup() || <a class="code hl_function" href="../../df/d6a/a08044.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>()-&gt;isBGGroup()))))</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>        {</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>            <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;PassedQuestKilledMonsterCredit(<span class="keyword">this</span>, qInfo, entry, real_entry, guid))</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span> </div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27">QUEST_SPECIAL_FLAGS_KILL</a>) <span class="comment">/*&amp;&amp; !qInfo-&gt;HasSpecialFlag(QUEST_SPECIAL_FLAGS_CAST)*/</span>)</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>            {</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>                {</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>                    <span class="comment">// skip GO activate objective or none</span></div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j] &lt;= 0)</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span> </div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>                    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqkill = qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j];</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span> </div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>                    <span class="keywordflow">if</span> (reqkill == real_entry)</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>                    {</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>                        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqkillcount = qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[j];</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>                        <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curkillcount = q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j];</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>                        <span class="keywordflow">if</span> (curkillcount &lt; reqkillcount)</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>                        {</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>                            q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j] = curkillcount + addkillcount;</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span> </div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>                            <a class="code hl_variable" href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questid] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span> </div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>                            <a class="code hl_function" href="../../df/d6a/a08044.html#a3d425ac6fd9142a4e2bade0d6db6c254">SendQuestUpdateAddCreatureOrGo</a>(qInfo, guid, j, curkillcount, addkillcount);</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>                        }</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>                            <a class="code hl_function" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>                        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>                            <a class="code hl_function" href="../../df/d6a/a08044.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code hl_enumvalue" href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span> </div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>                        <span class="comment">// same objective target can be in many active quests, but not in 2 objectives for single quest (code optimization).</span></div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>                    }</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>                }</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>            }</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>        }</div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>    }</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>}</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span> </div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ad41ec715f6adfcb5cfc70e3d5925ae85"> 1972</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ad41ec715f6adfcb5cfc70e3d5925ae85">Player::KilledPlayerCredit</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> count)</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>{</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>    {</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>        {</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>        }</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span> </div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>        {</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>        }</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span> </div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>        <span class="comment">// just if !ingroup || !noraidgroup || raidgroup</span></div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>        <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; q_status = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>        <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a> &amp;&amp; (!<a class="code hl_function" href="../../df/d6a/a08044.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>() || !<a class="code hl_function" href="../../df/d6a/a08044.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>()-&gt;isRaidGroup() || qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad0a6cd3d42bc80ab0a3f5472cbf24b8b">IsAllowedInRaid</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>()-&gt;<a class="code hl_function" href="../../df/d6a/a08044.html#a4e146717e02e530b473d147e6c650ff4">GetDifficulty</a>())))</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>        {</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>            <span class="comment">// Xinef: PvP Killing quest require player to be in same zone as quest zone (only 2 quests so no doubt, can be extended to conditions in cata ;s)</span></div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7adaf684e0d6b4efab2cf6a32452b9bba335">QUEST_SPECIAL_FLAGS_PLAYER_KILL</a>) &amp;&amp; (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a72ab8dd7b90b7aaf183a11e9da4cdcaf">GetZoneOrSort</a>() &gt;= 0 &amp;&amp; <a class="code hl_function" href="../../d7/d14/a07836.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>() == <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a72ab8dd7b90b7aaf183a11e9da4cdcaf">GetZoneOrSort</a>())))</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>            {</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>                <a class="code hl_function" href="../../df/d6a/a08044.html#ad868b1cd905ba7dc0fc8969240cf8c58">KilledPlayerCreditForQuest</a>(count, qInfo);</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>                <span class="keywordflow">break</span>; <span class="comment">// there is only one quest per zone</span></div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>            }</div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>        }</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>    }</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>}</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span> </div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ad868b1cd905ba7dc0fc8969240cf8c58"> 2002</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ad868b1cd905ba7dc0fc8969240cf8c58">Player::KilledPlayerCreditForQuest</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> count, <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest)</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>{</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keyword">const</span> questId = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>();</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span> </div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>    <span class="keyword">auto</span> it = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(questId);</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>    <span class="keywordflow">if</span> (it == <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end())</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>    {</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>    }</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span> </div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>    <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; questStatus = it-&gt;second;</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span> </div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curKill = questStatus.<a class="code hl_variable" href="../../dd/d88/a09564.html#a170a1e54fe45b7fd0c7934f1309f7969">PlayerCount</a>;</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqKill = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a910f66ebd4b91d594dab6e6227ad2917">GetPlayersSlain</a>();</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span> </div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>    <span class="keywordflow">if</span> (curKill &lt; reqKill)</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>    {</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>        count = std::min&lt;uint16&gt;(reqKill - curKill, count);</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>        questStatus.<a class="code hl_variable" href="../../dd/d88/a09564.html#a170a1e54fe45b7fd0c7934f1309f7969">PlayerCount</a> = curKill + count;</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span> </div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>        <a class="code hl_variable" href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span> </div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#aea4d1caa45ca6a98450bf7c9032cf35b">SendQuestUpdateAddPlayer</a>(quest, curKill, count);</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>    }</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span> </div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questId))</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>    {</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questId);</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>    }</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>}</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span> </div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ac1e9eaf17709fa3fec00fc2356ead46b"> 2033</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ac1e9eaf17709fa3fec00fc2356ead46b">Player::KillCreditGO</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry, <a class="code hl_class" href="../../da/d98/a07852.html">ObjectGuid</a> guid)</div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>{</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> addCastCount = 1;</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>    {</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span> </div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span> </div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>        <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; q_status = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span> </div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>        <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>        {</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce">QUEST_SPECIAL_FLAGS_CAST</a>) <span class="comment">/*&amp;&amp; !qInfo-&gt;HasSpecialFlag(QUEST_SPECIAL_FLAGS_KILL)*/</span>)</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>            {</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>                {</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>                    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqTarget = 0;</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span> </div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>                    <span class="comment">// GO activate objective</span></div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j] &lt; 0)</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>                        <span class="comment">// checked at quest_template loading</span></div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>                        reqTarget = - qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j];</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span> </div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>                    <span class="comment">// other not this creature/GO related objectives</span></div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span>                    <span class="keywordflow">if</span> (reqTarget != entry)</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span> </div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>                    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqCastCount = qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[j];</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>                    <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curCastCount = q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j];</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>                    <span class="keywordflow">if</span> (curCastCount &lt; reqCastCount)</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>                    {</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>                        q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j] = curCastCount + addCastCount;</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span> </div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>                        <a class="code hl_variable" href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questid] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span> </div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>                        <a class="code hl_function" href="../../df/d6a/a08044.html#a3d425ac6fd9142a4e2bade0d6db6c254">SendQuestUpdateAddCreatureOrGo</a>(qInfo, guid, j, curCastCount, addCastCount);</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>                    }</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span> </div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>                        <a class="code hl_function" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>                        <a class="code hl_function" href="../../df/d6a/a08044.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code hl_enumvalue" href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span> </div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>                    <span class="comment">// same objective target can be in many active quests, but not in 2 objectives for single quest (code optimization).</span></div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>                }</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>            }</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>        }</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>    }</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>}</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span> </div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a4c174e400f1b0df0ec02141d92ab87b2"> 2089</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a4c174e400f1b0df0ec02141d92ab87b2">Player::TalkedToCreature</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry, <a class="code hl_class" href="../../da/d98/a07852.html">ObjectGuid</a> guid)</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>{</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> addTalkCount = 1;</div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>    {</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span> </div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span> </div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>        <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; q_status = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span> </div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>        <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>        {</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27">QUEST_SPECIAL_FLAGS_KILL</a> | <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce">QUEST_SPECIAL_FLAGS_CAST</a> | <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7adaae331a9f2b83cc198f7bdd130fc3c8d8">QUEST_SPECIAL_FLAGS_SPEAKTO</a>))</div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>            {</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>                {</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>                    <span class="comment">// skip Gameobject objectives</span></div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j] &lt; 0)</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span> </div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>                    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqTarget = 0;</div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span> </div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j] &gt; 0)    <span class="comment">// creature activate objectives</span></div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>                        <span class="comment">// checked at quest_template loading</span></div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>                        reqTarget = qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j];</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span> </div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>                    <span class="keywordflow">if</span> (reqTarget == entry)</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>                    {</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>                        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqTalkCount = qInfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[j];</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>                        <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curTalkCount = q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j];</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>                        <span class="keywordflow">if</span> (curTalkCount &lt; reqTalkCount)</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>                        {</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>                            q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j] = curTalkCount + addTalkCount;</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span> </div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>                            <a class="code hl_variable" href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questid] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span> </div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>                            <a class="code hl_function" href="../../df/d6a/a08044.html#a3d425ac6fd9142a4e2bade0d6db6c254">SendQuestUpdateAddCreatureOrGo</a>(qInfo, guid, j, curTalkCount, addTalkCount);</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>                        }</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>                            <a class="code hl_function" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>                        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>                            <a class="code hl_function" href="../../df/d6a/a08044.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code hl_enumvalue" href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span> </div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>                        <span class="comment">// same objective target can be in many active quests, but not in 2 objectives for single quest (code optimization).</span></div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>                    }</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>                }</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>            }</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>        }</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>    }</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>}</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span> </div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#ab941b16982ef92a3ce3f62b7b861ea61"> 2148</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#ab941b16982ef92a3ce3f62b7b861ea61">Player::MoneyChanged</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count)</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>{</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>    {</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span> </div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid))</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>        {</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>            <a class="code hl_typedef" href="../../d1/da8/a00230.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> rewOrReqMoney = qInfo-&gt;GetRewOrReqMoney();</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>            <span class="keywordflow">if</span> (rewOrReqMoney &lt; 0)</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>            {</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>                <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; q_status = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span> </div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>                <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>                {</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>                    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(count) &gt;= -rewOrReqMoney)</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>                    {</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>                        {</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>                            <a class="code hl_function" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>                        }</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>                    }</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>                }</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>)</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>                {</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>                    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(count) &lt; -rewOrReqMoney)</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>                    {</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>                        <a class="code hl_function" href="../../df/d6a/a08044.html#a23321f70f6954313a691f35ce93d2794">IncompleteQuest</a>(questid);</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>                    }</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>                }</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>            }</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>        }</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>    }</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>}</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span> </div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a027311c87a87395ab2c6950d17cbf5cb"> 2185</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a027311c87a87395ab2c6950d17cbf5cb">Player::ReputationChanged</a>(<a class="code hl_struct" href="../../da/d98/a30124.html">FactionEntry</a> <span class="keyword">const</span>* factionEntry)</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>{</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>    {</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i))</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>        {</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid))</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>            {</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>                <span class="keywordflow">if</span> (qInfo-&gt;GetRepObjectiveFaction() == factionEntry-&gt;<a class="code hl_variable" href="../../da/d98/a30124.html#a1953f7a343201113dae80cdd97e1ac90">ID</a>)</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>                {</div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>                    <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; q_status = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>                    <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>                    {</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#af5e271a82ad1ba3d3b081b9774b7a5e5">GetReputationMgr</a>().<a class="code hl_function" href="../../df/d6a/a08044.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(factionEntry) &gt;= qInfo-&gt;GetRepObjectiveValue())</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>                            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>                                <a class="code hl_function" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>                    }</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>)</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>                    {</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#af5e271a82ad1ba3d3b081b9774b7a5e5">GetReputationMgr</a>().<a class="code hl_function" href="../../df/d6a/a08044.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(factionEntry) &lt; qInfo-&gt;GetRepObjectiveValue())</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>                            <a class="code hl_function" href="../../df/d6a/a08044.html#a23321f70f6954313a691f35ce93d2794">IncompleteQuest</a>(questid);</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>                    }</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>                }</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>            }</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>        }</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>    }</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>}</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span> </div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a3aaa65265268e0e56812f64009d8b5cd"> 2213</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a3aaa65265268e0e56812f64009d8b5cd">Player::ReputationChanged2</a>(<a class="code hl_struct" href="../../da/d98/a30124.html">FactionEntry</a> <span class="keyword">const</span>* factionEntry)</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>{</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>    {</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i))</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>        {</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid))</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>            {</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>                <span class="keywordflow">if</span> (qInfo-&gt;GetRepObjectiveFaction2() == factionEntry-&gt;<a class="code hl_variable" href="../../da/d98/a30124.html#a1953f7a343201113dae80cdd97e1ac90">ID</a>)</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>                {</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>                    <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a>&amp; q_status = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>                    <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>                    {</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#af5e271a82ad1ba3d3b081b9774b7a5e5">GetReputationMgr</a>().<a class="code hl_function" href="../../df/d6a/a08044.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(factionEntry) &gt;= qInfo-&gt;GetRepObjectiveValue2())</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>                            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>                                <a class="code hl_function" href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>                    }</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>)</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>                    {</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#af5e271a82ad1ba3d3b081b9774b7a5e5">GetReputationMgr</a>().<a class="code hl_function" href="../../df/d6a/a08044.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(factionEntry) &lt; qInfo-&gt;GetRepObjectiveValue2())</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>                            <a class="code hl_function" href="../../df/d6a/a08044.html#a23321f70f6954313a691f35ce93d2794">IncompleteQuest</a>(questid);</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>                    }</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>                }</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>            }</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>        }</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>    }</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>}</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span> </div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a154dcd260829c16a4881fc9c5e8e9629"> 2241</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a154dcd260829c16a4881fc9c5e8e9629">Player::HasQuestForItem</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> itemid, <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> excludeQuestId <span class="comment">/* 0 */</span>, <span class="keywordtype">bool</span> turnIn <span class="comment">/* false */</span>, <span class="keywordtype">bool</span>* showInLoot <span class="comment">/*= nullptr*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>    {</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>        <span class="keywordflow">if</span> (questid == 0 || questid == excludeQuestId)</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span> </div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>        QuestStatusMap::const_iterator qs_itr = <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(questid);</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>        <span class="keywordflow">if</span> (qs_itr == <a class="code hl_variable" href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end())</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span> </div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>        <a class="code hl_struct" href="../../dd/d88/a09564.html">QuestStatusData</a> <span class="keyword">const</span>&amp; q_status = qs_itr-&gt;second;</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span> </div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>        <span class="keywordflow">if</span> ((q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>) || (turnIn &amp;&amp; q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code hl_enumvalue" href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>))</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>        {</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>            <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* qinfo = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>            <span class="keywordflow">if</span> (!qinfo)</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span> </div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>            <span class="comment">// hide quest if player is in raid-group and quest is no raid quest</span></div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>() &amp;&amp; <a class="code hl_function" href="../../df/d6a/a08044.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>()-&gt;isRaidGroup() &amp;&amp; !qinfo-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad0a6cd3d42bc80ab0a3f5472cbf24b8b">IsAllowedInRaid</a>(<a class="code hl_function" href="../../d7/d14/a07836.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>()-&gt;<a class="code hl_function" href="../../df/d6a/a08044.html#a4e146717e02e530b473d147e6c650ff4">GetDifficulty</a>()))</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>            {</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../df/d6a/a08044.html#a467189aea8a8fb26ef8482254e6f2b34">InBattleground</a>() &amp;&amp; !<a class="code hl_function" href="../../df/d6a/a08044.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>()-&gt;isBFGroup()) <span class="comment">//there are two ways.. we can make every bg-quest a raidquest, or add this code here.. i don&#39;t know if this can be exploited by other quests, but i think all other quests depend on a specific area.. but keep this in mind, if something strange happens later</span></div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>                {</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>                }</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>            }</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span> </div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>            <span class="comment">// There should be no mixed ReqItem/ReqSource drop</span></div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>            <span class="comment">// This part for ReqItem drop</span></div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>            {</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>                <span class="keywordflow">if</span> (itemid == qinfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[j] &amp;&amp; q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] &lt; qinfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[j])</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>                {</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>                    <span class="keywordflow">if</span> (showInLoot)</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>                    {</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d6a/a08044.html#a5aa219a691b0c5212fda9de12dfd72e9">GetItemCount</a>(itemid, <span class="keyword">true</span>) &lt; qinfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[j])</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>                        {</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>                            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>                        }</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span> </div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>                        *showInLoot = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>                    }</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>                    {</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>                    }</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>                }</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span> </div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>                <span class="keywordflow">if</span> (turnIn &amp;&amp; q_status.<a class="code hl_variable" href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] &gt;= qinfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[j])</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>                {</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>                }</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>            }</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>            <span class="comment">// This part - for ReqSource</span></div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#acf2c83159c7b7d9270380dafa7ab8d11">QUEST_SOURCE_ITEM_IDS_COUNT</a>; ++j)</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>            {</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>                <span class="comment">// examined item is a source item</span></div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>                <span class="keywordflow">if</span> (qinfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a5f22941fdb30fd269c0cf7ddab97e918">ItemDrop</a>[j] == itemid)</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>                {</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>                    <a class="code hl_struct" href="../../dc/d8f/a07784.html">ItemTemplate</a> <span class="keyword">const</span>* pProto = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(itemid);</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>                    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> ownedCount = <a class="code hl_function" href="../../df/d6a/a08044.html#a5aa219a691b0c5212fda9de12dfd72e9">GetItemCount</a>(itemid, <span class="keyword">true</span>);</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>                    <span class="comment">// &#39;unique&#39; item</span></div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>                    <span class="keywordflow">if</span> ((pProto-&gt;<a class="code hl_variable" href="../../dc/d8f/a07784.html#a2c13c4c1edbd3add9c6e0e2263f6c717">MaxCount</a> &amp;&amp; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(ownedCount) &lt; pProto-&gt;<a class="code hl_variable" href="../../dc/d8f/a07784.html#a2c13c4c1edbd3add9c6e0e2263f6c717">MaxCount</a>) || (turnIn &amp;&amp; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(ownedCount) &gt;= pProto-&gt;<a class="code hl_variable" href="../../dc/d8f/a07784.html#a2c13c4c1edbd3add9c6e0e2263f6c717">MaxCount</a>))</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span> </div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>                    <span class="comment">// allows custom amount drop when not 0</span></div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>                    <span class="keywordflow">if</span> (qinfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a05de2206c2a4c7761851f87c81842ace">ItemDropQuantity</a>[j])</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>                    {</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>                        <span class="keywordflow">if</span> ((ownedCount &lt; qinfo-&gt;ItemDropQuantity[j]) || (turnIn &amp;&amp; ownedCount &gt;= qinfo-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a05de2206c2a4c7761851f87c81842ace">ItemDropQuantity</a>[j]))</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>                            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>                    }</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ownedCount &lt; pProto-&gt;GetMaxStackSize())</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>                }</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>            }</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>        }</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>    }</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>}</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span> </div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a9e99ee8e3d5603c86e5ed99bb1d233ee"> 2323</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a9e99ee8e3d5603c86e5ed99bb1d233ee">Player::SendQuestComplete</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>{</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>    <span class="keywordflow">if</span> (quest_id)</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>    {</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>        <a class="code hl_class" href="../../d1/dac/a10340.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9bad966b4945954bdffc0b71a71ebb4b4c3">SMSG_QUESTUPDATE_COMPLETE</a>, 4);</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest_id);</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>        <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTUPDATE_COMPLETE quest = {}&quot;</span>, quest_id);</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>    }</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>}</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span> </div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a722631a3f64dd62b5f8db9114051e4cf"> 2334</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a722631a3f64dd62b5f8db9114051e4cf">Player::SendQuestReward</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> XP)</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>{</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>();</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>    <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTGIVER_QUEST_COMPLETE quest = {}&quot;</span>, questid);</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>    <a class="code hl_define" href="../../d3/da4/a01343.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;HandleQuestComplete(questid);</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>    <a class="code hl_class" href="../../d1/dac/a10340.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9baf86976d74ca377eacfd672c0ee2d3e45">SMSG_QUESTGIVER_QUEST_COMPLETE</a>, (4 + 4 + 4 + 4 + 4));</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questid);</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span> </div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() &lt; <a class="code hl_define" href="../../d3/d74/a04418.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/d6f/a02234.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a>))</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>    {</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(XP);</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad52228188a1e225f7b26dd0a16967994">GetRewOrReqMoney</a>(<a class="code hl_function" href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>()));</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>    }</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>    {</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#ad52228188a1e225f7b26dd0a16967994">GetRewOrReqMoney</a>(<a class="code hl_function" href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>()) + quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a0ce0eac987fc5e0d7424d05d3e36ceca">GetRewMoneyMaxLevel</a>());</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>    }</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span> </div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(10 * quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a93e369e74db8a06214df0ded5731e925">CalculateHonorGain</a>(<a class="code hl_function" href="../../df/d6a/a08044.html#a12c144fe6e00820ed8929e0547ab04f3">GetQuestLevel</a>(quest)));</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#aefa1e253b25eb7e6a0239f14dda98ffc">GetBonusTalents</a>());              <span class="comment">// bonus talents</span></div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a040b23aa9d248980540640a5dcac3cf5">GetRewArenaPoints</a>());</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>}</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span> </div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a6b0668bfae62da5119dbc080d2c3c7f5"> 2359</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a6b0668bfae62da5119dbc080d2c3c7f5">Player::SendQuestFailed</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <a class="code hl_enumeration" href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> reason)</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>{</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>    <span class="keywordflow">if</span> (questId)</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>    {</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>        <a class="code hl_class" href="../../d1/dac/a10340.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba4857f7dedd8750bcf0de224609705ac7">SMSG_QUESTGIVER_QUEST_FAILED</a>, 4 + 4);</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questId);</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(reason);                             <span class="comment">// failed reason (valid reasons: 4, 16, 50, 17, 74, other values show default message)</span></div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>        <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTGIVER_QUEST_FAILED&quot;</span>);</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>    }</div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>}</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span> </div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a572b6465151408484c3bf84bb3f946a3"> 2371</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a572b6465151408484c3bf84bb3f946a3">Player::SendQuestTimerFailed</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>{</div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>    <span class="keywordflow">if</span> (quest_id)</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>    {</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>        <a class="code hl_class" href="../../d1/dac/a10340.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9bae94543520cb50237ff53ca89a622fe28">SMSG_QUESTUPDATE_FAILEDTIMER</a>, 4);</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest_id);</div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>        <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTUPDATE_FAILEDTIMER&quot;</span>);</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>    }</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>}</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span> </div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39"> 2382</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">Player::SendCanTakeQuestResponse</a>(<a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>    <a class="code hl_class" href="../../d1/dac/a10340.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba7a952d47f9cef9c114ef64e1e854eecc">SMSG_QUESTGIVER_QUEST_INVALID</a>, 4);</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(msg);</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>    <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTGIVER_QUEST_INVALID&quot;</span>);</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>}</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span> </div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a4421205f8ff8c57dd0c7aa2eae0ba4a2"> 2390</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a4421205f8ff8c57dd0c7aa2eae0ba4a2">Player::SendQuestConfirmAccept</a>(<span class="keyword">const</span> <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a>* quest, <a class="code hl_class" href="../../df/d6a/a08044.html">Player</a>* pReceiver)</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>{</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>    <span class="keywordflow">if</span> (pReceiver)</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>    {</div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>        <span class="comment">//load locale from db</span></div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>        std::string strTitle = quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#add051d795a43fec06874305a818f5998">GetTitle</a>();</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span> </div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span>        <span class="keywordtype">int</span> loc_idx = pReceiver-&gt;<a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>        <span class="keywordflow">if</span> (loc_idx &gt;= 0)</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>            <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code hl_struct" href="../../d2/d49/a09548.html">QuestLocale</a>* pLocale = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestLocale(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()))</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span>                <a class="code hl_function" href="../../d8/d05/a08464.html#a92a2d9fe378030122340f34a7cb79ef9">ObjectMgr::GetLocaleString</a>(pLocale-&gt;Title, loc_idx, strTitle);</div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span> </div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>        <a class="code hl_class" href="../../d1/dac/a10340.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9baf375f927018f994e6c6092dc151c858e">SMSG_QUEST_CONFIRM_ACCEPT</a>, (4 + quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#add051d795a43fec06874305a818f5998">GetTitle</a>().size() + 8));</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>        data &lt;&lt; quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#add051d795a43fec06874305a818f5998">GetTitle</a>();</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>        data &lt;&lt; <a class="code hl_function" href="../../d3/dd0/a07804.html#ae65fbd7720a9aa448516f6cf494bda67">GetGUID</a>();</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>        pReceiver-&gt;<a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span> </div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>        <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUEST_CONFIRM_ACCEPT&quot;</span>);</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>    }</div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>}</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span> </div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a912005a1a9058c11996bbbd8b6a0152c"> 2412</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a912005a1a9058c11996bbbd8b6a0152c">Player::SendPushToPartyResponse</a>(<a class="code hl_class" href="../../df/d6a/a08044.html">Player</a> <span class="keyword">const</span>* player, <a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> msg)<span class="keyword"> const</span></div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>    <span class="keywordflow">if</span> (player)</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>    {</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span>        <a class="code hl_class" href="../../d1/dac/a10340.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba74baedb07a0701b4ce635b21591bd3b0">MSG_QUEST_PUSH_RESULT</a>, (8 + 1));</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>        data &lt;&lt; player-&gt;<a class="code hl_function" href="../../d3/dd0/a07804.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>();</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(msg);                                 <span class="comment">// valid values: 0-8</span></div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>        <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent MSG_QUEST_PUSH_RESULT&quot;</span>);</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>    }</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>}</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span> </div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a8d4c78dff4096eff3cd1bf34f1b91768"> 2424</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a8d4c78dff4096eff3cd1bf34f1b91768">Player::SendQuestUpdateAddItem</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* <span class="comment">/*quest*/</span>, <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="comment">/*item_idx*/</span>, <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> <span class="comment">/*count*/</span>)</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>{</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>    <a class="code hl_class" href="../../d1/dac/a10340.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9baaa689b8ec7c14d2fb2a79c8650722df5">SMSG_QUESTUPDATE_ADD_ITEM</a>, 0);</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>    <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTUPDATE_ADD_ITEM&quot;</span>);</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>    <span class="comment">//data &lt;&lt; quest-&gt;RequiredItemId[item_idx];</span></div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>    <span class="comment">//data &lt;&lt; count;</span></div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>}</div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span> </div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a3d425ac6fd9142a4e2bade0d6db6c254"> 2433</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a3d425ac6fd9142a4e2bade0d6db6c254">Player::SendQuestUpdateAddCreatureOrGo</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code hl_class" href="../../da/d98/a07852.html">ObjectGuid</a> guid, <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> creatureOrGO_idx, <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> old_count, <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> add_count)</div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>{</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span>    <a class="code hl_define" href="../../dd/d52/a00221.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(old_count + add_count &lt; 65536 &amp;&amp; <span class="stringliteral">&quot;mob/GO count store in 16 bits 2^16 = 65536 (0..65536)&quot;</span>);</div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span> </div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> entry = quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[ creatureOrGO_idx ];</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>    <span class="keywordflow">if</span> (entry &lt; 0)</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>        <span class="comment">// client expected gameobject template id in form (id|0x80000000)</span></div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>        entry = (-entry) | 0x80000000;</div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span> </div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span>    <a class="code hl_class" href="../../d1/dac/a10340.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba5d2eb06053041c2a960482f43020c855">SMSG_QUESTUPDATE_ADD_KILL</a>, (4 * 4 + 8));</div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>    <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTUPDATE_ADD_KILL&quot;</span>);</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(entry);</div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(old_count + add_count);</div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code hl_variable" href="../../d1/db9/a09560.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[ creatureOrGO_idx ]);</div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>    data &lt;&lt; guid;</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span> </div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code hl_function" href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>    <span class="keywordflow">if</span> (log_slot &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a7fd041ba881e95856b8520252b0327a6">SetQuestSlotCounter</a>(log_slot, creatureOrGO_idx, <a class="code hl_function" href="../../df/d6a/a08044.html#a1dff33f9fec35951365e2ee54eac20b8">GetQuestSlotCounter</a>(log_slot, creatureOrGO_idx) + add_count);</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>}</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span> </div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#aea4d1caa45ca6a98450bf7c9032cf35b"> 2456</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../df/d6a/a08044.html#aea4d1caa45ca6a98450bf7c9032cf35b">Player::SendQuestUpdateAddPlayer</a>(<a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> old_count, <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> add_count)</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>{</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>    <a class="code hl_define" href="../../dd/d52/a00221.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(old_count + add_count &lt; 65536 &amp;&amp; <span class="stringliteral">&quot;player count store in 16 bits&quot;</span>);</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span> </div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>    <a class="code hl_class" href="../../d1/dac/a10340.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba2ea19a4baee312f6efe15e1aaaae0db3">SMSG_QUESTUPDATE_ADD_PVP_KILL</a>, (3 * 4));</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>    <a class="code hl_define" href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTUPDATE_ADD_PVP_KILL&quot;</span>);</div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(old_count + add_count);</div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a910f66ebd4b91d594dab6e6227ad2917">GetPlayersSlain</a>());</div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span>    <a class="code hl_function" href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span> </div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span>    <a class="code hl_typedef" href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code hl_function" href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span>    <span class="keywordflow">if</span> (log_slot &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>        <a class="code hl_function" href="../../df/d6a/a08044.html#a7fd041ba881e95856b8520252b0327a6">SetQuestSlotCounter</a>(log_slot, <a class="code hl_define" href="../../d4/d29/a01817.html#aae8e69a2d2eb5235b7868221a2c8aa65">QUEST_PVP_KILL_SLOT</a>, <a class="code hl_function" href="../../df/d6a/a08044.html#a1dff33f9fec35951365e2ee54eac20b8">GetQuestSlotCounter</a>(log_slot, <a class="code hl_define" href="../../d4/d29/a01817.html#aae8e69a2d2eb5235b7868221a2c8aa65">QUEST_PVP_KILL_SLOT</a>) + add_count);</div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>}</div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span> </div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"><a class="line" href="../../df/d6a/a08044.html#a144a3a724d55073438501522b396bc44"> 2472</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../df/d6a/a08044.html#a144a3a724d55073438501522b396bc44">Player::HasPvPForcingQuest</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span>    {</div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>        <a class="code hl_typedef" href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId = <a class="code hl_function" href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span>        <span class="keywordflow">if</span> (questId == 0)</div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span> </div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>        <a class="code hl_class" href="../../d1/db9/a09560.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code hl_define" href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId);</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>        <span class="keywordflow">if</span> (!quest)</div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span> </div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>        <span class="keywordflow">if</span> (quest-&gt;<a class="code hl_function" href="../../d1/db9/a09560.html#a071cf4919b90266595fef826351f2d2a">HasFlag</a>(<a class="code hl_enumvalue" href="../../d4/d29/a01817.html#a881ebe30fbf0f088d54bfa959cefe47ca16e6bbf1bd0e4cc59521b0e5e4ed670e">QUEST_FLAGS_FLAGS_PVP</a>))</div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>    }</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span> </div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>}</div>
<div class="ttc" id="aa00122_html_a84190f79c8167211609f67284e066c58"><div class="ttname"><a href="../../df/dc8/a00122.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a></div><div class="ttdeci">constexpr auto IN_MILLISECONDS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/a00122_source.html#l00062">Common.h:62</a></div></div>
<div class="ttc" id="aa00221_html_af343b20373ba49a92fce523e948f2ab3"><div class="ttname"><a href="../../dd/d52/a00221.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a></div><div class="ttdeci">#define ASSERT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d52/a00221_source.html#l00068">Errors.h:68</a></div></div>
<div class="ttc" id="aa00230_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="../../d1/da8/a00230.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da8/a00230_source.html#l00104">Define.h:104</a></div></div>
<div class="ttc" id="aa00230_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="../../d1/da8/a00230.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da8/a00230_source.html#l00110">Define.h:110</a></div></div>
<div class="ttc" id="aa00230_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../d1/da8/a00230.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da8/a00230_source.html#l00108">Define.h:108</a></div></div>
<div class="ttc" id="aa00230_html_ad9c79638db63f1dfe2b085743b5cbf7b"><div class="ttname"><a href="../../d1/da8/a00230.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a></div><div class="ttdeci">std::uint16_t uint16</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da8/a00230_source.html#l00109">Define.h:109</a></div></div>
<div class="ttc" id="aa00281_html"><div class="ttname"><a href="../../d2/d04/a00281.html">GitRevision.h</a></div></div>
<div class="ttc" id="aa00317_html_a47ac782b14a7531c6232777165a1a161"><div class="ttname"><a href="../../da/de0/a00317.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(filterType__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/de0/a00317_source.html#l00171">Log.h:171</a></div></div>
<div class="ttc" id="aa00506_html_a53176b459b4462b058b2a1be47ef82ee"><div class="ttname"><a href="../../d4/d1f/a00506.html#a53176b459b4462b058b2a1be47ef82ee">AddPct</a></div><div class="ttdeci">T AddPct(T &amp;base, U pct)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d1f/a00506_source.html#l00067">Util.h:67</a></div></div>
<div class="ttc" id="aa00560_html_a7e7534bc66d79434bd280b77cb124eec"><div class="ttname"><a href="../../d9/d19/a00560.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; CharacterDatabaseConnection &gt; CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d19/a00560_source.html#l00021">DatabaseEnv.cpp:21</a></div></div>
<div class="ttc" id="aa00566_html_a96bac9a371212c6bab7a9448214666c0"><div class="ttname"><a href="../../d0/d3e/a00566.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a></div><div class="ttdeci">SQLTransaction&lt; CharacterDatabaseConnection &gt; CharacterDatabaseTransaction</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3e/a00566_source.html#l00070">DatabaseEnvFwd.h:70</a></div></div>
<div class="ttc" id="aa00596_html_a76116b4fa282d8e35bf8f8e940b5cba7a1d30572a7f06c2e359c143d8e8fc6c7a"><div class="ttname"><a href="../../dc/d25/a00596.html#a76116b4fa282d8e35bf8f8e940b5cba7a1d30572a7f06c2e359c143d8e8fc6c7a">CHAR_UPD_QUEST_TRACK_COMPLETE_TIME</a></div><div class="ttdeci">@ CHAR_UPD_QUEST_TRACK_COMPLETE_TIME</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d25/a00596_source.html#l00500">CharacterDatabase.h:500</a></div></div>
<div class="ttc" id="aa00596_html_a76116b4fa282d8e35bf8f8e940b5cba7ac9ebca48fcfc7fd698951925c55a36fe"><div class="ttname"><a href="../../dc/d25/a00596.html#a76116b4fa282d8e35bf8f8e940b5cba7ac9ebca48fcfc7fd698951925c55a36fe">CHAR_INS_QUEST_TRACK</a></div><div class="ttdeci">@ CHAR_INS_QUEST_TRACK</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d25/a00596_source.html#l00498">CharacterDatabase.h:498</a></div></div>
<div class="ttc" id="aa00716_html"><div class="ttname"><a href="../../d2/d94/a00716.html">GameObjectAI.h</a></div></div>
<div class="ttc" id="aa00758_html"><div class="ttname"><a href="../../d2/d4a/a00758.html">CreatureAI.h</a></div></div>
<div class="ttc" id="aa01064_html_a5ab0412c3dc24dbd690ba6d7f01657f8"><div class="ttname"><a href="../../d9/db3/a01064.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a></div><div class="ttdeci">#define sConditionMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db3/a01064_source.html#l00289">ConditionMgr.h:289</a></div></div>
<div class="ttc" id="aa01064_html_a5ba040e3c1f6efbefb512efb9bd69a7faff018c19627d2a3c3767b8c3665cd1eb"><div class="ttname"><a href="../../d9/db3/a01064.html#a5ba040e3c1f6efbefb512efb9bd69a7faff018c19627d2a3c3767b8c3665cd1eb">CONDITION_SOURCE_TYPE_QUEST_AVAILABLE</a></div><div class="ttdeci">@ CONDITION_SOURCE_TYPE_QUEST_AVAILABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db3/a01064_source.html#l00141">ConditionMgr.h:141</a></div></div>
<div class="ttc" id="aa01064_html_ae942a8e25dc24ce42e62625bb583c0dd"><div class="ttname"><a href="../../d9/db3/a01064.html#ae942a8e25dc24ce42e62625bb583c0dd">ConditionList</a></div><div class="ttdeci">std::list&lt; Condition * &gt; ConditionList</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db3/a01064_source.html#l00236">ConditionMgr.h:236</a></div></div>
<div class="ttc" id="aa01070_html"><div class="ttname"><a href="../../d5/d67/a01070.html">DisableMgr.h</a></div></div>
<div class="ttc" id="aa01070_html_affa2a0d7ee61f6e1bc7c6cb7d2c1b64ca53c0091b82a6fc9bc32393f75af1e49e"><div class="ttname"><a href="../../d5/d67/a01070.html#affa2a0d7ee61f6e1bc7c6cb7d2c1b64ca53c0091b82a6fc9bc32393f75af1e49e">DISABLE_TYPE_QUEST</a></div><div class="ttdeci">@ DISABLE_TYPE_QUEST</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d67/a01070_source.html#l00030">DisableMgr.h:30</a></div></div>
<div class="ttc" id="aa01073_html_a06f45c5687b0ce227eb9f147389de967"><div class="ttname"><a href="../../d9/d7c/a01073.html#a06f45c5687b0ce227eb9f147389de967">sCharTitlesStore</a></div><div class="ttdeci">DBCStorage&lt; CharTitlesEntry &gt; sCharTitlesStore(CharTitlesEntryfmt)</div></div>
<div class="ttc" id="aa01073_html_a0fff35395ba871f73cf11434790780d7"><div class="ttname"><a href="../../d9/d7c/a01073.html#a0fff35395ba871f73cf11434790780d7">sFactionStore</a></div><div class="ttdeci">DBCStorage&lt; FactionEntry &gt; sFactionStore(FactionEntryfmt)</div></div>
<div class="ttc" id="aa01136_html_a3f331d9e202385f679104cc20ef74c3d"><div class="ttname"><a href="../../d1/dae/a01136.html#a3f331d9e202385f679104cc20ef74c3d">MAX_KILL_CREDIT</a></div><div class="ttdeci">#define MAX_KILL_CREDIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dae/a01136_source.html#l00034">CreatureData.h:34</a></div></div>
<div class="ttc" id="aa01151_html"><div class="ttname"><a href="../../de/df1/a01151.html">GossipDef.h</a></div></div>
<div class="ttc" id="aa01184_html_a73617af2b3e5e935646638fa13678391"><div class="ttname"><a href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a></div><div class="ttdeci">InventoryResult</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/a01184_source.html#l00039">Item.h:40</a></div></div>
<div class="ttc" id="aa01184_html_a73617af2b3e5e935646638fa13678391a8b1b5966ea1ccbf5ee6d1d4a244b272e"><div class="ttname"><a href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391a8b1b5966ea1ccbf5ee6d1d4a244b272e">EQUIP_ERR_ITEM_NOT_FOUND</a></div><div class="ttdeci">@ EQUIP_ERR_ITEM_NOT_FOUND</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/a01184_source.html#l00064">Item.h:64</a></div></div>
<div class="ttc" id="aa01184_html_a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c"><div class="ttname"><a href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a></div><div class="ttdeci">@ EQUIP_ERR_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/a01184_source.html#l00041">Item.h:41</a></div></div>
<div class="ttc" id="aa01184_html_a73617af2b3e5e935646638fa13678391ac38e8d6381e5ed7855a06a1b34163dca"><div class="ttname"><a href="../../d1/d35/a01184.html#a73617af2b3e5e935646638fa13678391ac38e8d6381e5ed7855a06a1b34163dca">EQUIP_ERR_CANT_CARRY_MORE_OF_THIS</a></div><div class="ttdeci">@ EQUIP_ERR_CANT_CARRY_MORE_OF_THIS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/a01184_source.html#l00058">Item.h:58</a></div></div>
<div class="ttc" id="aa01193_html_aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3"><div class="ttname"><a href="../../dd/d43/a01193.html#aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3">BIND_QUEST_ITEM</a></div><div class="ttdeci">@ BIND_QUEST_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/a01193_source.html#l00100">ItemTemplate.h:100</a></div></div>
<div class="ttc" id="aa01208_html_a183c40b2ba67065929d70b3987da4cc2a91b74ac7ebfe7909332a6eec5054c60d"><div class="ttname"><a href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2a91b74ac7ebfe7909332a6eec5054c60d">TYPEID_GAMEOBJECT</a></div><div class="ttdeci">@ TYPEID_GAMEOBJECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/a01208_source.html#l00039">ObjectGuid.h:39</a></div></div>
<div class="ttc" id="aa01208_html_a183c40b2ba67065929d70b3987da4cc2a93dfa528ffc48db4993fb7ac62696db9"><div class="ttname"><a href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2a93dfa528ffc48db4993fb7ac62696db9">TYPEID_UNIT</a></div><div class="ttdeci">@ TYPEID_UNIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/a01208_source.html#l00037">ObjectGuid.h:37</a></div></div>
<div class="ttc" id="aa01208_html_a183c40b2ba67065929d70b3987da4cc2ab2bcf0ba3fcc0090223bf840eda90b28"><div class="ttname"><a href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2ab2bcf0ba3fcc0090223bf840eda90b28">TYPEID_ITEM</a></div><div class="ttdeci">@ TYPEID_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/a01208_source.html#l00035">ObjectGuid.h:35</a></div></div>
<div class="ttc" id="aa01208_html_a183c40b2ba67065929d70b3987da4cc2aca37d750899c40a5743285ccda2bba9c"><div class="ttname"><a href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2aca37d750899c40a5743285ccda2bba9c">TYPEID_PLAYER</a></div><div class="ttdeci">@ TYPEID_PLAYER</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/a01208_source.html#l00038">ObjectGuid.h:38</a></div></div>
<div class="ttc" id="aa01208_html_a183c40b2ba67065929d70b3987da4cc2afebf490e56b6f11276b1523008afa107"><div class="ttname"><a href="../../d9/d31/a01208.html#a183c40b2ba67065929d70b3987da4cc2afebf490e56b6f11276b1523008afa107">TYPEID_CONTAINER</a></div><div class="ttdeci">@ TYPEID_CONTAINER</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/a01208_source.html#l00036">ObjectGuid.h:36</a></div></div>
<div class="ttc" id="aa01208_html_acfe503ba26d8a881f16958aaafd431e1a213c6f64ff343595c13d0e808b75297d"><div class="ttname"><a href="../../d9/d31/a01208.html#acfe503ba26d8a881f16958aaafd431e1a213c6f64ff343595c13d0e808b75297d">TYPEMASK_ITEM</a></div><div class="ttdeci">@ TYPEMASK_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/a01208_source.html#l00049">ObjectGuid.h:49</a></div></div>
<div class="ttc" id="aa01208_html_acfe503ba26d8a881f16958aaafd431e1a611a6f19a7f885d824ea5be71ffca2de"><div class="ttname"><a href="../../d9/d31/a01208.html#acfe503ba26d8a881f16958aaafd431e1a611a6f19a7f885d824ea5be71ffca2de">TYPEMASK_UNIT</a></div><div class="ttdeci">@ TYPEMASK_UNIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/a01208_source.html#l00051">ObjectGuid.h:51</a></div></div>
<div class="ttc" id="aa01208_html_acfe503ba26d8a881f16958aaafd431e1ab64731f0031a7f58c1a56cbf45d6f2f4"><div class="ttname"><a href="../../d9/d31/a01208.html#acfe503ba26d8a881f16958aaafd431e1ab64731f0031a7f58c1a56cbf45d6f2f4">TYPEMASK_GAMEOBJECT</a></div><div class="ttdeci">@ TYPEMASK_GAMEOBJECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/a01208_source.html#l00053">ObjectGuid.h:53</a></div></div>
<div class="ttc" id="aa01235_html_a0e42dc606678c9df7884e1aad621e881a1839e5053ba2ed57303c92683b483745"><div class="ttname"><a href="../../dd/dad/a01235.html#a0e42dc606678c9df7884e1aad621e881a1839e5053ba2ed57303c92683b483745">PLAYER_FIELD_DAILY_QUESTS_1</a></div><div class="ttdeci">@ PLAYER_FIELD_DAILY_QUESTS_1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dad/a01235_source.html#l00385">UpdateFields.h:385</a></div></div>
<div class="ttc" id="aa01265_html"><div class="ttname"><a href="../../da/dd8/a01265.html">Player.h</a></div></div>
<div class="ttc" id="aa01265_html_a06f492a0a20f5264c8395684220fec84"><div class="ttname"><a href="../../da/dd8/a01265.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a></div><div class="ttdeci">std::vector&lt; ItemPosCount &gt; ItemPosCountVec</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l00772">Player.h:772</a></div></div>
<div class="ttc" id="aa01265_html_a2d079af58ae5bf704ea2b958307a5196a61b0594f1dd162d5a1dcff7103cecfc2"><div class="ttname"><a href="../../da/dd8/a01265.html#a2d079af58ae5bf704ea2b958307a5196a61b0594f1dd162d5a1dcff7103cecfc2">QUEST_STATE_COMPLETE</a></div><div class="ttdeci">@ QUEST_STATE_COMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l00634">Player.h:634</a></div></div>
<div class="ttc" id="aa01265_html_a2d079af58ae5bf704ea2b958307a5196a94e8ba97d7ae5f33b87bab4d23ffb39f"><div class="ttname"><a href="../../da/dd8/a01265.html#a2d079af58ae5bf704ea2b958307a5196a94e8ba97d7ae5f33b87bab4d23ffb39f">QUEST_STATE_FAIL</a></div><div class="ttdeci">@ QUEST_STATE_FAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l00636">Player.h:635</a></div></div>
<div class="ttc" id="aa01265_html_a9b615cd8e69bf1f12cbee0c8ce784feb"><div class="ttname"><a href="../../da/dd8/a01265.html#a9b615cd8e69bf1f12cbee0c8ce784feb">PLAYER_MAX_DAILY_QUESTS</a></div><div class="ttdeci">#define PLAYER_MAX_DAILY_QUESTS</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l00072">Player.h:72</a></div></div>
<div class="ttc" id="aa01265_html_abb6c0419a027f09fbb5016deede34755a0e79848772fb35db024b1d9cfd8a55b2"><div class="ttname"><a href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755a0e79848772fb35db024b1d9cfd8a55b2">ADDITIONAL_SAVING_INVENTORY_AND_GOLD</a></div><div class="ttdeci">@ ADDITIONAL_SAVING_INVENTORY_AND_GOLD</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l00984">Player.h:984</a></div></div>
<div class="ttc" id="aa01265_html_abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba"><div class="ttname"><a href="../../da/dd8/a01265.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a></div><div class="ttdeci">@ ADDITIONAL_SAVING_QUEST_STATUS</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l00985">Player.h:985</a></div></div>
<div class="ttc" id="aa01328_html_aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b"><div class="ttname"><a href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a></div><div class="ttdeci">@ NULL_BAG</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a01328_source.html#l00210">Unit.h:210</a></div></div>
<div class="ttc" id="aa01328_html_aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130"><div class="ttname"><a href="../../dc/dd9/a01328.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a></div><div class="ttdeci">@ NULL_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a01328_source.html#l00212">Unit.h:211</a></div></div>
<div class="ttc" id="aa01343_html_a3c1c916d94272dfe845b9cc5e8fc292a"><div class="ttname"><a href="../../d3/da4/a01343.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a></div><div class="ttdeci">#define sGameEventMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/da4/a01343_source.html#l00186">GameEventMgr.h:186</a></div></div>
<div class="ttc" id="aa01355_html_a4d2e936df987ca3457dc1cff99fd3394"><div class="ttname"><a href="../../d8/d4e/a01355.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a></div><div class="ttdeci">std::pair&lt; QuestRelations::const_iterator, QuestRelations::const_iterator &gt; QuestRelationBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4e/a01355_source.html#l00519">ObjectMgr.h:519</a></div></div>
<div class="ttc" id="aa01355_html_a736e30da2b5261060ac6cdbb5de3b787"><div class="ttname"><a href="../../d8/d4e/a01355.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a></div><div class="ttdeci">#define sObjectMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4e/a01355_source.html#l01606">ObjectMgr.h:1606</a></div></div>
<div class="ttc" id="aa01400_html"><div class="ttname"><a href="../../dc/d35/a01400.html">Group.h</a></div></div>
<div class="ttc" id="aa01565_html_a0409511b5ca7192d457a7e550a1c6e26a348c2227a2767173436f2f88dfe37716"><div class="ttname"><a href="../../d6/d82/a01565.html#a0409511b5ca7192d457a7e550a1c6e26a348c2227a2767173436f2f88dfe37716">MAIL_CHECK_MASK_HAS_BODY</a></div><div class="ttdeci">@ MAIL_CHECK_MASK_HAS_BODY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d82/a01565_source.html#l00052">Mail.h:52</a></div></div>
<div class="ttc" id="aa01589_html"><div class="ttname"><a href="../../d7/d29/a01589.html">MapMgr.h</a></div></div>
<div class="ttc" id="aa01589_html_a9132749f8376c48b0ca7212eb3293905"><div class="ttname"><a href="../../d7/d29/a01589.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a></div><div class="ttdeci">#define sMapMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d29/a01589_source.html#l00212">MapMgr.h:212</a></div></div>
<div class="ttc" id="aa01805_html"><div class="ttname"><a href="../../d7/d62/a01805.html">PoolMgr.h</a></div></div>
<div class="ttc" id="aa01805_html_a9189dd9c6265b9e6d57104dd61a5fe85"><div class="ttname"><a href="../../d7/d62/a01805.html#a9189dd9c6265b9e6d57104dd61a5fe85">sPoolMgr</a></div><div class="ttdeci">#define sPoolMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d62/a01805_source.html#l00163">PoolMgr.h:163</a></div></div>
<div class="ttc" id="aa01817_html_a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252"><div class="ttname"><a href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a></div><div class="ttdeci">@ INVALIDREASON_DONT_HAVE_REQ</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00048">QuestDef.h:48</a></div></div>
<div class="ttc" id="aa01817_html_a198acf8afc6a434e2a7f2d574520e18fa43ddb2705d2b8b1dadf2129725eb8e67"><div class="ttname"><a href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa43ddb2705d2b8b1dadf2129725eb8e67">INVALIDREASON_QUEST_ALREADY_ON</a></div><div class="ttdeci">@ INVALIDREASON_QUEST_ALREADY_ON</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00053">QuestDef.h:53</a></div></div>
<div class="ttc" id="aa01817_html_a198acf8afc6a434e2a7f2d574520e18fa6ccfc01ce1d8978fd6ff245df456842d"><div class="ttname"><a href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa6ccfc01ce1d8978fd6ff245df456842d">INVALIDREASON_QUEST_FAILED_WRONG_RACE</a></div><div class="ttdeci">@ INVALIDREASON_QUEST_FAILED_WRONG_RACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00050">QuestDef.h:50</a></div></div>
<div class="ttc" id="aa01817_html_a198acf8afc6a434e2a7f2d574520e18fa89932eb633b107826e9dbd9a01b20d87"><div class="ttname"><a href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa89932eb633b107826e9dbd9a01b20d87">INVALIDREASON_QUEST_ONLY_ONE_TIMED</a></div><div class="ttdeci">@ INVALIDREASON_QUEST_ONLY_ONE_TIMED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00052">QuestDef.h:52</a></div></div>
<div class="ttc" id="aa01817_html_a198acf8afc6a434e2a7f2d574520e18fa8c7847cc142b47d740a77d44a9a359f2"><div class="ttname"><a href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fa8c7847cc142b47d740a77d44a9a359f2">INVALIDREASON_QUEST_FAILED_LOW_LEVEL</a></div><div class="ttdeci">@ INVALIDREASON_QUEST_FAILED_LOW_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00049">QuestDef.h:49</a></div></div>
<div class="ttc" id="aa01817_html_a198acf8afc6a434e2a7f2d574520e18fab1743dc9f2777d67b8bbfaa440940d94"><div class="ttname"><a href="../../d4/d29/a01817.html#a198acf8afc6a434e2a7f2d574520e18fab1743dc9f2777d67b8bbfaa440940d94">INVALIDREASON_DAILY_QUESTS_REMAINING</a></div><div class="ttdeci">@ INVALIDREASON_DAILY_QUESTS_REMAINING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00058">QuestDef.h:58</a></div></div>
<div class="ttc" id="aa01817_html_a5b538720bd7de8c4468dc6d21b412f10"><div class="ttname"><a href="../../d4/d29/a01817.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a></div><div class="ttdeci">#define QUEST_ITEM_OBJECTIVES_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00036">QuestDef.h:36</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6c"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6c">QuestGiverStatus</a></div><div class="ttdeci">QuestGiverStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00110">QuestDef.h:111</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6ca23c6b78237061dac38ddfb39d974a3db"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca23c6b78237061dac38ddfb39d974a3db">DIALOG_STATUS_UNAVAILABLE</a></div><div class="ttdeci">@ DIALOG_STATUS_UNAVAILABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00113">QuestDef.h:113</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6ca26affdf7d4a232a13a2e85bcfec3acac"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca26affdf7d4a232a13a2e85bcfec3acac">DIALOG_STATUS_NONE</a></div><div class="ttdeci">@ DIALOG_STATUS_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00112">QuestDef.h:112</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6ca332bbf12a9f624eaf8304facf64520c2"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca332bbf12a9f624eaf8304facf64520c2">DIALOG_STATUS_AVAILABLE</a></div><div class="ttdeci">@ DIALOG_STATUS_AVAILABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00120">QuestDef.h:120</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6ca3d77f1cc50b7e48f2f16aa7d383601a3"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca3d77f1cc50b7e48f2f16aa7d383601a3">DIALOG_STATUS_SCRIPTED_NO_STATUS</a></div><div class="ttdeci">@ DIALOG_STATUS_SCRIPTED_NO_STATUS</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00125">QuestDef.h:125</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6ca44bd5ba1866b6195d1fdbcfc88e4429d"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca44bd5ba1866b6195d1fdbcfc88e4429d">DIALOG_STATUS_LOW_LEVEL_REWARD_REP</a></div><div class="ttdeci">@ DIALOG_STATUS_LOW_LEVEL_REWARD_REP</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00115">QuestDef.h:115</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6ca75135989445a2947df016dddb20dcf24"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca75135989445a2947df016dddb20dcf24">DIALOG_STATUS_REWARD</a></div><div class="ttdeci">@ DIALOG_STATUS_REWARD</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00122">QuestDef.h:122</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6ca867ef0a1e8243d47039936338db4e0d2"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca867ef0a1e8243d47039936338db4e0d2">DIALOG_STATUS_LOW_LEVEL_AVAILABLE</a></div><div class="ttdeci">@ DIALOG_STATUS_LOW_LEVEL_AVAILABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00114">QuestDef.h:114</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6ca8c007c4cb4d3909e264b15da0c678415"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6ca8c007c4cb4d3909e264b15da0c678415">DIALOG_STATUS_REWARD_REP</a></div><div class="ttdeci">@ DIALOG_STATUS_REWARD_REP</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00118">QuestDef.h:118</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6caa4ccf7e90f00237c4edb4de98162be3a"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6caa4ccf7e90f00237c4edb4de98162be3a">DIALOG_STATUS_INCOMPLETE</a></div><div class="ttdeci">@ DIALOG_STATUS_INCOMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00117">QuestDef.h:117</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6cad0b9e3d049c7df9b0ca9c2d0d461a25d"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6cad0b9e3d049c7df9b0ca9c2d0d461a25d">DIALOG_STATUS_LOW_LEVEL_AVAILABLE_REP</a></div><div class="ttdeci">@ DIALOG_STATUS_LOW_LEVEL_AVAILABLE_REP</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00116">QuestDef.h:116</a></div></div>
<div class="ttc" id="aa01817_html_a791e99128513b95b59f65c7f0a8fad6caeb1be76328219029c8b20345c76e9dd7"><div class="ttname"><a href="../../d4/d29/a01817.html#a791e99128513b95b59f65c7f0a8fad6caeb1be76328219029c8b20345c76e9dd7">DIALOG_STATUS_AVAILABLE_REP</a></div><div class="ttdeci">@ DIALOG_STATUS_AVAILABLE_REP</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00119">QuestDef.h:119</a></div></div>
<div class="ttc" id="aa01817_html_a7dab6182ee1bbabf205ed30f9c2d6c8b"><div class="ttname"><a href="../../d4/d29/a01817.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a></div><div class="ttdeci">#define QUEST_OBJECTIVES_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00035">QuestDef.h:35</a></div></div>
<div class="ttc" id="aa01817_html_a881ebe30fbf0f088d54bfa959cefe47ca00e51fd29f4182b118050cb8863b02bb"><div class="ttname"><a href="../../d4/d29/a01817.html#a881ebe30fbf0f088d54bfa959cefe47ca00e51fd29f4182b118050cb8863b02bb">QUEST_FLAGS_TRACKING</a></div><div class="ttdeci">@ QUEST_FLAGS_TRACKING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00142">QuestDef.h:142</a></div></div>
<div class="ttc" id="aa01817_html_a881ebe30fbf0f088d54bfa959cefe47ca16e6bbf1bd0e4cc59521b0e5e4ed670e"><div class="ttname"><a href="../../d4/d29/a01817.html#a881ebe30fbf0f088d54bfa959cefe47ca16e6bbf1bd0e4cc59521b0e5e4ed670e">QUEST_FLAGS_FLAGS_PVP</a></div><div class="ttdeci">@ QUEST_FLAGS_FLAGS_PVP</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00145">QuestDef.h:145</a></div></div>
<div class="ttc" id="aa01817_html_a881ebe30fbf0f088d54bfa959cefe47caad03215b00fda5ef5b3a3b55d0181582"><div class="ttname"><a href="../../d4/d29/a01817.html#a881ebe30fbf0f088d54bfa959cefe47caad03215b00fda5ef5b3a3b55d0181582">QUEST_FLAGS_SHARABLE</a></div><div class="ttdeci">@ QUEST_FLAGS_SHARABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00135">QuestDef.h:135</a></div></div>
<div class="ttc" id="aa01817_html_a95d52fc66ae096a6bcac03b3cdccf3b8"><div class="ttname"><a href="../../d4/d29/a01817.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a></div><div class="ttdeci">#define MAX_QUEST_LOG_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00033">QuestDef.h:33</a></div></div>
<div class="ttc" id="aa01817_html_aae8e69a2d2eb5235b7868221a2c8aa65"><div class="ttname"><a href="../../d4/d29/a01817.html#aae8e69a2d2eb5235b7868221a2c8aa65">QUEST_PVP_KILL_SLOT</a></div><div class="ttdeci">#define QUEST_PVP_KILL_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00043">QuestDef.h:43</a></div></div>
<div class="ttc" id="aa01817_html_abfc87d39d69176ad25e800fb4aa6f0d8"><div class="ttname"><a href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a></div><div class="ttdeci">QuestStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00098">QuestDef.h:99</a></div></div>
<div class="ttc" id="aa01817_html_abfc87d39d69176ad25e800fb4aa6f0d8a8aa7be8f8f2585bb49ad2e1d33a65d3c"><div class="ttname"><a href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a8aa7be8f8f2585bb49ad2e1d33a65d3c">QUEST_STATUS_REWARDED</a></div><div class="ttdeci">@ QUEST_STATUS_REWARDED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00106">QuestDef.h:106</a></div></div>
<div class="ttc" id="aa01817_html_abfc87d39d69176ad25e800fb4aa6f0d8a8e2ffb80a87da63793e4122d9b73cf8b"><div class="ttname"><a href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a8e2ffb80a87da63793e4122d9b73cf8b">QUEST_STATUS_FAILED</a></div><div class="ttdeci">@ QUEST_STATUS_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00105">QuestDef.h:105</a></div></div>
<div class="ttc" id="aa01817_html_abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484"><div class="ttname"><a href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a></div><div class="ttdeci">@ QUEST_STATUS_INCOMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00103">QuestDef.h:103</a></div></div>
<div class="ttc" id="aa01817_html_abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28"><div class="ttname"><a href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a></div><div class="ttdeci">@ QUEST_STATUS_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00100">QuestDef.h:100</a></div></div>
<div class="ttc" id="aa01817_html_abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed"><div class="ttname"><a href="../../d4/d29/a01817.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a></div><div class="ttdeci">@ QUEST_STATUS_COMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00101">QuestDef.h:101</a></div></div>
<div class="ttc" id="aa01817_html_ac0edcb86ea5fca813b3c69e348fe74c0aa8f02823dd955bf0b8ba1409f982feaa"><div class="ttname"><a href="../../d4/d29/a01817.html#ac0edcb86ea5fca813b3c69e348fe74c0aa8f02823dd955bf0b8ba1409f982feaa">QUEST_PARTY_MSG_CANT_BE_SHARED_TODAY</a></div><div class="ttdeci">@ QUEST_PARTY_MSG_CANT_BE_SHARED_TODAY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00074">QuestDef.h:74</a></div></div>
<div class="ttc" id="aa01817_html_acf2c83159c7b7d9270380dafa7ab8d11"><div class="ttname"><a href="../../d4/d29/a01817.html#acf2c83159c7b7d9270380dafa7ab8d11">QUEST_SOURCE_ITEM_IDS_COUNT</a></div><div class="ttdeci">#define QUEST_SOURCE_ITEM_IDS_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00037">QuestDef.h:37</a></div></div>
<div class="ttc" id="aa01817_html_afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce"><div class="ttname"><a href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce">QUEST_SPECIAL_FLAGS_CAST</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_CAST</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00165">QuestDef.h:165</a></div></div>
<div class="ttc" id="aa01817_html_afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab"><div class="ttname"><a href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab">QUEST_SPECIAL_FLAGS_TIMED</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_TIMED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00175">QuestDef.h:175</a></div></div>
<div class="ttc" id="aa01817_html_afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f"><div class="ttname"><a href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_DELIVER</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00172">QuestDef.h:172</a></div></div>
<div class="ttc" id="aa01817_html_afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27"><div class="ttname"><a href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27">QUEST_SPECIAL_FLAGS_KILL</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_KILL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00174">QuestDef.h:174</a></div></div>
<div class="ttc" id="aa01817_html_afa444be95c64570168d2ecd6732aa7ada7cdb9968510dd711ea90b4b1f1275413"><div class="ttname"><a href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7ada7cdb9968510dd711ea90b4b1f1275413">QUEST_SPECIAL_FLAGS_EXPLORATION_OR_EVENT</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_EXPLORATION_OR_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00161">QuestDef.h:161</a></div></div>
<div class="ttc" id="aa01817_html_afa444be95c64570168d2ecd6732aa7adaae331a9f2b83cc198f7bdd130fc3c8d8"><div class="ttname"><a href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7adaae331a9f2b83cc198f7bdd130fc3c8d8">QUEST_SPECIAL_FLAGS_SPEAKTO</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_SPEAKTO</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00173">QuestDef.h:173</a></div></div>
<div class="ttc" id="aa01817_html_afa444be95c64570168d2ecd6732aa7adaf684e0d6b4efab2cf6a32452b9bba335"><div class="ttname"><a href="../../d4/d29/a01817.html#afa444be95c64570168d2ecd6732aa7adaf684e0d6b4efab2cf6a32452b9bba335">QUEST_SPECIAL_FLAGS_PLAYER_KILL</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_PLAYER_KILL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00177">QuestDef.h:176</a></div></div>
<div class="ttc" id="aa01823_html"><div class="ttname"><a href="../../d9/d88/a01823.html">ReputationMgr.h</a></div></div>
<div class="ttc" id="aa01958_html"><div class="ttname"><a href="../../d3/d67/a01958.html">ScriptMgr.h</a></div></div>
<div class="ttc" id="aa01958_html_ae8161e629869974bc49b1cbfc73c1087"><div class="ttname"><a href="../../d3/d67/a01958.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a></div><div class="ttdeci">#define sScriptMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d67/a01958_source.html#l02690">ScriptMgr.h:2690</a></div></div>
<div class="ttc" id="aa02072_html"><div class="ttname"><a href="../../de/d9d/a02072.html">WorldSession.h</a></div></div>
<div class="ttc" id="aa02099_html_a538cdc259460b365f406fe0b3a981799a572e146e74f47d8f6f5c45b2a8163559"><div class="ttname"><a href="../../d9/dff/a02099.html#a538cdc259460b365f406fe0b3a981799a572e146e74f47d8f6f5c45b2a8163559">SPELL_AURA_MOD_XP_QUEST_PCT</a></div><div class="ttdeci">@ SPELL_AURA_MOD_XP_QUEST_PCT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dff/a02099_source.html#l00354">SpellAuraDefines.h:354</a></div></div>
<div class="ttc" id="aa02105_html"><div class="ttname"><a href="../../db/d7a/a02105.html">SpellAuraEffects.h</a></div></div>
<div class="ttc" id="aa02138_html"><div class="ttname"><a href="../../db/df6/a02138.html">SpellMgr.h</a></div></div>
<div class="ttc" id="aa02138_html_aa21e14d8e1145507b746a69b5487109d"><div class="ttname"><a href="../../db/df6/a02138.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a></div><div class="ttdeci">#define sSpellMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df6/a02138_source.html#l00803">SpellMgr.h:803</a></div></div>
<div class="ttc" id="aa02138_html_aebca17b4bc1b0129c26a7c769d90159b"><div class="ttname"><a href="../../db/df6/a02138.html#aebca17b4bc1b0129c26a7c769d90159b">SpellAreaForQuestMapBounds</a></div><div class="ttdeci">std::pair&lt; SpellAreaForQuestMap::const_iterator, SpellAreaForQuestMap::const_iterator &gt; SpellAreaForQuestMapBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df6/a02138_source.html#l00541">SpellMgr.h:541</a></div></div>
<div class="ttc" id="aa02168_html"><div class="ttname"><a href="../../d1/dce/a02168.html">GameTime.h</a></div></div>
<div class="ttc" id="aa02234_html_a17aac4c166ebe43e3b8fdccf9e012e41a1e7d0052850c3e4d941b52d7a453c1a7"><div class="ttname"><a href="../../d8/d6f/a02234.html#a17aac4c166ebe43e3b8fdccf9e012e41a1e7d0052850c3e4d941b52d7a453c1a7">CONFIG_QUEST_LOW_LEVEL_HIDE_DIFF</a></div><div class="ttdeci">@ CONFIG_QUEST_LOW_LEVEL_HIDE_DIFF</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6f/a02234_source.html#l00280">IWorld.h:280</a></div></div>
<div class="ttc" id="aa02234_html_a17aac4c166ebe43e3b8fdccf9e012e41a35be86ac21dd2db36961628f5be2279f"><div class="ttname"><a href="../../d8/d6f/a02234.html#a17aac4c166ebe43e3b8fdccf9e012e41a35be86ac21dd2db36961628f5be2279f">CONFIG_QUEST_HIGH_LEVEL_HIDE_DIFF</a></div><div class="ttdeci">@ CONFIG_QUEST_HIGH_LEVEL_HIDE_DIFF</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6f/a02234_source.html#l00281">IWorld.h:281</a></div></div>
<div class="ttc" id="aa02234_html_a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1"><div class="ttname"><a href="../../d8/d6f/a02234.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a></div><div class="ttdeci">@ CONFIG_MAX_PLAYER_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6f/a02234_source.html#l00229">IWorld.h:229</a></div></div>
<div class="ttc" id="aa02234_html_a1b4b88c03b7d0124998b4c22e957baf0adb4253fa69e835b574c8407d084c38a3"><div class="ttname"><a href="../../d8/d6f/a02234.html#a1b4b88c03b7d0124998b4c22e957baf0adb4253fa69e835b574c8407d084c38a3">CONFIG_QUEST_ENABLE_QUEST_TRACKER</a></div><div class="ttdeci">@ CONFIG_QUEST_ENABLE_QUEST_TRACKER</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d6f/a02234_source.html#l00149">IWorld.h:149</a></div></div>
<div class="ttc" id="aa04247_html_a282f094fb8ee80177dd57d2086ddd35ba62265ea91045a63323e2cb65f78e88c1"><div class="ttname"><a href="../../dc/dd9/a04247.html#a282f094fb8ee80177dd57d2086ddd35ba62265ea91045a63323e2cb65f78e88c1">ACHIEVEMENT_TIMED_TYPE_CREATURE</a></div><div class="ttdeci">@ ACHIEVEMENT_TIMED_TYPE_CREATURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a04247_source.html#l00120">DBCEnums.h:120</a></div></div>
<div class="ttc" id="aa04247_html_a282f094fb8ee80177dd57d2086ddd35bade60c4178807ba9725dbc89de211259d"><div class="ttname"><a href="../../dc/dd9/a04247.html#a282f094fb8ee80177dd57d2086ddd35bade60c4178807ba9725dbc89de211259d">ACHIEVEMENT_TIMED_TYPE_QUEST</a></div><div class="ttdeci">@ ACHIEVEMENT_TIMED_TYPE_QUEST</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a04247_source.html#l00117">DBCEnums.h:117</a></div></div>
<div class="ttc" id="aa04247_html_a796cde2fc6e2eaed4c657203ed43cd19a07c4265f9d6dea6c3f0c432a22079860"><div class="ttname"><a href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19a07c4265f9d6dea6c3f0c432a22079860">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUESTS_IN_ZONE</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUESTS_IN_ZONE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a04247_source.html#l00135">DBCEnums.h:135</a></div></div>
<div class="ttc" id="aa04247_html_a796cde2fc6e2eaed4c657203ed43cd19a0f567a2ca32349130eaddba38ff93636"><div class="ttname"><a href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19a0f567a2ca32349130eaddba38ff93636">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST_DAILY</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST_DAILY</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a04247_source.html#l00134">DBCEnums.h:134</a></div></div>
<div class="ttc" id="aa04247_html_a796cde2fc6e2eaed4c657203ed43cd19a160b2b4466f5bd5f7df6afc9115cf1f6"><div class="ttname"><a href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19a160b2b4466f5bd5f7df6afc9115cf1f6">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST_COUNT</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a04247_source.html#l00133">DBCEnums.h:133</a></div></div>
<div class="ttc" id="aa04247_html_a796cde2fc6e2eaed4c657203ed43cd19a3bdab46e91e8fb2c068ce0042617f0c3"><div class="ttname"><a href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19a3bdab46e91e8fb2c068ce0042617f0c3">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a04247_source.html#l00137">DBCEnums.h:137</a></div></div>
<div class="ttc" id="aa04247_html_a796cde2fc6e2eaed4c657203ed43cd19a7a228f44074f44bec4ca6be425933516"><div class="ttname"><a href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19a7a228f44074f44bec4ca6be425933516">ACHIEVEMENT_CRITERIA_TYPE_MONEY_FROM_QUEST_REWARD</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_MONEY_FROM_QUEST_REWARD</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a04247_source.html#l00181">DBCEnums.h:181</a></div></div>
<div class="ttc" id="aa04247_html_a796cde2fc6e2eaed4c657203ed43cd19aab6b86cbbba4147c7278f97bc49c21e4"><div class="ttname"><a href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19aab6b86cbbba4147c7278f97bc49c21e4">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a04247_source.html#l00147">DBCEnums.h:147</a></div></div>
<div class="ttc" id="aa04247_html_a796cde2fc6e2eaed4c657203ed43cd19ac4c7bccbf435b49105604debea36e251"><div class="ttname"><a href="../../dc/dd9/a04247.html#a796cde2fc6e2eaed4c657203ed43cd19ac4c7bccbf435b49105604debea36e251">ACHIEVEMENT_CRITERIA_TYPE_KILL_CREATURE</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_KILL_CREATURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a04247_source.html#l00128">DBCEnums.h:128</a></div></div>
<div class="ttc" id="aa04307_html_a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f"><div class="ttname"><a href="../../d9/d4e/a04307.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a></div><div class="ttdeci">@ SPELL_EFFECT_LEARN_SPELL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4e/a04307_source.html#l00786">SharedDefines.h:786</a></div></div>
<div class="ttc" id="aa04307_html_a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb"><div class="ttname"><a href="../../d9/d4e/a04307.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a></div><div class="ttdeci">@ SPELL_EFFECT_CREATE_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4e/a04307_source.html#l00774">SharedDefines.h:774</a></div></div>
<div class="ttc" id="aa04417_html_gga1073b6abb3a749f18bf1633020879e9ba2ea19a4baee312f6efe15e1aaaae0db3"><div class="ttname"><a href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba2ea19a4baee312f6efe15e1aaaae0db3">SMSG_QUESTUPDATE_ADD_PVP_KILL</a></div><div class="ttdeci">@ SMSG_QUESTUPDATE_ADD_PVP_KILL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d38/a02054_source.html#l01165">Opcodes.h:1165</a></div></div>
<div class="ttc" id="aa04417_html_gga1073b6abb3a749f18bf1633020879e9ba30c98574a0018ff7c9728bf1cfe66554"><div class="ttname"><a href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba30c98574a0018ff7c9728bf1cfe66554">SMSG_QUESTLOG_FULL</a></div><div class="ttdeci">@ SMSG_QUESTLOG_FULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d38/a02054_source.html#l00435">Opcodes.h:435</a></div></div>
<div class="ttc" id="aa04417_html_gga1073b6abb3a749f18bf1633020879e9ba4857f7dedd8750bcf0de224609705ac7"><div class="ttname"><a href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba4857f7dedd8750bcf0de224609705ac7">SMSG_QUESTGIVER_QUEST_FAILED</a></div><div class="ttdeci">@ SMSG_QUESTGIVER_QUEST_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d38/a02054_source.html#l00432">Opcodes.h:432</a></div></div>
<div class="ttc" id="aa04417_html_gga1073b6abb3a749f18bf1633020879e9ba5d2eb06053041c2a960482f43020c855"><div class="ttname"><a href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba5d2eb06053041c2a960482f43020c855">SMSG_QUESTUPDATE_ADD_KILL</a></div><div class="ttdeci">@ SMSG_QUESTUPDATE_ADD_KILL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d38/a02054_source.html#l00439">Opcodes.h:439</a></div></div>
<div class="ttc" id="aa04417_html_gga1073b6abb3a749f18bf1633020879e9ba74baedb07a0701b4ce635b21591bd3b0"><div class="ttname"><a href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba74baedb07a0701b4ce635b21591bd3b0">MSG_QUEST_PUSH_RESULT</a></div><div class="ttdeci">@ MSG_QUEST_PUSH_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d38/a02054_source.html#l00660">Opcodes.h:660</a></div></div>
<div class="ttc" id="aa04417_html_gga1073b6abb3a749f18bf1633020879e9ba7a952d47f9cef9c114ef64e1e854eecc"><div class="ttname"><a href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9ba7a952d47f9cef9c114ef64e1e854eecc">SMSG_QUESTGIVER_QUEST_INVALID</a></div><div class="ttdeci">@ SMSG_QUESTGIVER_QUEST_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d38/a02054_source.html#l00429">Opcodes.h:429</a></div></div>
<div class="ttc" id="aa04417_html_gga1073b6abb3a749f18bf1633020879e9baaa689b8ec7c14d2fb2a79c8650722df5"><div class="ttname"><a href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9baaa689b8ec7c14d2fb2a79c8650722df5">SMSG_QUESTUPDATE_ADD_ITEM</a></div><div class="ttdeci">@ SMSG_QUESTUPDATE_ADD_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d38/a02054_source.html#l00440">Opcodes.h:440</a></div></div>
<div class="ttc" id="aa04417_html_gga1073b6abb3a749f18bf1633020879e9bad966b4945954bdffc0b71a71ebb4b4c3"><div class="ttname"><a href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9bad966b4945954bdffc0b71a71ebb4b4c3">SMSG_QUESTUPDATE_COMPLETE</a></div><div class="ttdeci">@ SMSG_QUESTUPDATE_COMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d38/a02054_source.html#l00438">Opcodes.h:438</a></div></div>
<div class="ttc" id="aa04417_html_gga1073b6abb3a749f18bf1633020879e9bae94543520cb50237ff53ca89a622fe28"><div class="ttname"><a href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9bae94543520cb50237ff53ca89a622fe28">SMSG_QUESTUPDATE_FAILEDTIMER</a></div><div class="ttdeci">@ SMSG_QUESTUPDATE_FAILEDTIMER</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d38/a02054_source.html#l00437">Opcodes.h:437</a></div></div>
<div class="ttc" id="aa04417_html_gga1073b6abb3a749f18bf1633020879e9baf375f927018f994e6c6092dc151c858e"><div class="ttname"><a href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9baf375f927018f994e6c6092dc151c858e">SMSG_QUEST_CONFIRM_ACCEPT</a></div><div class="ttdeci">@ SMSG_QUEST_CONFIRM_ACCEPT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d38/a02054_source.html#l00442">Opcodes.h:442</a></div></div>
<div class="ttc" id="aa04417_html_gga1073b6abb3a749f18bf1633020879e9baf86976d74ca377eacfd672c0ee2d3e45"><div class="ttname"><a href="../../db/d96/a04417.html#gga1073b6abb3a749f18bf1633020879e9baf86976d74ca377eacfd672c0ee2d3e45">SMSG_QUESTGIVER_QUEST_COMPLETE</a></div><div class="ttdeci">@ SMSG_QUESTGIVER_QUEST_COMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d38/a02054_source.html#l00431">Opcodes.h:431</a></div></div>
<div class="ttc" id="aa04418_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../d3/d74/a04418.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d35/a02240_source.html#l00458">World.h:458</a></div></div>
<div class="ttc" id="aa04438_html_a10817e6a26ea352c0f79233d2ef552a8"><div class="ttname"><a href="../../d7/dad/a04438.html#a10817e6a26ea352c0f79233d2ef552a8">GitRevision::GetDate</a></div><div class="ttdeci">AC_COMMON_API char const * GetDate()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5d/a00278_source.html#l00014">GitRevision.cpp:14</a></div></div>
<div class="ttc" id="aa04438_html_addcf1401768f04ea13a6e868d9580605"><div class="ttname"><a href="../../d7/dad/a04438.html#addcf1401768f04ea13a6e868d9580605">GitRevision::GetHash</a></div><div class="ttdeci">AC_COMMON_API char const * GetHash()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5d/a00278_source.html#l00009">GitRevision.cpp:9</a></div></div>
<div class="ttc" id="aa04466_html_a6673bbc719c96febfc86a4220a988ed0"><div class="ttname"><a href="../../dd/d3c/a04466.html#a6673bbc719c96febfc86a4220a988ed0">DisableMgr::IsDisabledFor</a></div><div class="ttdeci">bool IsDisabledFor(DisableType type, uint32 entry, Unit const *unit, uint8 flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d49/a01067_source.html#l00304">DisableMgr.cpp:304</a></div></div>
<div class="ttc" id="aa04472_html_a0bfd3fb4a5f43a4159bbd0b176186e19"><div class="ttname"><a href="../../df/dfb/a04472.html#a0bfd3fb4a5f43a4159bbd0b176186e19">ObjectAccessor::GetObjectByTypeMask</a></div><div class="ttdeci">Object * GetObjectByTypeMask(WorldObject const &amp;, ObjectGuid const guid, uint32 typemask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de4/a01346_source.html#l00146">ObjectAccessor.cpp:146</a></div></div>
<div class="ttc" id="aa04472_html_abe7c8995443541417f52b00973dbde6f"><div class="ttname"><a href="../../df/dfb/a04472.html#abe7c8995443541417f52b00973dbde6f">ObjectAccessor::GetCreatureOrPetOrVehicle</a></div><div class="ttdeci">Creature * GetCreatureOrPetOrVehicle(WorldObject const &amp;, ObjectGuid const)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de4/a01346_source.html#l00239">ObjectAccessor.cpp:239</a></div></div>
<div class="ttc" id="aa04496_html_adbe1785d1327dedf2ac403b7cc8e99c2"><div class="ttname"><a href="../../d1/d55/a04496.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a></div><div class="ttdeci">Seconds GetGameTime()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4c/a02165_source.html#l00038">GameTime.cpp:38</a></div></div>
<div class="ttc" id="aa05736_html_a8459d37ce69b9a02c1ecd047ec704089"><div class="ttname"><a href="../../d7/df8/a05736.html#a8459d37ce69b9a02c1ecd047ec704089">GameObjectAI::QuestAccept</a></div><div class="ttdeci">virtual bool QuestAccept(Player *, Quest const *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/a00716_source.html#l00057">GameObjectAI.h:57</a></div></div>
<div class="ttc" id="aa05804_html_a03076e2d142052af78e6d9e85f390fd1"><div class="ttname"><a href="../../d9/d19/a05804.html#a03076e2d142052af78e6d9e85f390fd1">UnitAI::sQuestAccept</a></div><div class="ttdeci">virtual void sQuestAccept(Player *, Quest const *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/a00752_source.html#l00344">UnitAI.h:344</a></div></div>
<div class="ttc" id="aa07436_html"><div class="ttname"><a href="../../dc/d6f/a07436.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d28/a01133_source.html#l00045">Creature.h:46</a></div></div>
<div class="ttc" id="aa07436_html_af2188eef9620b5af52ef2d3ac142db67"><div class="ttname"><a href="../../dc/d6f/a07436.html#af2188eef9620b5af52ef2d3ac142db67">Creature::AI</a></div><div class="ttdeci">CreatureAI * AI() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d28/a01133_source.html#l00134">Creature.h:134</a></div></div>
<div class="ttc" id="aa07460_html"><div class="ttname"><a href="../../d2/d2b/a07460.html">CreatureTemplate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dae/a01136_source.html#l00175">CreatureData.h:176</a></div></div>
<div class="ttc" id="aa07460_html_a3f6f92f27a268bc4e3f4d349c633c9f8"><div class="ttname"><a href="../../d2/d2b/a07460.html#a3f6f92f27a268bc4e3f4d349c633c9f8">CreatureTemplate::Entry</a></div><div class="ttdeci">uint32 Entry</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dae/a01136_source.html#l00177">CreatureData.h:177</a></div></div>
<div class="ttc" id="aa07460_html_a8f1f7c9c67532ec302ebeb41b340e287"><div class="ttname"><a href="../../d2/d2b/a07460.html#a8f1f7c9c67532ec302ebeb41b340e287">CreatureTemplate::KillCredit</a></div><div class="ttdeci">uint32 KillCredit[MAX_KILL_CREDIT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dae/a01136_source.html#l00179">CreatureData.h:179</a></div></div>
<div class="ttc" id="aa07540_html"><div class="ttname"><a href="../../d5/d11/a07540.html">QuestMenuItem</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df1/a01151_source.html#l00153">GossipDef.h:154</a></div></div>
<div class="ttc" id="aa07540_html_a522a4fcb28daec3e1a620b6f02c3d8fe"><div class="ttname"><a href="../../d5/d11/a07540.html#a522a4fcb28daec3e1a620b6f02c3d8fe">QuestMenuItem::QuestId</a></div><div class="ttdeci">uint32 QuestId</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df1/a01151_source.html#l00155">GossipDef.h:155</a></div></div>
<div class="ttc" id="aa07540_html_ad8bbfe08780eaa68a8205e2634d211b8"><div class="ttname"><a href="../../d5/d11/a07540.html#ad8bbfe08780eaa68a8205e2634d211b8">QuestMenuItem::QuestIcon</a></div><div class="ttdeci">uint8 QuestIcon</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df1/a01151_source.html#l00156">GossipDef.h:156</a></div></div>
<div class="ttc" id="aa07548_html"><div class="ttname"><a href="../../d4/d81/a07548.html">QuestMenu</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df1/a01151_source.html#l00227">GossipDef.h:228</a></div></div>
<div class="ttc" id="aa07548_html_a08240a8d18dce0cb96db19f54c67dd2c"><div class="ttname"><a href="../../d4/d81/a07548.html#a08240a8d18dce0cb96db19f54c67dd2c">QuestMenu::GetItem</a></div><div class="ttdeci">QuestMenuItem const &amp; GetItem(uint16 index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df1/a01151_source.html#l00248">GossipDef.h:248</a></div></div>
<div class="ttc" id="aa07548_html_a1a850cb70956f299ea91cb0d732ad202"><div class="ttname"><a href="../../d4/d81/a07548.html#a1a850cb70956f299ea91cb0d732ad202">QuestMenu::Empty</a></div><div class="ttdeci">bool Empty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df1/a01151_source.html#l00241">GossipDef.h:241</a></div></div>
<div class="ttc" id="aa07548_html_a2338a6fb88c32bfb66fe524a8ffaa0d7"><div class="ttname"><a href="../../d4/d81/a07548.html#a2338a6fb88c32bfb66fe524a8ffaa0d7">QuestMenu::GetMenuItemCount</a></div><div class="ttdeci">uint8 GetMenuItemCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df1/a01151_source.html#l00236">GossipDef.h:236</a></div></div>
<div class="ttc" id="aa07548_html_ab3d3881aabe000694acab37a3774507e"><div class="ttname"><a href="../../d4/d81/a07548.html#ab3d3881aabe000694acab37a3774507e">QuestMenu::ClearMenu</a></div><div class="ttdeci">void ClearMenu()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d17/a01148_source.html#l00311">GossipDef.cpp:311</a></div></div>
<div class="ttc" id="aa07548_html_ac8735756bbf9f2fa799c505bd740e070"><div class="ttname"><a href="../../d4/d81/a07548.html#ac8735756bbf9f2fa799c505bd740e070">QuestMenu::AddMenuItem</a></div><div class="ttdeci">void AddMenuItem(uint32 QuestId, uint8 Icon)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d17/a01148_source.html#l00287">GossipDef.cpp:287</a></div></div>
<div class="ttc" id="aa07552_html_a1071f28b7138ecbd7e94d95175059ba1"><div class="ttname"><a href="../../d6/d61/a07552.html#a1071f28b7138ecbd7e94d95175059ba1">PlayerMenu::SendCloseGossip</a></div><div class="ttdeci">void SendCloseGossip()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d17/a01148_source.html#l00240">GossipDef.cpp:240</a></div></div>
<div class="ttc" id="aa07552_html_a1995bf53009911627fbbcb20049a1fbf"><div class="ttname"><a href="../../d6/d61/a07552.html#a1995bf53009911627fbbcb20049a1fbf">PlayerMenu::SendQuestGiverQuestList</a></div><div class="ttdeci">void SendQuestGiverQuestList(QEmote const &amp;eEmote, std::string const &amp;Title, ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d17/a01148_source.html#l00316">GossipDef.cpp:316</a></div></div>
<div class="ttc" id="aa07552_html_a3961687838852446af0db40d6458fb41"><div class="ttname"><a href="../../d6/d61/a07552.html#a3961687838852446af0db40d6458fb41">PlayerMenu::SendQuestGiverQuestDetails</a></div><div class="ttdeci">void SendQuestGiverQuestDetails(Quest const *quest, ObjectGuid npcGUID, bool activateAccept) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d17/a01148_source.html#l00385">GossipDef.cpp:385</a></div></div>
<div class="ttc" id="aa07552_html_a6129e728a42a0d74e462073ba7219eb1"><div class="ttname"><a href="../../d6/d61/a07552.html#a6129e728a42a0d74e462073ba7219eb1">PlayerMenu::GetQuestMenu</a></div><div class="ttdeci">QuestMenu &amp; GetQuestMenu()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df1/a01151_source.html#l00264">GossipDef.h:264</a></div></div>
<div class="ttc" id="aa07552_html_a61a5f8d9b8b9c4baa511028884011f89"><div class="ttname"><a href="../../d6/d61/a07552.html#a61a5f8d9b8b9c4baa511028884011f89">PlayerMenu::SendQuestGiverRequestItems</a></div><div class="ttdeci">void SendQuestGiverRequestItems(Quest const *quest, ObjectGuid npcGUID, bool canComplete, bool closeOnCancel) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d17/a01148_source.html#l00713">GossipDef.cpp:713</a></div></div>
<div class="ttc" id="aa07748_html"><div class="ttname"><a href="../../d7/dc7/a07748.html">GameObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/daf/a01169_source.html#l00812">GameObject.h:813</a></div></div>
<div class="ttc" id="aa07748_html_a6c584d5d6a7e7d357d8d8975e967edd5"><div class="ttname"><a href="../../d7/dc7/a07748.html#a6c584d5d6a7e7d357d8d8975e967edd5">GameObject::AI</a></div><div class="ttdeci">GameObjectAI * AI() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/daf/a01169_source.html#l01001">GameObject.h:1001</a></div></div>
<div class="ttc" id="aa07760_html"><div class="ttname"><a href="../../de/dbd/a07760.html">Item</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/a01184_source.html#l00213">Item.h:214</a></div></div>
<div class="ttc" id="aa07760_html_a04019a011a5f4df849f39b413df68295"><div class="ttname"><a href="../../de/dbd/a07760.html#a04019a011a5f4df849f39b413df68295">Item::GetSlot</a></div><div class="ttdeci">uint8 GetSlot() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/a01184_source.html#l00272">Item.h:272</a></div></div>
<div class="ttc" id="aa07760_html_a55223032f2942a6f46b10053afe8c73c"><div class="ttname"><a href="../../de/dbd/a07760.html#a55223032f2942a6f46b10053afe8c73c">Item::GetTemplate</a></div><div class="ttdeci">ItemTemplate const * GetTemplate() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/a01181_source.html#l00546">Item.cpp:546</a></div></div>
<div class="ttc" id="aa07760_html_adfcfd40507681d503b6115ac3fc11a79"><div class="ttname"><a href="../../de/dbd/a07760.html#adfcfd40507681d503b6115ac3fc11a79">Item::GetBagSlot</a></div><div class="ttdeci">uint8 GetBagSlot() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db5/a01181_source.html#l00786">Item.cpp:786</a></div></div>
<div class="ttc" id="aa07784_html"><div class="ttname"><a href="../../dc/d8f/a07784.html">ItemTemplate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/a01193_source.html#l00627">ItemTemplate.h:628</a></div></div>
<div class="ttc" id="aa07784_html_a2c13c4c1edbd3add9c6e0e2263f6c717"><div class="ttname"><a href="../../dc/d8f/a07784.html#a2c13c4c1edbd3add9c6e0e2263f6c717">ItemTemplate::MaxCount</a></div><div class="ttdeci">int32 MaxCount</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/a01193_source.html#l00653">ItemTemplate.h:653</a></div></div>
<div class="ttc" id="aa07784_html_aef5389c8385f5729a2471d7ef144f05a"><div class="ttname"><a href="../../dc/d8f/a07784.html#aef5389c8385f5729a2471d7ef144f05a">ItemTemplate::StartQuest</a></div><div class="ttdeci">uint32 StartQuest</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/a01193_source.html#l00677">ItemTemplate.h:677</a></div></div>
<div class="ttc" id="aa07804_html"><div class="ttname"><a href="../../d3/dd0/a07804.html">Object</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00096">Object.h:97</a></div></div>
<div class="ttc" id="aa07804_html_a3264388b9f92da9de7641477b3dc77f9"><div class="ttname"><a href="../../d3/dd0/a07804.html#a3264388b9f92da9de7641477b3dc77f9">Object::GetUInt32Value</a></div><div class="ttdeci">uint32 GetUInt32Value(uint16 index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d22/a01196_source.html#l00305">Object.cpp:305</a></div></div>
<div class="ttc" id="aa07804_html_a328d5f752cc33ed398b3d9861ef6929d"><div class="ttname"><a href="../../d3/dd0/a07804.html#a328d5f752cc33ed398b3d9861ef6929d">Object::ToPlayer</a></div><div class="ttdeci">Player * ToPlayer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00195">Object.h:195</a></div></div>
<div class="ttc" id="aa07804_html_a3aeab7def818ba6c50249f197ad2f9ca"><div class="ttname"><a href="../../d3/dd0/a07804.html#a3aeab7def818ba6c50249f197ad2f9ca">Object::IsInWorld</a></div><div class="ttdeci">bool IsInWorld() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00101">Object.h:101</a></div></div>
<div class="ttc" id="aa07804_html_a5a39e4cde00448cc3a6eaeaee139c749"><div class="ttname"><a href="../../d3/dd0/a07804.html#a5a39e4cde00448cc3a6eaeaee139c749">Object::hasQuest</a></div><div class="ttdeci">virtual bool hasQuest(uint32) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00183">Object.h:183</a></div></div>
<div class="ttc" id="aa07804_html_a621a345fc34deed6d3a4e1e498a652da"><div class="ttname"><a href="../../d3/dd0/a07804.html#a621a345fc34deed6d3a4e1e498a652da">Object::GetTypeId</a></div><div class="ttdeci">TypeID GetTypeId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00121">Object.h:121</a></div></div>
<div class="ttc" id="aa07804_html_a7253dbcbed15f5f1190c5cc56d141610"><div class="ttname"><a href="../../d3/dd0/a07804.html#a7253dbcbed15f5f1190c5cc56d141610">Object::isType</a></div><div class="ttdeci">bool isType(uint16 mask) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00122">Object.h:122</a></div></div>
<div class="ttc" id="aa07804_html_a96b380b13acdb406d552053cf775180f"><div class="ttname"><a href="../../d3/dd0/a07804.html#a96b380b13acdb406d552053cf775180f">Object::ToGameObject</a></div><div class="ttdeci">GameObject * ToGameObject()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00202">Object.h:202</a></div></div>
<div class="ttc" id="aa07804_html_aa627fe2967ed0e0ed1d8aeeb4365a961"><div class="ttname"><a href="../../d3/dd0/a07804.html#aa627fe2967ed0e0ed1d8aeeb4365a961">Object::GetEntry</a></div><div class="ttdeci">uint32 GetEntry() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00109">Object.h:109</a></div></div>
<div class="ttc" id="aa07804_html_ab0e2ef1ac1daa91476f749e0ec6ad3c6"><div class="ttname"><a href="../../d3/dd0/a07804.html#ab0e2ef1ac1daa91476f749e0ec6ad3c6">Object::ToCreature</a></div><div class="ttdeci">Creature * ToCreature()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00197">Object.h:197</a></div></div>
<div class="ttc" id="aa07804_html_ad23b997e2442fa6a6228ba73a7ecc138"><div class="ttname"><a href="../../d3/dd0/a07804.html#ad23b997e2442fa6a6228ba73a7ecc138">Object::GetGUID</a></div><div class="ttdeci">static ObjectGuid GetGUID(Object const *o)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00106">Object.h:106</a></div></div>
<div class="ttc" id="aa07804_html_ada61cb59931e3c02624a63161997bf20"><div class="ttname"><a href="../../d3/dd0/a07804.html#ada61cb59931e3c02624a63161997bf20">Object::hasInvolvedQuest</a></div><div class="ttdeci">virtual bool hasInvolvedQuest(uint32) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00184">Object.h:184</a></div></div>
<div class="ttc" id="aa07804_html_ae65fbd7720a9aa448516f6cf494bda67"><div class="ttname"><a href="../../d3/dd0/a07804.html#ae65fbd7720a9aa448516f6cf494bda67">Object::GetGUID</a></div><div class="ttdeci">ObjectGuid GetGUID() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00107">Object.h:107</a></div></div>
<div class="ttc" id="aa07836_html"><div class="ttname"><a href="../../d7/d14/a07836.html">WorldObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00392">Object.h:393</a></div></div>
<div class="ttc" id="aa07836_html_a1013c27be4347a1b1a4a986a07456deb"><div class="ttname"><a href="../../d7/d14/a07836.html#a1013c27be4347a1b1a4a986a07456deb">WorldObject::GetMap</a></div><div class="ttdeci">Map * GetMap() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00517">Object.h:517</a></div></div>
<div class="ttc" id="aa07836_html_a664e99edd35c98e8eb7f67476aa8082d"><div class="ttname"><a href="../../d7/d14/a07836.html#a664e99edd35c98e8eb7f67476aa8082d">WorldObject::GetInstanceId</a></div><div class="ttdeci">uint32 GetInstanceId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5a/a01199_source.html#l00431">Object.h:431</a></div></div>
<div class="ttc" id="aa07836_html_acdd585ef58eb876c506389ff96a4fbd9"><div class="ttname"><a href="../../d7/d14/a07836.html#acdd585ef58eb876c506389ff96a4fbd9">WorldObject::GetAreaId</a></div><div class="ttdeci">uint32 GetAreaId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d22/a01196_source.html#l03066">Object.cpp:3066</a></div></div>
<div class="ttc" id="aa07836_html_ad498d690fbe69bb99a8a2ffdcb2f5169"><div class="ttname"><a href="../../d7/d14/a07836.html#ad498d690fbe69bb99a8a2ffdcb2f5169">WorldObject::GetZoneId</a></div><div class="ttdeci">uint32 GetZoneId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d22/a01196_source.html#l03058">Object.cpp:3058</a></div></div>
<div class="ttc" id="aa07836_html_ae1a8efe701e885f0ed1eaeb93bbece8e"><div class="ttname"><a href="../../d7/d14/a07836.html#ae1a8efe701e885f0ed1eaeb93bbece8e">WorldObject::GetZoneAndAreaId</a></div><div class="ttdeci">void GetZoneAndAreaId(uint32 &amp;zoneid, uint32 &amp;areaid) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d22/a01196_source.html#l03074">Object.cpp:3074</a></div></div>
<div class="ttc" id="aa07852_html"><div class="ttname"><a href="../../da/d98/a07852.html">ObjectGuid</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/a01208_source.html#l00119">ObjectGuid.h:120</a></div></div>
<div class="ttc" id="aa07896_html_a2682e56ae4f0ce4b517a8ba3cd2798b1"><div class="ttname"><a href="../../de/d51/a07896.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">WorldLocation::GetMapId</a></div><div class="ttdeci">uint32 GetMapId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d42/a01220_source.html#l00276">Position.h:276</a></div></div>
<div class="ttc" id="aa07992_html_a22a1c8f0e8c51f4a27cb8ab362028d61"><div class="ttname"><a href="../../d8/d44/a07992.html#a22a1c8f0e8c51f4a27cb8ab362028d61">PvPInfo::IsHostile</a></div><div class="ttdeci">bool IsHostile</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l00361">Player.h:361</a></div></div>
<div class="ttc" id="aa07992_html_a92d3c8991f7e3c5d683b414d18cbbd64"><div class="ttname"><a href="../../d8/d44/a07992.html#a92d3c8991f7e3c5d683b414d18cbbd64">PvPInfo::IsInHostileArea</a></div><div class="ttdeci">bool IsInHostileArea</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l00362">Player.h:362</a></div></div>
<div class="ttc" id="aa08044_html"><div class="ttname"><a href="../../df/d6a/a08044.html">Player</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01045">Player.h:1046</a></div></div>
<div class="ttc" id="aa08044_html_a017c8a9f126945990cedc63b5567af0b"><div class="ttname"><a href="../../df/d6a/a08044.html#a017c8a9f126945990cedc63b5567af0b">Player::SaveToDB</a></div><div class="ttdeci">void SaveToDB(bool create, bool logout)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/a01283_source.html#l07064">PlayerStorage.cpp:7064</a></div></div>
<div class="ttc" id="aa08044_html_a027311c87a87395ab2c6950d17cbf5cb"><div class="ttname"><a href="../../df/d6a/a08044.html#a027311c87a87395ab2c6950d17cbf5cb">Player::ReputationChanged</a></div><div class="ttdeci">void ReputationChanged(FactionEntry const *factionEntry)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02185">PlayerQuest.cpp:2185</a></div></div>
<div class="ttc" id="aa08044_html_a030b9e0a5adc82692f438c8a7109da6c"><div class="ttname"><a href="../../df/d6a/a08044.html#a030b9e0a5adc82692f438c8a7109da6c">Player::RewardHonor</a></div><div class="ttdeci">bool RewardHonor(Unit *victim, uint32 groupsize, int32 honor=-1, bool awardXP=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l05951">Player.cpp:5951</a></div></div>
<div class="ttc" id="aa08044_html_a04bc54fb5b9161aa37fc07524af92634"><div class="ttname"><a href="../../df/d6a/a08044.html#a04bc54fb5b9161aa37fc07524af92634">Player::UpdateAchievementCriteria</a></div><div class="ttdeci">void UpdateAchievementCriteria(AchievementCriteriaTypes type, uint32 miscValue1=0, uint32 miscValue2=0, Unit *unit=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7a/a01292_source.html#l02123">PlayerUpdates.cpp:2123</a></div></div>
<div class="ttc" id="aa08044_html_a05924f5e9df8d5f06ba422e159a4fd8a"><div class="ttname"><a href="../../df/d6a/a08044.html#a05924f5e9df8d5f06ba422e159a4fd8a">Player::KilledMonsterCredit</a></div><div class="ttdeci">void KilledMonsterCredit(uint32 entry, ObjectGuid guid=ObjectGuid::Empty)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01904">PlayerQuest.cpp:1904</a></div></div>
<div class="ttc" id="aa08044_html_a0927f8027a80bf9d43291d73c2556a04"><div class="ttname"><a href="../../df/d6a/a08044.html#a0927f8027a80bf9d43291d73c2556a04">Player::ItemRemovedQuestCheck</a></div><div class="ttdeci">void ItemRemovedQuestCheck(uint32 entry, uint32 count)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01851">PlayerQuest.cpp:1851</a></div></div>
<div class="ttc" id="aa08044_html_a0cb45f8c742f6455c5fa34fdecdc6d0d"><div class="ttname"><a href="../../df/d6a/a08044.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">Player::m_QuestStatus</a></div><div class="ttdeci">QuestStatusMap m_QuestStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02728">Player.h:2728</a></div></div>
<div class="ttc" id="aa08044_html_a10c732bc343e1f9b0de50865bb2ba577"><div class="ttname"><a href="../../df/d6a/a08044.html#a10c732bc343e1f9b0de50865bb2ba577">Player::StartTimedAchievement</a></div><div class="ttdeci">void StartTimedAchievement(AchievementCriteriaTimedTypes type, uint32 entry, uint32 timeLost=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l13611">Player.cpp:13611</a></div></div>
<div class="ttc" id="aa08044_html_a12c144fe6e00820ed8929e0547ab04f3"><div class="ttname"><a href="../../df/d6a/a08044.html#a12c144fe6e00820ed8929e0547ab04f3">Player::GetQuestLevel</a></div><div class="ttdeci">int32 GetQuestLevel(Quest const *quest) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01391">Player.h:1391</a></div></div>
<div class="ttc" id="aa08044_html_a144a3a724d55073438501522b396bc44"><div class="ttname"><a href="../../df/d6a/a08044.html#a144a3a724d55073438501522b396bc44">Player::HasPvPForcingQuest</a></div><div class="ttdeci">bool HasPvPForcingQuest() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02472">PlayerQuest.cpp:2472</a></div></div>
<div class="ttc" id="aa08044_html_a154dcd260829c16a4881fc9c5e8e9629"><div class="ttname"><a href="../../df/d6a/a08044.html#a154dcd260829c16a4881fc9c5e8e9629">Player::HasQuestForItem</a></div><div class="ttdeci">bool HasQuestForItem(uint32 itemId, uint32 excludeQuestId=0, bool turnIn=false, bool *showInLoot=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02241">PlayerQuest.cpp:2241</a></div></div>
<div class="ttc" id="aa08044_html_a1b2ca1d80df0e35eb06c77844ff6cf49"><div class="ttname"><a href="../../df/d6a/a08044.html#a1b2ca1d80df0e35eb06c77844ff6cf49">Player::InitTalentForLevel</a></div><div class="ttdeci">void InitTalentForLevel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l02514">Player.cpp:2514</a></div></div>
<div class="ttc" id="aa08044_html_a1dff33f9fec35951365e2ee54eac20b8"><div class="ttname"><a href="../../df/d6a/a08044.html#a1dff33f9fec35951365e2ee54eac20b8">Player::GetQuestSlotCounter</a></div><div class="ttdeci">uint16 GetQuestSlotCounter(uint16 slot, uint8 counter) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01451">Player.h:1451</a></div></div>
<div class="ttc" id="aa08044_html_a20f4b508f43c0250a376be46cb31ffa6"><div class="ttname"><a href="../../df/d6a/a08044.html#a20f4b508f43c0250a376be46cb31ffa6">Player::SatisfyQuestNextChain</a></div><div class="ttdeci">bool SatisfyQuestNextChain(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01211">PlayerQuest.cpp:1211</a></div></div>
<div class="ttc" id="aa08044_html_a218f48b60269525adf800c1a7278f232"><div class="ttname"><a href="../../df/d6a/a08044.html#a218f48b60269525adf800c1a7278f232">Player::getQuestStatusMap</a></div><div class="ttdeci">QuestStatusMap &amp; getQuestStatusMap()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01585">Player.h:1585</a></div></div>
<div class="ttc" id="aa08044_html_a23321f70f6954313a691f35ce93d2794"><div class="ttname"><a href="../../df/d6a/a08044.html#a23321f70f6954313a691f35ce93d2794">Player::IncompleteQuest</a></div><div class="ttdeci">void IncompleteQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00640">PlayerQuest.cpp:640</a></div></div>
<div class="ttc" id="aa08044_html_a2b7579cb973f79b2886702c96721f594"><div class="ttname"><a href="../../df/d6a/a08044.html#a2b7579cb973f79b2886702c96721f594">Player::GetSkillValue</a></div><div class="ttdeci">uint16 GetSkillValue(uint32 skill) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l05338">Player.cpp:5338</a></div></div>
<div class="ttc" id="aa08044_html_a2f780cf8d581075515965d1de74cf789"><div class="ttname"><a href="../../df/d6a/a08044.html#a2f780cf8d581075515965d1de74cf789">Player::GetQuestRewardStatus</a></div><div class="ttdeci">bool GetQuestRewardStatus(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01392">PlayerQuest.cpp:1392</a></div></div>
<div class="ttc" id="aa08044_html_a3454be68dff7bb9d8ee581591cac3c95"><div class="ttname"><a href="../../df/d6a/a08044.html#a3454be68dff7bb9d8ee581591cac3c95">Player::FindQuestSlot</a></div><div class="ttdeci">uint16 FindQuestSlot(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01759">PlayerQuest.cpp:1759</a></div></div>
<div class="ttc" id="aa08044_html_a3aaa65265268e0e56812f64009d8b5cd"><div class="ttname"><a href="../../df/d6a/a08044.html#a3aaa65265268e0e56812f64009d8b5cd">Player::ReputationChanged2</a></div><div class="ttdeci">void ReputationChanged2(FactionEntry const *factionEntry)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02213">PlayerQuest.cpp:2213</a></div></div>
<div class="ttc" id="aa08044_html_a3b6b7692a9496e07088b96315decc78c"><div class="ttname"><a href="../../df/d6a/a08044.html#a3b6b7692a9496e07088b96315decc78c">Player::HasItemCount</a></div><div class="ttdeci">bool HasItemCount(uint32 item, uint32 count=1, bool inBankAlso=false) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/a01283_source.html#l00686">PlayerStorage.cpp:686</a></div></div>
<div class="ttc" id="aa08044_html_a3d425ac6fd9142a4e2bade0d6db6c254"><div class="ttname"><a href="../../df/d6a/a08044.html#a3d425ac6fd9142a4e2bade0d6db6c254">Player::SendQuestUpdateAddCreatureOrGo</a></div><div class="ttdeci">void SendQuestUpdateAddCreatureOrGo(Quest const *quest, ObjectGuid guid, uint32 creatureOrGO_idx, uint16 old_count, uint16 add_count)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02433">PlayerQuest.cpp:2433</a></div></div>
<div class="ttc" id="aa08044_html_a3eff2504b3182e587f5861966fc819e6"><div class="ttname"><a href="../../df/d6a/a08044.html#a3eff2504b3182e587f5861966fc819e6">Player::SatisfyQuestExclusiveGroup</a></div><div class="ttdeci">bool SatisfyQuestExclusiveGroup(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01174">PlayerQuest.cpp:1174</a></div></div>
<div class="ttc" id="aa08044_html_a3f71a19d954e153b2fb790f176d7e69e"><div class="ttname"><a href="../../df/d6a/a08044.html#a3f71a19d954e153b2fb790f176d7e69e">Player::m_DFQuests</a></div><div class="ttdeci">DFQuestsDoneList m_DFQuests</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02359">Player.h:2359</a></div></div>
<div class="ttc" id="aa08044_html_a4119b83fa78e608d8d946b1821c57fdf"><div class="ttname"><a href="../../df/d6a/a08044.html#a4119b83fa78e608d8d946b1821c57fdf">Player::CanTakeQuest</a></div><div class="ttdeci">bool CanTakeQuest(Quest const *quest, bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00250">PlayerQuest.cpp:250</a></div></div>
<div class="ttc" id="aa08044_html_a4421205f8ff8c57dd0c7aa2eae0ba4a2"><div class="ttname"><a href="../../df/d6a/a08044.html#a4421205f8ff8c57dd0c7aa2eae0ba4a2">Player::SendQuestConfirmAccept</a></div><div class="ttdeci">void SendQuestConfirmAccept(Quest const *quest, Player *pReceiver)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02390">PlayerQuest.cpp:2390</a></div></div>
<div class="ttc" id="aa08044_html_a46351fb555db3b97fc531f215d2d2338"><div class="ttname"><a href="../../df/d6a/a08044.html#a46351fb555db3b97fc531f215d2d2338">Player::ModifyMoney</a></div><div class="ttdeci">bool ModifyMoney(int32 amount, bool sendError=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l11225">Player.cpp:11225</a></div></div>
<div class="ttc" id="aa08044_html_a467189aea8a8fb26ef8482254e6f2b34"><div class="ttname"><a href="../../df/d6a/a08044.html#a467189aea8a8fb26ef8482254e6f2b34">Player::InBattleground</a></div><div class="ttdeci">bool InBattleground() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02200">Player.h:2200</a></div></div>
<div class="ttc" id="aa08044_html_a4b8c18a582b0aab0f3dee61d76ec93a6"><div class="ttname"><a href="../../df/d6a/a08044.html#a4b8c18a582b0aab0f3dee61d76ec93a6">Player::m_timedquests</a></div><div class="ttdeci">QuestSet m_timedquests</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02626">Player.h:2626</a></div></div>
<div class="ttc" id="aa08044_html_a4c174e400f1b0df0ec02141d92ab87b2"><div class="ttname"><a href="../../df/d6a/a08044.html#a4c174e400f1b0df0ec02141d92ab87b2">Player::TalkedToCreature</a></div><div class="ttdeci">void TalkedToCreature(uint32 entry, ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02089">PlayerQuest.cpp:2089</a></div></div>
<div class="ttc" id="aa08044_html_a4c5c78979c1df40929dc1ce44c5f6daf"><div class="ttname"><a href="../../df/d6a/a08044.html#a4c5c78979c1df40929dc1ce44c5f6daf">Player::SetMonthlyQuestStatus</a></div><div class="ttdeci">void SetMonthlyQuestStatus(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l11865">Player.cpp:11865</a></div></div>
<div class="ttc" id="aa08044_html_a4e146717e02e530b473d147e6c650ff4"><div class="ttname"><a href="../../df/d6a/a08044.html#a4e146717e02e530b473d147e6c650ff4">Player::GetDifficulty</a></div><div class="ttdeci">Difficulty GetDifficulty(bool isRaid) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01869">Player.h:1869</a></div></div>
<div class="ttc" id="aa08044_html_a4ed4f2a833a55c6cb2ffc91fb43eb066"><div class="ttname"><a href="../../df/d6a/a08044.html#a4ed4f2a833a55c6cb2ffc91fb43eb066">Player::UpdateForQuestWorldObjects</a></div><div class="ttdeci">void UpdateForQuestWorldObjects()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7a/a01292_source.html#l01743">PlayerUpdates.cpp:1743</a></div></div>
<div class="ttc" id="aa08044_html_a4f79955d3a09a3ba998350d584546717"><div class="ttname"><a href="../../df/d6a/a08044.html#a4f79955d3a09a3ba998350d584546717">Player::m_weeklyquests</a></div><div class="ttdeci">QuestSet m_weeklyquests</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02627">Player.h:2627</a></div></div>
<div class="ttc" id="aa08044_html_a4f934c08237609db274d492c0323b744"><div class="ttname"><a href="../../df/d6a/a08044.html#a4f934c08237609db274d492c0323b744">Player::GetQuestDialogStatus</a></div><div class="ttdeci">QuestGiverStatus GetQuestDialogStatus(Object *questGiver)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01572">PlayerQuest.cpp:1572</a></div></div>
<div class="ttc" id="aa08044_html_a51452c4c6e6c2f8eb13dc66dfb5e8ba4"><div class="ttname"><a href="../../df/d6a/a08044.html#a51452c4c6e6c2f8eb13dc66dfb5e8ba4">Player::SetSeasonalQuestStatus</a></div><div class="ttdeci">void SetSeasonalQuestStatus(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l11855">Player.cpp:11855</a></div></div>
<div class="ttc" id="aa08044_html_a518389d20cdf628f73a4ca8db9b5d2fd"><div class="ttname"><a href="../../df/d6a/a08044.html#a518389d20cdf628f73a4ca8db9b5d2fd">Player::SatisfyQuestDay</a></div><div class="ttdeci">bool SatisfyQuestDay(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01259">PlayerQuest.cpp:1259</a></div></div>
<div class="ttc" id="aa08044_html_a5287085841b4a0e311f7dd0ea20f61af"><div class="ttname"><a href="../../df/d6a/a08044.html#a5287085841b4a0e311f7dd0ea20f61af">Player::SendItemRetrievalMail</a></div><div class="ttdeci">void SendItemRetrievalMail(uint32 itemEntry, uint32 count)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d39/a01271_source.html#l00439">PlayerMisc.cpp:439</a></div></div>
<div class="ttc" id="aa08044_html_a5407b30447c557eb4bcb441d0e4df355"><div class="ttname"><a href="../../df/d6a/a08044.html#a5407b30447c557eb4bcb441d0e4df355">Player::GroupEventHappens</a></div><div class="ttdeci">void GroupEventHappens(uint32 questId, WorldObject const *pEventObject)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01795">PlayerQuest.cpp:1795</a></div></div>
<div class="ttc" id="aa08044_html_a541838bee904b263239f051505a1498b"><div class="ttname"><a href="../../df/d6a/a08044.html#a541838bee904b263239f051505a1498b">Player::CanRewardQuest</a></div><div class="ttdeci">bool CanRewardQuest(Quest const *quest, bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00383">PlayerQuest.cpp:383</a></div></div>
<div class="ttc" id="aa08044_html_a558ae516e2abd8e8be169518d7209053"><div class="ttname"><a href="../../df/d6a/a08044.html#a558ae516e2abd8e8be169518d7209053">Player::SendPreparedQuest</a></div><div class="ttdeci">void SendPreparedQuest(ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00114">PlayerQuest.cpp:114</a></div></div>
<div class="ttc" id="aa08044_html_a56420e8977008b8f8a3399058b8a432f"><div class="ttname"><a href="../../df/d6a/a08044.html#a56420e8977008b8f8a3399058b8a432f">Player::m_monthlyquests</a></div><div class="ttdeci">QuestSet m_monthlyquests</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02628">Player.h:2628</a></div></div>
<div class="ttc" id="aa08044_html_a5713cd88450fc91ded78904209521176"><div class="ttname"><a href="../../df/d6a/a08044.html#a5713cd88450fc91ded78904209521176">Player::SatisfyQuestConditions</a></div><div class="ttdeci">bool SatisfyQuestConditions(Quest const *qInfo, bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01150">PlayerQuest.cpp:1150</a></div></div>
<div class="ttc" id="aa08044_html_a572b6465151408484c3bf84bb3f946a3"><div class="ttname"><a href="../../df/d6a/a08044.html#a572b6465151408484c3bf84bb3f946a3">Player::SendQuestTimerFailed</a></div><div class="ttdeci">void SendQuestTimerFailed(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02371">PlayerQuest.cpp:2371</a></div></div>
<div class="ttc" id="aa08044_html_a583c1a4763502f74b9aa69f5b43fc9a6"><div class="ttname"><a href="../../df/d6a/a08044.html#a583c1a4763502f74b9aa69f5b43fc9a6">Player::AddQuest</a></div><div class="ttdeci">void AddQuest(Quest const *quest, Object *questGiver)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00505">PlayerQuest.cpp:505</a></div></div>
<div class="ttc" id="aa08044_html_a583d3a68188487a3952dc9e6bd1a1c76"><div class="ttname"><a href="../../df/d6a/a08044.html#a583d3a68188487a3952dc9e6bd1a1c76">Player::UpdatePvPState</a></div><div class="ttdeci">void UpdatePvPState()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7a/a01292_source.html#l01391">PlayerUpdates.cpp:1391</a></div></div>
<div class="ttc" id="aa08044_html_a5aa219a691b0c5212fda9de12dfd72e9"><div class="ttname"><a href="../../df/d6a/a08044.html#a5aa219a691b0c5212fda9de12dfd72e9">Player::GetItemCount</a></div><div class="ttdeci">uint32 GetItemCount(uint32 item, bool inBankAlso=false, Item *skipItem=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/a01283_source.html#l00358">PlayerStorage.cpp:358</a></div></div>
<div class="ttc" id="aa08044_html_a5ced1d54771a4c7654620f1768436806"><div class="ttname"><a href="../../df/d6a/a08044.html#a5ced1d54771a4c7654620f1768436806">Player::CanAddQuest</a></div><div class="ttdeci">bool CanAddQuest(Quest const *quest, bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00263">PlayerQuest.cpp:263</a></div></div>
<div class="ttc" id="aa08044_html_a60c16e65f7375a886b133d5e8738c798"><div class="ttname"><a href="../../df/d6a/a08044.html#a60c16e65f7375a886b133d5e8738c798">Player::IsAtGroupRewardDistance</a></div><div class="ttdeci">bool IsAtGroupRewardDistance(WorldObject const *pRewardSource) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l12471">Player.cpp:12471</a></div></div>
<div class="ttc" id="aa08044_html_a60ef0de3403e8c16c065fe12f5f856e5"><div class="ttname"><a href="../../df/d6a/a08044.html#a60ef0de3403e8c16c065fe12f5f856e5">Player::KilledMonster</a></div><div class="ttdeci">void KilledMonster(CreatureTemplate const *cInfo, ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01892">PlayerQuest.cpp:1892</a></div></div>
<div class="ttc" id="aa08044_html_a6313d888ff224476aa988bd1f0f2ea3c"><div class="ttname"><a href="../../df/d6a/a08044.html#a6313d888ff224476aa988bd1f0f2ea3c">Player::GetReqKillOrCastCurrentCount</a></div><div class="ttdeci">uint16 GetReqKillOrCastCurrentCount(uint32 quest_id, int32 entry)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01728">PlayerQuest.cpp:1728</a></div></div>
<div class="ttc" id="aa08044_html_a67b53af432006bf83e80cb6991b6e146"><div class="ttname"><a href="../../df/d6a/a08044.html#a67b53af432006bf83e80cb6991b6e146">Player::CompleteQuest</a></div><div class="ttdeci">void CompleteQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00596">PlayerQuest.cpp:596</a></div></div>
<div class="ttc" id="aa08044_html_a6ab11ca64cde7c5cde1f53998a6f7253"><div class="ttname"><a href="../../df/d6a/a08044.html#a6ab11ca64cde7c5cde1f53998a6f7253">Player::GetSession</a></div><div class="ttdeci">WorldSession * GetSession() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01947">Player.h:1947</a></div></div>
<div class="ttc" id="aa08044_html_a6b0668bfae62da5119dbc080d2c3c7f5"><div class="ttname"><a href="../../df/d6a/a08044.html#a6b0668bfae62da5119dbc080d2c3c7f5">Player::SendQuestFailed</a></div><div class="ttdeci">void SendQuestFailed(uint32 questId, InventoryResult reason=EQUIP_ERR_OK)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02359">PlayerQuest.cpp:2359</a></div></div>
<div class="ttc" id="aa08044_html_a6dea805c714a08cb8972769c3f343bb9"><div class="ttname"><a href="../../df/d6a/a08044.html#a6dea805c714a08cb8972769c3f343bb9">Player::UpdateAreaDependentAuras</a></div><div class="ttdeci">void UpdateAreaDependentAuras(uint32 area_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7a/a01292_source.html#l01813">PlayerUpdates.cpp:1813</a></div></div>
<div class="ttc" id="aa08044_html_a7003bb11837e1583fbd9aa0606e3c22f"><div class="ttname"><a href="../../df/d6a/a08044.html#a7003bb11837e1583fbd9aa0606e3c22f">Player::RemoveQuestSlotState</a></div><div class="ttdeci">void RemoveQuestSlotState(uint16 slot, uint32 state)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01469">Player.h:1469</a></div></div>
<div class="ttc" id="aa08044_html_a71e5ab0c8c5ba33eb6c36a2300065823"><div class="ttname"><a href="../../df/d6a/a08044.html#a71e5ab0c8c5ba33eb6c36a2300065823">Player::SendQuestUpdate</a></div><div class="ttdeci">void SendQuestUpdate(uint32 questId)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01503">PlayerQuest.cpp:1503</a></div></div>
<div class="ttc" id="aa08044_html_a722631a3f64dd62b5f8db9114051e4cf"><div class="ttname"><a href="../../df/d6a/a08044.html#a722631a3f64dd62b5f8db9114051e4cf">Player::SendQuestReward</a></div><div class="ttdeci">void SendQuestReward(Quest const *quest, uint32 XP)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02334">PlayerQuest.cpp:2334</a></div></div>
<div class="ttc" id="aa08044_html_a743bfca834aded4409212d6fb43d8f4f"><div class="ttname"><a href="../../df/d6a/a08044.html#a743bfca834aded4409212d6fb43d8f4f">Player::CanSeeStartQuest</a></div><div class="ttdeci">bool CanSeeStartQuest(Quest const *quest)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00236">PlayerQuest.cpp:236</a></div></div>
<div class="ttc" id="aa08044_html_a77b52bf6fc7a0ac6ad37bf836aaf5c7b"><div class="ttname"><a href="../../df/d6a/a08044.html#a77b52bf6fc7a0ac6ad37bf836aaf5c7b">Player::HasEnoughMoney</a></div><div class="ttdeci">bool HasEnoughMoney(uint32 amount) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01569">Player.h:1569</a></div></div>
<div class="ttc" id="aa08044_html_a78498168eaeb91ca88e76f9e38867213"><div class="ttname"><a href="../../df/d6a/a08044.html#a78498168eaeb91ca88e76f9e38867213">Player::GetQuestSlotQuestId</a></div><div class="ttdeci">uint32 GetQuestSlotQuestId(uint16 slot) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01449">Player.h:1449</a></div></div>
<div class="ttc" id="aa08044_html_a79e24bb7856e3631a8e3d1fd16fc744e"><div class="ttname"><a href="../../df/d6a/a08044.html#a79e24bb7856e3631a8e3d1fd16fc744e">Player::DestroyItem</a></div><div class="ttdeci">void DestroyItem(uint8 bag, uint8 slot, bool update)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/a01283_source.html#l03051">PlayerStorage.cpp:3051</a></div></div>
<div class="ttc" id="aa08044_html_a7b45b9e11b333d56baf6b02cc523d70a"><div class="ttname"><a href="../../df/d6a/a08044.html#a7b45b9e11b333d56baf6b02cc523d70a">Player::SatisfyQuestMonth</a></div><div class="ttdeci">bool SatisfyQuestMonth(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01316">PlayerQuest.cpp:1316</a></div></div>
<div class="ttc" id="aa08044_html_a7fd041ba881e95856b8520252b0327a6"><div class="ttname"><a href="../../df/d6a/a08044.html#a7fd041ba881e95856b8520252b0327a6">Player::SetQuestSlotCounter</a></div><div class="ttdeci">void SetQuestSlotCounter(uint16 slot, uint8 counter, uint16 count)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01461">Player.h:1461</a></div></div>
<div class="ttc" id="aa08044_html_a84b252bdcb4e0538c1043926773f153f"><div class="ttname"><a href="../../df/d6a/a08044.html#a84b252bdcb4e0538c1043926773f153f">Player::HasQuest</a></div><div class="ttdeci">bool HasQuest(uint32 questId) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00100">PlayerQuest.cpp:100</a></div></div>
<div class="ttc" id="aa08044_html_a876f4504de04e561d10d3cb2282ea08c"><div class="ttname"><a href="../../df/d6a/a08044.html#a876f4504de04e561d10d3cb2282ea08c">Player::GiveXP</a></div><div class="ttdeci">void GiveXP(uint32 xp, Unit *victim, float group_rate=1.0f, bool isLFGReward=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l02335">Player.cpp:2335</a></div></div>
<div class="ttc" id="aa08044_html_a887ee39fb5179132913f3907d504ca77"><div class="ttname"><a href="../../df/d6a/a08044.html#a887ee39fb5179132913f3907d504ca77">Player::AdjustQuestReqItemCount</a></div><div class="ttdeci">void AdjustQuestReqItemCount(Quest const *quest, QuestStatusData &amp;questStatusData)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01741">PlayerQuest.cpp:1741</a></div></div>
<div class="ttc" id="aa08044_html_a897e236601ec88039eb9d16652233ce5"><div class="ttname"><a href="../../df/d6a/a08044.html#a897e236601ec88039eb9d16652233ce5">Player::SatisfyQuestSeasonal</a></div><div class="ttdeci">bool SatisfyQuestSeasonal(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01302">PlayerQuest.cpp:1302</a></div></div>
<div class="ttc" id="aa08044_html_a8b94a5119e583d66540638942e19f431"><div class="ttname"><a href="../../df/d6a/a08044.html#a8b94a5119e583d66540638942e19f431">Player::SatisfyQuestRace</a></div><div class="ttdeci">bool SatisfyQuestRace(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01094">PlayerQuest.cpp:1094</a></div></div>
<div class="ttc" id="aa08044_html_a8bac7edc1e6c0ebcbd3b75090c434cd3"><div class="ttname"><a href="../../df/d6a/a08044.html#a8bac7edc1e6c0ebcbd3b75090c434cd3">Player::SetDailyQuestStatus</a></div><div class="ttdeci">void SetDailyQuestStatus(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l11807">Player.cpp:11807</a></div></div>
<div class="ttc" id="aa08044_html_a8c1208da22d449910537b53d26308fa3"><div class="ttname"><a href="../../df/d6a/a08044.html#a8c1208da22d449910537b53d26308fa3">Player::GetCorpse</a></div><div class="ttdeci">Corpse * GetCorpse() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l04591">Player.cpp:4591</a></div></div>
<div class="ttc" id="aa08044_html_a8d4c78dff4096eff3cd1bf34f1b91768"><div class="ttname"><a href="../../df/d6a/a08044.html#a8d4c78dff4096eff3cd1bf34f1b91768">Player::SendQuestUpdateAddItem</a></div><div class="ttdeci">void SendQuestUpdateAddItem(Quest const *quest, uint32 item_idx, uint16 count)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02424">PlayerQuest.cpp:2424</a></div></div>
<div class="ttc" id="aa08044_html_a8d5b1b54960d39e389dcfa8c71dc54f4"><div class="ttname"><a href="../../df/d6a/a08044.html#a8d5b1b54960d39e389dcfa8c71dc54f4">Player::SatisfyQuestClass</a></div><div class="ttdeci">bool SatisfyQuestClass(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01076">PlayerQuest.cpp:1076</a></div></div>
<div class="ttc" id="aa08044_html_a8e0d6d5481aa496aa943b546e82b8911"><div class="ttname"><a href="../../df/d6a/a08044.html#a8e0d6d5481aa496aa943b546e82b8911">Player::SatisfyQuestReputation</a></div><div class="ttdeci">bool SatisfyQuestReputation(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01108">PlayerQuest.cpp:1108</a></div></div>
<div class="ttc" id="aa08044_html_a904aeb6ca88d6996e7c3f3ba96b9d274"><div class="ttname"><a href="../../df/d6a/a08044.html#a904aeb6ca88d6996e7c3f3ba96b9d274">Player::m_RewardedQuests</a></div><div class="ttdeci">RewardedQuestSet m_RewardedQuests</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02731">Player.h:2731</a></div></div>
<div class="ttc" id="aa08044_html_a912005a1a9058c11996bbbd8b6a0152c"><div class="ttname"><a href="../../df/d6a/a08044.html#a912005a1a9058c11996bbbd8b6a0152c">Player::SendPushToPartyResponse</a></div><div class="ttdeci">void SendPushToPartyResponse(Player const *player, uint8 msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02412">PlayerQuest.cpp:2412</a></div></div>
<div class="ttc" id="aa08044_html_a92675cf0a2e48ee6d04764081743b8ea"><div class="ttname"><a href="../../df/d6a/a08044.html#a92675cf0a2e48ee6d04764081743b8ea">Player::SetQuestSlot</a></div><div class="ttdeci">void SetQuestSlot(uint16 slot, uint32 quest_id, uint32 timer=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01453">Player.h:1453</a></div></div>
<div class="ttc" id="aa08044_html_a92f5f639ef225763dba03e9308054f39"><div class="ttname"><a href="../../df/d6a/a08044.html#a92f5f639ef225763dba03e9308054f39">Player::SendCanTakeQuestResponse</a></div><div class="ttdeci">void SendCanTakeQuestResponse(uint32 msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02382">PlayerQuest.cpp:2382</a></div></div>
<div class="ttc" id="aa08044_html_a981ca241668a35c4d44f885769f59f7a"><div class="ttname"><a href="../../df/d6a/a08044.html#a981ca241668a35c4d44f885769f59f7a">Player::SatisfyQuestTimed</a></div><div class="ttdeci">bool SatisfyQuestTimed(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01163">PlayerQuest.cpp:1163</a></div></div>
<div class="ttc" id="aa08044_html_a9940e82568c515c239c821d6fffdfb9b"><div class="ttname"><a href="../../df/d6a/a08044.html#a9940e82568c515c239c821d6fffdfb9b">Player::IsActiveQuest</a></div><div class="ttdeci">bool IsActiveQuest(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00201">PlayerQuest.cpp:201</a></div></div>
<div class="ttc" id="aa08044_html_a99fc00f9ac903dbe9adcadc5f7415abb"><div class="ttname"><a href="../../df/d6a/a08044.html#a99fc00f9ac903dbe9adcadc5f7415abb">Player::GetGroup</a></div><div class="ttdeci">Group * GetGroup()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02417">Player.h:2417</a></div></div>
<div class="ttc" id="aa08044_html_a9a1e2b927ca66d8bc57d3c009a192397"><div class="ttname"><a href="../../df/d6a/a08044.html#a9a1e2b927ca66d8bc57d3c009a192397">Player::SetQuestSlotState</a></div><div class="ttdeci">void SetQuestSlotState(uint16 slot, uint32 state)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01468">Player.h:1468</a></div></div>
<div class="ttc" id="aa08044_html_a9b1ad78b229913ff669912d2fb80c6e0"><div class="ttname"><a href="../../df/d6a/a08044.html#a9b1ad78b229913ff669912d2fb80c6e0">Player::SendNewItem</a></div><div class="ttdeci">void SendNewItem(Item *item, uint32 count, bool received, bool created, bool broadcast=false, bool sendChatMessage=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/a01283_source.html#l04779">PlayerStorage.cpp:4779</a></div></div>
<div class="ttc" id="aa08044_html_a9db7bf014aa6b541253cef245cc34948"><div class="ttname"><a href="../../df/d6a/a08044.html#a9db7bf014aa6b541253cef245cc34948">Player::SatisfyQuestLog</a></div><div class="ttdeci">bool SatisfyQuestLog(bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00975">PlayerQuest.cpp:975</a></div></div>
<div class="ttc" id="aa08044_html_a9e99ee8e3d5603c86e5ed99bb1d233ee"><div class="ttname"><a href="../../df/d6a/a08044.html#a9e99ee8e3d5603c86e5ed99bb1d233ee">Player::SendQuestComplete</a></div><div class="ttdeci">void SendQuestComplete(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02323">PlayerQuest.cpp:2323</a></div></div>
<div class="ttc" id="aa08044_html_a9ea72cbc30ce91ae6ca1b5b03536737a"><div class="ttname"><a href="../../df/d6a/a08044.html#a9ea72cbc30ce91ae6ca1b5b03536737a">Player::GetQuestRate</a></div><div class="ttdeci">float GetQuestRate(bool isDFQuest=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l15936">Player.cpp:15936</a></div></div>
<div class="ttc" id="aa08044_html_aa0e09138bf609a7cf32ada4026aab833"><div class="ttname"><a href="../../df/d6a/a08044.html#aa0e09138bf609a7cf32ada4026aab833">Player::SetQuestSlotTimer</a></div><div class="ttdeci">void SetQuestSlotTimer(uint16 slot, uint32 timer)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01470">Player.h:1470</a></div></div>
<div class="ttc" id="aa08044_html_aa1b93687507f29637f2e42574ddd02ed"><div class="ttname"><a href="../../df/d6a/a08044.html#aa1b93687507f29637f2e42574ddd02ed">Player::pvpInfo</a></div><div class="ttdeci">PvPInfo pvpInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01796">Player.h:1796</a></div></div>
<div class="ttc" id="aa08044_html_aa352798726d935f9e76f97137e47ee33"><div class="ttname"><a href="../../df/d6a/a08044.html#aa352798726d935f9e76f97137e47ee33">Player::PrepareQuestMenu</a></div><div class="ttdeci">void PrepareQuestMenu(ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00038">PlayerQuest.cpp:38</a></div></div>
<div class="ttc" id="aa08044_html_aa5393bf276b4b3429e7d12263408a90b"><div class="ttname"><a href="../../df/d6a/a08044.html#aa5393bf276b4b3429e7d12263408a90b">Player::AdditionalSavingAddMask</a></div><div class="ttdeci">void AdditionalSavingAddMask(uint8 mask)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02519">Player.h:2519</a></div></div>
<div class="ttc" id="aa08044_html_aa59bc437abf78479ccb2a10800f202d3"><div class="ttname"><a href="../../df/d6a/a08044.html#aa59bc437abf78479ccb2a10800f202d3">Player::AddQuestAndCheckCompletion</a></div><div class="ttdeci">void AddQuestAndCheckCompletion(Quest const *quest, Object *questGiver)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00419">PlayerQuest.cpp:419</a></div></div>
<div class="ttc" id="aa08044_html_aa620106c0c7396e8264a4d8e0e4dc4d9"><div class="ttname"><a href="../../df/d6a/a08044.html#aa620106c0c7396e8264a4d8e0e4dc4d9">Player::CanCompleteQuest</a></div><div class="ttdeci">bool CanCompleteQuest(uint32 quest_id, const QuestStatusData *q_savedStatus=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00287">PlayerQuest.cpp:287</a></div></div>
<div class="ttc" id="aa08044_html_aa741d2df6cdf7e02b63b46d2a58f609a"><div class="ttname"><a href="../../df/d6a/a08044.html#aa741d2df6cdf7e02b63b46d2a58f609a">Player::SatisfyQuestLevel</a></div><div class="ttdeci">bool SatisfyQuestLevel(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00958">PlayerQuest.cpp:958</a></div></div>
<div class="ttc" id="aa08044_html_aab6ea43cb3184a4503f019f7f518c7aa"><div class="ttname"><a href="../../df/d6a/a08044.html#aab6ea43cb3184a4503f019f7f518c7aa">Player::SetTitle</a></div><div class="ttdeci">void SetTitle(CharTitlesEntry const *title, bool lost=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l13041">Player.cpp:13041</a></div></div>
<div class="ttc" id="aa08044_html_aadc3aa4a32a272c806b46ae077e13951"><div class="ttname"><a href="../../df/d6a/a08044.html#aadc3aa4a32a272c806b46ae077e13951">Player::SetWeeklyQuestStatus</a></div><div class="ttdeci">void SetWeeklyQuestStatus(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l11849">Player.cpp:11849</a></div></div>
<div class="ttc" id="aa08044_html_ab0dd4a3587adde29c041c1d403d676e3"><div class="ttname"><a href="../../df/d6a/a08044.html#ab0dd4a3587adde29c041c1d403d676e3">Player::GetReputation</a></div><div class="ttdeci">uint32 GetReputation(uint32 factionentry) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l15028">Player.cpp:15028</a></div></div>
<div class="ttc" id="aa08044_html_ab30f677764d8fe694f27ee4253601033"><div class="ttname"><a href="../../df/d6a/a08044.html#ab30f677764d8fe694f27ee4253601033">Player::DestroyItemCount</a></div><div class="ttdeci">void DestroyItemCount(uint32 item, uint32 count, bool update, bool unequip_check=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/a01283_source.html#l03149">PlayerStorage.cpp:3149</a></div></div>
<div class="ttc" id="aa08044_html_ab38d56b364dfd74d7b6a88d08ecdf072"><div class="ttname"><a href="../../df/d6a/a08044.html#ab38d56b364dfd74d7b6a88d08ecdf072">Player::SatisfyQuestPreviousQuest</a></div><div class="ttdeci">bool SatisfyQuestPreviousQuest(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00990">PlayerQuest.cpp:990</a></div></div>
<div class="ttc" id="aa08044_html_ab3a73c835c52cd903ab0112a5bc4e7f0"><div class="ttname"><a href="../../df/d6a/a08044.html#ab3a73c835c52cd903ab0112a5bc4e7f0">Player::UpdateZoneDependentAuras</a></div><div class="ttdeci">void UpdateZoneDependentAuras(uint32 zone_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7a/a01292_source.html#l01799">PlayerUpdates.cpp:1799</a></div></div>
<div class="ttc" id="aa08044_html_ab3b4eddc001341bfc294817c8b23d824"><div class="ttname"><a href="../../df/d6a/a08044.html#ab3b4eddc001341bfc294817c8b23d824">Player::AreaExploredOrEventHappens</a></div><div class="ttdeci">void AreaExploredOrEventHappens(uint32 questId)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01768">PlayerQuest.cpp:1768</a></div></div>
<div class="ttc" id="aa08044_html_ab5a791e5b6f12cdf6eff3bab46449b5d"><div class="ttname"><a href="../../df/d6a/a08044.html#ab5a791e5b6f12cdf6eff3bab46449b5d">Player::TakeQuestSourceItem</a></div><div class="ttdeci">bool TakeQuestSourceItem(uint32 questId, bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01353">PlayerQuest.cpp:1353</a></div></div>
<div class="ttc" id="aa08044_html_ab702c2acc0393baed9ac829435a10b03"><div class="ttname"><a href="../../df/d6a/a08044.html#ab702c2acc0393baed9ac829435a10b03">Player::RemoveActiveQuest</a></div><div class="ttdeci">void RemoveActiveQuest(uint32 questId, bool update=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01472">PlayerQuest.cpp:1472</a></div></div>
<div class="ttc" id="aa08044_html_ab941b16982ef92a3ce3f62b7b861ea61"><div class="ttname"><a href="../../df/d6a/a08044.html#ab941b16982ef92a3ce3f62b7b861ea61">Player::MoneyChanged</a></div><div class="ttdeci">void MoneyChanged(uint32 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02148">PlayerQuest.cpp:2148</a></div></div>
<div class="ttc" id="aa08044_html_ab98c62b0161d702e4219c8277f8f5349"><div class="ttname"><a href="../../df/d6a/a08044.html#ab98c62b0161d702e4219c8277f8f5349">Player::GetQuestStatus</a></div><div class="ttdeci">QuestStatus GetQuestStatus(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01407">PlayerQuest.cpp:1407</a></div></div>
<div class="ttc" id="aa08044_html_abbdc64fe74e2935052b57d3072dee33e"><div class="ttname"><a href="../../df/d6a/a08044.html#abbdc64fe74e2935052b57d3072dee33e">Player::CanCompleteRepeatableQuest</a></div><div class="ttdeci">bool CanCompleteRepeatableQuest(Quest const *quest)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00364">PlayerQuest.cpp:364</a></div></div>
<div class="ttc" id="aa08044_html_abd1902419170116dee3064afbd492f0f"><div class="ttname"><a href="../../df/d6a/a08044.html#abd1902419170116dee3064afbd492f0f">Player::SatisfyQuestSkill</a></div><div class="ttdeci">bool SatisfyQuestSkill(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00938">PlayerQuest.cpp:938</a></div></div>
<div class="ttc" id="aa08044_html_ac10984e94763eda3478a22aa8e6dd8b3"><div class="ttname"><a href="../../df/d6a/a08044.html#ac10984e94763eda3478a22aa8e6dd8b3">Player::ModifyArenaPoints</a></div><div class="ttdeci">void ModifyArenaPoints(int32 value, CharacterDatabaseTransaction trans=CharacterDatabaseTransaction(nullptr))</div><div class="ttdoc">If trans is specified, honor save query will be added to trans.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l06170">Player.cpp:6170</a></div></div>
<div class="ttc" id="aa08044_html_ac1e9eaf17709fa3fec00fc2356ead46b"><div class="ttname"><a href="../../df/d6a/a08044.html#ac1e9eaf17709fa3fec00fc2356ead46b">Player::KillCreditGO</a></div><div class="ttdeci">void KillCreditGO(uint32 entry, ObjectGuid guid=ObjectGuid::Empty)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02033">PlayerQuest.cpp:2033</a></div></div>
<div class="ttc" id="aa08044_html_ac35099dc1c5c4340d450db90a5d143ca"><div class="ttname"><a href="../../df/d6a/a08044.html#ac35099dc1c5c4340d450db90a5d143ca">Player::GetNextQuest</a></div><div class="ttdeci">Quest const * GetNextQuest(ObjectGuid guid, Quest const *quest)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00206">PlayerQuest.cpp:206</a></div></div>
<div class="ttc" id="aa08044_html_ac62aa687e837226933cf563955f39f76"><div class="ttname"><a href="../../df/d6a/a08044.html#ac62aa687e837226933cf563955f39f76">Player::CanShareQuest</a></div><div class="ttdeci">bool CanShareQuest(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01435">PlayerQuest.cpp:1435</a></div></div>
<div class="ttc" id="aa08044_html_ac66aea564f92c5f3c38d5819a0a0b4e4"><div class="ttname"><a href="../../df/d6a/a08044.html#ac66aea564f92c5f3c38d5819a0a0b4e4">Player::FailQuest</a></div><div class="ttdeci">void FailQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00877">PlayerQuest.cpp:877</a></div></div>
<div class="ttc" id="aa08044_html_ac6ee8565680d6696c0804fa40d47ba73"><div class="ttname"><a href="../../df/d6a/a08044.html#ac6ee8565680d6696c0804fa40d47ba73">Player::CanUnequipItems</a></div><div class="ttdeci">InventoryResult CanUnequipItems(uint32 item, uint32 count) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/a01283_source.html#l00304">PlayerStorage.cpp:304</a></div></div>
<div class="ttc" id="aa08044_html_ac84736fec697d49391a3325b99e3e039"><div class="ttname"><a href="../../df/d6a/a08044.html#ac84736fec697d49391a3325b99e3e039">Player::ItemAddedQuestCheck</a></div><div class="ttdeci">void ItemAddedQuestCheck(uint32 entry, uint32 count)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01812">PlayerQuest.cpp:1812</a></div></div>
<div class="ttc" id="aa08044_html_ac960994f0346b8ca89cc61aa6b74cf53"><div class="ttname"><a href="../../df/d6a/a08044.html#ac960994f0346b8ca89cc61aa6b74cf53">Player::m_questRewardTalentCount</a></div><div class="ttdeci">uint32 m_questRewardTalentCount</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02818">Player.h:2818</a></div></div>
<div class="ttc" id="aa08044_html_ac996a41fc3f89d8683de8695bb7db13c"><div class="ttname"><a href="../../df/d6a/a08044.html#ac996a41fc3f89d8683de8695bb7db13c">Player::StoreNewItem</a></div><div class="ttdeci">Item * StoreNewItem(ItemPosCountVec const &amp;pos, uint32 item, bool update, int32 randomPropertyId=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/a01283_source.html#l02552">PlayerStorage.cpp:2552</a></div></div>
<div class="ttc" id="aa08044_html_aca05d62bd5f150ae2426747d8e1a3a36"><div class="ttname"><a href="../../df/d6a/a08044.html#aca05d62bd5f150ae2426747d8e1a3a36">Player::SatisfyQuestWeek</a></div><div class="ttdeci">bool SatisfyQuestWeek(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01293">PlayerQuest.cpp:1293</a></div></div>
<div class="ttc" id="aa08044_html_aca986a0702330f87627116816b5c0a92"><div class="ttname"><a href="../../df/d6a/a08044.html#aca986a0702330f87627116816b5c0a92">Player::RemoveTimedQuest</a></div><div class="ttdeci">void RemoveTimedQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01521">Player.h:1521</a></div></div>
<div class="ttc" id="aa08044_html_acaa7aab48332b249ff546d123a9af85d"><div class="ttname"><a href="../../df/d6a/a08044.html#acaa7aab48332b249ff546d123a9af85d">Player::GiveQuestSourceItem</a></div><div class="ttdeci">bool GiveQuestSourceItem(Quest const *quest)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01325">PlayerQuest.cpp:1325</a></div></div>
<div class="ttc" id="aa08044_html_acb2677536aca2865da4e6ceea0d3f3bf"><div class="ttname"><a href="../../df/d6a/a08044.html#acb2677536aca2865da4e6ceea0d3f3bf">Player::RewardReputation</a></div><div class="ttdeci">void RewardReputation(Unit *victim, float rate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l05834">Player.cpp:5834</a></div></div>
<div class="ttc" id="aa08044_html_acf0f9d07a0043d6fdbd8a4cbde03ab53"><div class="ttname"><a href="../../df/d6a/a08044.html#acf0f9d07a0043d6fdbd8a4cbde03ab53">Player::SatisfyQuestStatus</a></div><div class="ttdeci">bool SatisfyQuestStatus(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01139">PlayerQuest.cpp:1139</a></div></div>
<div class="ttc" id="aa08044_html_ad0a1439167b4634cfd0745dc4310521e"><div class="ttname"><a href="../../df/d6a/a08044.html#ad0a1439167b4634cfd0745dc4310521e">Player::RewardQuest</a></div><div class="ttdeci">void RewardQuest(Quest const *quest, uint32 reward, Object *questGiver, bool announce=true, bool isLFGReward=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00657">PlayerQuest.cpp:657</a></div></div>
<div class="ttc" id="aa08044_html_ad32f3a3ec1be51826e04097db7a69620"><div class="ttname"><a href="../../df/d6a/a08044.html#ad32f3a3ec1be51826e04097db7a69620">Player::SetQuestStatus</a></div><div class="ttdeci">void SetQuestStatus(uint32 questId, QuestStatus status, bool update=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01456">PlayerQuest.cpp:1456</a></div></div>
<div class="ttc" id="aa08044_html_ad41ec715f6adfcb5cfc70e3d5925ae85"><div class="ttname"><a href="../../df/d6a/a08044.html#ad41ec715f6adfcb5cfc70e3d5925ae85">Player::KilledPlayerCredit</a></div><div class="ttdeci">void KilledPlayerCredit(uint16 count=1)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01972">PlayerQuest.cpp:1972</a></div></div>
<div class="ttc" id="aa08044_html_ad7da6786f5e1327b2c1e7614c9a5b1be"><div class="ttname"><a href="../../df/d6a/a08044.html#ad7da6786f5e1327b2c1e7614c9a5b1be">Player::AbandonQuest</a></div><div class="ttdeci">void AbandonQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l00921">PlayerQuest.cpp:921</a></div></div>
<div class="ttc" id="aa08044_html_ad7e77cd57824c0ca08d2c88a8b1c3aec"><div class="ttname"><a href="../../df/d6a/a08044.html#ad7e77cd57824c0ca08d2c88a8b1c3aec">Player::RemoveRewardedQuest</a></div><div class="ttdeci">void RemoveRewardedQuest(uint32 questId, bool update=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01490">PlayerQuest.cpp:1490</a></div></div>
<div class="ttc" id="aa08044_html_ad868b1cd905ba7dc0fc8969240cf8c58"><div class="ttname"><a href="../../df/d6a/a08044.html#ad868b1cd905ba7dc0fc8969240cf8c58">Player::KilledPlayerCreditForQuest</a></div><div class="ttdeci">void KilledPlayerCreditForQuest(uint16 count, Quest const *quest)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02002">PlayerQuest.cpp:2002</a></div></div>
<div class="ttc" id="aa08044_html_ade216a89981dfce501f02f38cec9ad3f"><div class="ttname"><a href="../../df/d6a/a08044.html#ade216a89981dfce501f02f38cec9ad3f">Player::SendEquipError</a></div><div class="ttdeci">void SendEquipError(InventoryResult msg, Item *pItem, Item *pItem2=nullptr, uint32 itemid=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/a01283_source.html#l04052">PlayerStorage.cpp:4052</a></div></div>
<div class="ttc" id="aa08044_html_ade36479ca18bfad804c3b5306d856ddf"><div class="ttname"><a href="../../df/d6a/a08044.html#ade36479ca18bfad804c3b5306d856ddf">Player::SatisfyQuestPrevChain</a></div><div class="ttdeci">bool SatisfyQuestPrevChain(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l01231">PlayerQuest.cpp:1231</a></div></div>
<div class="ttc" id="aa08044_html_ae22a64659346d2a5017d4b47e796146c"><div class="ttname"><a href="../../df/d6a/a08044.html#ae22a64659346d2a5017d4b47e796146c">Player::GetGossipTextId</a></div><div class="ttdeci">uint32 GetGossipTextId(uint32 menuId, WorldObject *source)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a01268_source.html#l00405">PlayerGossip.cpp:405</a></div></div>
<div class="ttc" id="aa08044_html_ae9b5335b821af51bcfa01e994f3387f8"><div class="ttname"><a href="../../df/d6a/a08044.html#ae9b5335b821af51bcfa01e994f3387f8">Player::m_seasonalquests</a></div><div class="ttdeci">SeasonalEventQuestMap m_seasonalquests</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02629">Player.h:2629</a></div></div>
<div class="ttc" id="aa08044_html_ae9eca1b0ef6f9a14e65d8a167cdf8e66"><div class="ttname"><a href="../../df/d6a/a08044.html#ae9eca1b0ef6f9a14e65d8a167cdf8e66">Player::SendQuestGiverStatusMultiple</a></div><div class="ttdeci">void SendQuestGiverStatusMultiple()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d53/a01262_source.html#l07552">Player.cpp:7552</a></div></div>
<div class="ttc" id="aa08044_html_aea4d1caa45ca6a98450bf7c9032cf35b"><div class="ttname"><a href="../../df/d6a/a08044.html#aea4d1caa45ca6a98450bf7c9032cf35b">Player::SendQuestUpdateAddPlayer</a></div><div class="ttdeci">void SendQuestUpdateAddPlayer(Quest const *quest, uint16 old_count, uint16 add_count)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/a01274_source.html#l02456">PlayerQuest.cpp:2456</a></div></div>
<div class="ttc" id="aa08044_html_aec4b723fc85478c4fec8f468a130d9c0"><div class="ttname"><a href="../../df/d6a/a08044.html#aec4b723fc85478c4fec8f468a130d9c0">Player::SetMustDelayTeleport</a></div><div class="ttdeci">void SetMustDelayTeleport(bool setting)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02878">Player.h:2878</a></div></div>
<div class="ttc" id="aa08044_html_af059a10625d50ca7674771ea1c1c4c4c"><div class="ttname"><a href="../../df/d6a/a08044.html#af059a10625d50ca7674771ea1c1c4c4c">Player::CanStoreNewItem</a></div><div class="ttdeci">InventoryResult CanStoreNewItem(uint8 bag, uint8 slot, ItemPosCountVec &amp;dest, uint32 item, uint32 count, uint32 *no_space_count=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01248">Player.h:1248</a></div></div>
<div class="ttc" id="aa08044_html_af1535e4d884448d3ee3ceb81c5b5feee"><div class="ttname"><a href="../../df/d6a/a08044.html#af1535e4d884448d3ee3ceb81c5b5feee">Player::m_QuestStatusSave</a></div><div class="ttdeci">QuestStatusSaveMap m_QuestStatusSave</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02729">Player.h:2729</a></div></div>
<div class="ttc" id="aa08044_html_af37c2193907bc6a6860b7e25954531e0"><div class="ttname"><a href="../../df/d6a/a08044.html#af37c2193907bc6a6860b7e25954531e0">Player::AddTimedQuest</a></div><div class="ttdeci">void AddTimedQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01520">Player.h:1520</a></div></div>
<div class="ttc" id="aa08044_html_af3bfe54e63e3e08602f01e187ccedb7a"><div class="ttname"><a href="../../df/d6a/a08044.html#af3bfe54e63e3e08602f01e187ccedb7a">Player::m_RewardedQuestsSave</a></div><div class="ttdeci">QuestStatusSaveMap m_RewardedQuestsSave</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02732">Player.h:2732</a></div></div>
<div class="ttc" id="aa08044_html_af5e271a82ad1ba3d3b081b9774b7a5e5"><div class="ttname"><a href="../../df/d6a/a08044.html#af5e271a82ad1ba3d3b081b9774b7a5e5">Player::GetReputationMgr</a></div><div class="ttdeci">ReputationMgr &amp; GetReputationMgr()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02075">Player.h:2075</a></div></div>
<div class="ttc" id="aa08044_html_af6f5e7fa735e3d31f3558410184d08be"><div class="ttname"><a href="../../df/d6a/a08044.html#af6f5e7fa735e3d31f3558410184d08be">Player::IsQuestRewarded</a></div><div class="ttdeci">bool IsQuestRewarded(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l01589">Player.h:1589</a></div></div>
<div class="ttc" id="aa08044_html_af9651858db4302e3dff8ec5bff131f72"><div class="ttname"><a href="../../df/d6a/a08044.html#af9651858db4302e3dff8ec5bff131f72">Player::PlayerTalkClass</a></div><div class="ttdeci">PlayerMenu * PlayerTalkClass</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd8/a01265_source.html#l02187">Player.h:2187</a></div></div>
<div class="ttc" id="aa08188_html_a0b6417e1489c3f2e1ced1e0384d48ff8"><div class="ttname"><a href="../../db/d54/a08188.html#a0b6417e1489c3f2e1ced1e0384d48ff8">Unit::GetAuraEffectsByType</a></div><div class="ttdeci">AuraEffectList const &amp; GetAuraEffectsByType(AuraType type) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a01328_source.html#l01964">Unit.h:1964</a></div></div>
<div class="ttc" id="aa08188_html_a69c5ac45b65cf0dede6e0ee837361f61"><div class="ttname"><a href="../../db/d54/a08188.html#a69c5ac45b65cf0dede6e0ee837361f61">Unit::HasAura</a></div><div class="ttdeci">bool HasAura(uint32 spellId, ObjectGuid casterGUID=ObjectGuid::Empty, ObjectGuid itemCasterGUID=ObjectGuid::Empty, uint8 reqEffMask=0) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5d/a01325_source.html#l05598">Unit.cpp:5598</a></div></div>
<div class="ttc" id="aa08188_html_a9819c2f13647afe6ac172fb5313cfd83"><div class="ttname"><a href="../../db/d54/a08188.html#a9819c2f13647afe6ac172fb5313cfd83">Unit::getRaceMask</a></div><div class="ttdeci">uint32 getRaceMask() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a01328_source.html#l01423">Unit.h:1423</a></div></div>
<div class="ttc" id="aa08188_html_aa3ca95f7a14041f562ed69c3994afdfc"><div class="ttname"><a href="../../db/d54/a08188.html#aa3ca95f7a14041f562ed69c3994afdfc">Unit::CastSpell</a></div><div class="ttdeci">SpellCastResult CastSpell(SpellCastTargets const &amp;targets, SpellInfo const *spellInfo, CustomSpellValues const *value, TriggerCastFlags triggerFlags=TRIGGERED_NONE, Item *castItem=nullptr, AuraEffect const *triggeredByAura=nullptr, ObjectGuid originalCaster=ObjectGuid::Empty)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5d/a01325_source.html#l01168">Unit.cpp:1168</a></div></div>
<div class="ttc" id="aa08188_html_aac612f06e84142d92dcfc432b5feb4ac"><div class="ttname"><a href="../../db/d54/a08188.html#aac612f06e84142d92dcfc432b5feb4ac">Unit::RemoveAurasDueToSpell</a></div><div class="ttdeci">void RemoveAurasDueToSpell(uint32 spellId, ObjectGuid casterGUID=ObjectGuid::Empty, uint8 reqEffMask=0, AuraRemoveMode removeMode=AURA_REMOVE_BY_DEFAULT)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5d/a01325_source.html#l04823">Unit.cpp:4823</a></div></div>
<div class="ttc" id="aa08188_html_abbbd9cc147469bc7f35075539bdf55a0"><div class="ttname"><a href="../../db/d54/a08188.html#abbbd9cc147469bc7f35075539bdf55a0">Unit::getClassMask</a></div><div class="ttdeci">uint32 getClassMask() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a01328_source.html#l01425">Unit.h:1425</a></div></div>
<div class="ttc" id="aa08188_html_adc6d98745d565970b4a89088ec5b5a42"><div class="ttname"><a href="../../db/d54/a08188.html#adc6d98745d565970b4a89088ec5b5a42">Unit::getLevel</a></div><div class="ttdeci">uint8 getLevel() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a01328_source.html#l01418">Unit.h:1418</a></div></div>
<div class="ttc" id="aa08188_html_adcdd87d0c137619dfc869536c1315dd7"><div class="ttname"><a href="../../db/d54/a08188.html#adcdd87d0c137619dfc869536c1315dd7">Unit::AuraEffectList</a></div><div class="ttdeci">std::list&lt; AuraEffect * &gt; AuraEffectList</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd9/a01328_source.html#l01306">Unit.h:1306</a></div></div>
<div class="ttc" id="aa08464_html_a4143a2afd52e788bd0bd82193ef41701"><div class="ttname"><a href="../../d8/d05/a08464.html#a4143a2afd52e788bd0bd82193ef41701">ObjectMgr::ExclusiveQuestGroupsBounds</a></div><div class="ttdeci">std::pair&lt; ExclusiveQuestGroups::const_iterator, ExclusiveQuestGroups::const_iterator &gt; ExclusiveQuestGroupsBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4e/a01355_source.html#l01128">ObjectMgr.h:1128</a></div></div>
<div class="ttc" id="aa08464_html_a92a2d9fe378030122340f34a7cb79ef9"><div class="ttname"><a href="../../d8/d05/a08464.html#a92a2d9fe378030122340f34a7cb79ef9">ObjectMgr::GetLocaleString</a></div><div class="ttdeci">static std::string_view GetLocaleString(std::vector&lt; std::string &gt; const &amp;data, size_t locale)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4e/a01355_source.html#l01390">ObjectMgr.h:1390</a></div></div>
<div class="ttc" id="aa08856_html"><div class="ttname"><a href="../../d4/dfc/a08856.html">Group</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d35/a01400_source.html#l00167">Group.h:168</a></div></div>
<div class="ttc" id="aa08868_html"><div class="ttname"><a href="../../d9/d13/a08868.html">GroupReference</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d10/a01412_source.html#l00026">GroupReference.h:27</a></div></div>
<div class="ttc" id="aa08868_html_a6f8f406f1209dd7060904d40f5424b41"><div class="ttname"><a href="../../d9/d13/a08868.html#a6f8f406f1209dd7060904d40f5424b41">GroupReference::next</a></div><div class="ttdeci">GroupReference * next()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d10/a01412_source.html#l00036">GroupReference.h:36</a></div></div>
<div class="ttc" id="aa08944_html"><div class="ttname"><a href="../../d0/d84/a08944.html">QEmote</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dde/a01496_source.html#l00024">NPCHandler.h:25</a></div></div>
<div class="ttc" id="aa08944_html_a701c902af6f7f472511727bcc88ceeef"><div class="ttname"><a href="../../d0/d84/a08944.html#a701c902af6f7f472511727bcc88ceeef">QEmote::_Emote</a></div><div class="ttdeci">uint32 _Emote</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dde/a01496_source.html#l00026">NPCHandler.h:26</a></div></div>
<div class="ttc" id="aa08944_html_a8c4024f5818f327f29b44a26892b89a1"><div class="ttname"><a href="../../d0/d84/a08944.html#a8c4024f5818f327f29b44a26892b89a1">QEmote::_Delay</a></div><div class="ttdeci">uint32 _Delay</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dde/a01496_source.html#l00027">NPCHandler.h:27</a></div></div>
<div class="ttc" id="aa08948_html_a046d637b91807db067c6e7050184322d"><div class="ttname"><a href="../../d8/d06/a08948.html#a046d637b91807db067c6e7050184322d">GossipTextOption::Text_0</a></div><div class="ttdeci">std::string Text_0</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dde/a01496_source.html#l00034">NPCHandler.h:34</a></div></div>
<div class="ttc" id="aa08948_html_a0f67a651fdb3f3217279015c9e3fb292"><div class="ttname"><a href="../../d8/d06/a08948.html#a0f67a651fdb3f3217279015c9e3fb292">GossipTextOption::Emotes</a></div><div class="ttdeci">QEmote Emotes[MAX_GOSSIP_TEXT_EMOTES]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dde/a01496_source.html#l00039">NPCHandler.h:39</a></div></div>
<div class="ttc" id="aa08948_html_a8d64d7b8fcdbd995cc11e22adde8c0de"><div class="ttname"><a href="../../d8/d06/a08948.html#a8d64d7b8fcdbd995cc11e22adde8c0de">GossipTextOption::Text_1</a></div><div class="ttdeci">std::string Text_1</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dde/a01496_source.html#l00035">NPCHandler.h:35</a></div></div>
<div class="ttc" id="aa08952_html"><div class="ttname"><a href="../../db/df5/a08952.html">GossipText</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dde/a01496_source.html#l00044">NPCHandler.h:45</a></div></div>
<div class="ttc" id="aa08952_html_a30882f3f0415185ec12ef4d316a0b428"><div class="ttname"><a href="../../db/df5/a08952.html#a30882f3f0415185ec12ef4d316a0b428">GossipText::Options</a></div><div class="ttdeci">GossipTextOption Options[MAX_GOSSIP_TEXT_OPTIONS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dde/a01496_source.html#l00046">NPCHandler.h:46</a></div></div>
<div class="ttc" id="aa08960_html"><div class="ttname"><a href="../../d4/d43/a08960.html">NpcTextLocale</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dde/a01496_source.html#l00054">NPCHandler.h:55</a></div></div>
<div class="ttc" id="aa09080_html"><div class="ttname"><a href="../../d1/da1/a09080.html">MailDraft</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d82/a01565_source.html#l00119">Mail.h:120</a></div></div>
<div class="ttc" id="aa09080_html_aaee8965aaa66351954bdc7db246151d7"><div class="ttname"><a href="../../d1/da1/a09080.html#aaee8965aaa66351954bdc7db246151d7">MailDraft::SendMailTo</a></div><div class="ttdeci">void SendMailTo(CharacterDatabaseTransaction trans, MailReceiver const &amp;receiver, MailSender const &amp;sender, MailCheckMask checked=MAIL_CHECK_MASK_NONE, uint32 deliver_delay=0, uint32 custom_expiration=0, bool deleteMailItemsFromDB=false, bool sendMail=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc1/a01562_source.html#l00186">Mail.cpp:186</a></div></div>
<div class="ttc" id="aa09188_html"><div class="ttname"><a href="../../db/d9f/a09188.html">Map</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daa/a01577_source.html#l00311">Map.h:312</a></div></div>
<div class="ttc" id="aa09188_html_a92001d81940cdfec678ec714248052a5"><div class="ttname"><a href="../../db/d9f/a09188.html#a92001d81940cdfec678ec714248052a5">Map::GetGameObject</a></div><div class="ttdeci">GameObject * GetGameObject(ObjectGuid const guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df5/a01574_source.html#l03295">Map.cpp:3295</a></div></div>
<div class="ttc" id="aa09188_html_a9c20f696cb8109183fbd81b13848b050"><div class="ttname"><a href="../../db/d9f/a09188.html#a9c20f696cb8109183fbd81b13848b050">Map::GetCreature</a></div><div class="ttdeci">Creature * GetCreature(ObjectGuid const guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df5/a01574_source.html#l03290">Map.cpp:3290</a></div></div>
<div class="ttc" id="aa09548_html"><div class="ttname"><a href="../../d2/d49/a09548.html">QuestLocale</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00179">QuestDef.h:180</a></div></div>
<div class="ttc" id="aa09560_html"><div class="ttname"><a href="../../d1/db9/a09560.html">Quest</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00206">QuestDef.h:207</a></div></div>
<div class="ttc" id="aa09560_html_a040b23aa9d248980540640a5dcac3cf5"><div class="ttname"><a href="../../d1/db9/a09560.html#a040b23aa9d248980540640a5dcac3cf5">Quest::GetRewArenaPoints</a></div><div class="ttdeci">int32 GetRewArenaPoints() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00253">QuestDef.h:253</a></div></div>
<div class="ttc" id="aa09560_html_a05ddbc59016a0b68fd2fea8a694bbc99"><div class="ttname"><a href="../../d1/db9/a09560.html#a05ddbc59016a0b68fd2fea8a694bbc99">Quest::HasSpecialFlag</a></div><div class="ttdeci">bool HasSpecialFlag(uint32 flag) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00221">QuestDef.h:221</a></div></div>
<div class="ttc" id="aa09560_html_a05de2206c2a4c7761851f87c81842ace"><div class="ttname"><a href="../../d1/db9/a09560.html#a05de2206c2a4c7761851f87c81842ace">Quest::ItemDropQuantity</a></div><div class="ttdeci">uint32 ItemDropQuantity[QUEST_SOURCE_ITEM_IDS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00300">QuestDef.h:300</a></div></div>
<div class="ttc" id="aa09560_html_a06c88a17affc1a13a06be5b5404e3b8f"><div class="ttname"><a href="../../d1/db9/a09560.html#a06c88a17affc1a13a06be5b5404e3b8f">Quest::GetRepObjectiveValue</a></div><div class="ttdeci">int32 GetRepObjectiveValue() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00237">QuestDef.h:237</a></div></div>
<div class="ttc" id="aa09560_html_a071cf4919b90266595fef826351f2d2a"><div class="ttname"><a href="../../d1/db9/a09560.html#a071cf4919b90266595fef826351f2d2a">Quest::HasFlag</a></div><div class="ttdeci">bool HasFlag(uint32 flag) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00218">QuestDef.h:218</a></div></div>
<div class="ttc" id="aa09560_html_a0a844c9747f60175e1395b63a01e324c"><div class="ttname"><a href="../../d1/db9/a09560.html#a0a844c9747f60175e1395b63a01e324c">Quest::GetRewSpell</a></div><div class="ttdeci">uint32 GetRewSpell() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00269">QuestDef.h:269</a></div></div>
<div class="ttc" id="aa09560_html_a0c6ec21639c30c5fad76225ec9dbca43"><div class="ttname"><a href="../../d1/db9/a09560.html#a0c6ec21639c30c5fad76225ec9dbca43">Quest::GetEventIdForQuest</a></div><div class="ttdeci">uint16 GetEventIdForQuest() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00329">QuestDef.h:329</a></div></div>
<div class="ttc" id="aa09560_html_a0ce0eac987fc5e0d7424d05d3e36ceca"><div class="ttname"><a href="../../d1/db9/a09560.html#a0ce0eac987fc5e0d7424d05d3e36ceca">Quest::GetRewMoneyMaxLevel</a></div><div class="ttdeci">uint32 GetRewMoneyMaxLevel() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/a01814_source.html#l00258">QuestDef.cpp:258</a></div></div>
<div class="ttc" id="aa09560_html_a123c8907addf478087674d1108e8c290"><div class="ttname"><a href="../../d1/db9/a09560.html#a123c8907addf478087674d1108e8c290">Quest::GetRewMailSenderEntry</a></div><div class="ttdeci">uint32 GetRewMailSenderEntry() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00273">QuestDef.h:273</a></div></div>
<div class="ttc" id="aa09560_html_a136c35d22865c4d7a8199f754977c768"><div class="ttname"><a href="../../d1/db9/a09560.html#a136c35d22865c4d7a8199f754977c768">Quest::RequiredNpcOrGo</a></div><div class="ttdeci">int32 RequiredNpcOrGo[QUEST_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00301">QuestDef.h:301</a></div></div>
<div class="ttc" id="aa09560_html_a15e22f8cce4ac1bec8294d952d0d39e2"><div class="ttname"><a href="../../d1/db9/a09560.html#a15e22f8cce4ac1bec8294d952d0d39e2">Quest::GetRepObjectiveValue2</a></div><div class="ttdeci">int32 GetRepObjectiveValue2() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00239">QuestDef.h:239</a></div></div>
<div class="ttc" id="aa09560_html_a1c6aee64c4ebe888060dfc4a3b0ae974"><div class="ttname"><a href="../../d1/db9/a09560.html#a1c6aee64c4ebe888060dfc4a3b0ae974">Quest::GetRepObjectiveFaction</a></div><div class="ttdeci">uint32 GetRepObjectiveFaction() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00236">QuestDef.h:236</a></div></div>
<div class="ttc" id="aa09560_html_a26795fa9c5daf20043c08171c75672c9"><div class="ttname"><a href="../../d1/db9/a09560.html#a26795fa9c5daf20043c08171c75672c9">Quest::RequiredNpcOrGoCount</a></div><div class="ttdeci">uint32 RequiredNpcOrGoCount[QUEST_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00302">QuestDef.h:302</a></div></div>
<div class="ttc" id="aa09560_html_a2689be1a4799b2e9f1e456d2f4a1ec5b"><div class="ttname"><a href="../../d1/db9/a09560.html#a2689be1a4799b2e9f1e456d2f4a1ec5b">Quest::GetRewMailTemplateId</a></div><div class="ttdeci">uint32 GetRewMailTemplateId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00271">QuestDef.h:271</a></div></div>
<div class="ttc" id="aa09560_html_a31378cd54fb5bbe7cccbd47cdd06ac3b"><div class="ttname"><a href="../../d1/db9/a09560.html#a31378cd54fb5bbe7cccbd47cdd06ac3b">Quest::GetRepObjectiveFaction2</a></div><div class="ttdeci">uint32 GetRepObjectiveFaction2() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00238">QuestDef.h:238</a></div></div>
<div class="ttc" id="aa09560_html_a38e904dcfcbdca8aa66b61c3eb1f5846"><div class="ttname"><a href="../../d1/db9/a09560.html#a38e904dcfcbdca8aa66b61c3eb1f5846">Quest::GetCharTitleId</a></div><div class="ttdeci">uint32 GetCharTitleId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00250">QuestDef.h:250</a></div></div>
<div class="ttc" id="aa09560_html_a3aa437e753c20123a86b29d12f2f05e2"><div class="ttname"><a href="../../d1/db9/a09560.html#a3aa437e753c20123a86b29d12f2f05e2">Quest::GetMaxLevel</a></div><div class="ttdeci">uint32 GetMaxLevel() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00229">QuestDef.h:229</a></div></div>
<div class="ttc" id="aa09560_html_a3c9f29edfe7730926a6c291867b946c8"><div class="ttname"><a href="../../d1/db9/a09560.html#a3c9f29edfe7730926a6c291867b946c8">Quest::GetRequiredMaxRepValue</a></div><div class="ttdeci">int32 GetRequiredMaxRepValue() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00243">QuestDef.h:243</a></div></div>
<div class="ttc" id="aa09560_html_a3fe2654312995eeeb8940d7d2c70d6f3"><div class="ttname"><a href="../../d1/db9/a09560.html#a3fe2654312995eeeb8940d7d2c70d6f3">Quest::RewardItemIdCount</a></div><div class="ttdeci">uint32 RewardItemIdCount[QUEST_REWARDS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00306">QuestDef.h:306</a></div></div>
<div class="ttc" id="aa09560_html_a432388b929011995705ba2d7967ba3c9"><div class="ttname"><a href="../../d1/db9/a09560.html#a432388b929011995705ba2d7967ba3c9">Quest::GetRequiredMinRepValue</a></div><div class="ttdeci">int32 GetRequiredMinRepValue() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00241">QuestDef.h:241</a></div></div>
<div class="ttc" id="aa09560_html_a4355a8343017eb1059657dbd2bd13694"><div class="ttname"><a href="../../d1/db9/a09560.html#a4355a8343017eb1059657dbd2bd13694">Quest::GetMinLevel</a></div><div class="ttdeci">uint32 GetMinLevel() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00228">QuestDef.h:228</a></div></div>
<div class="ttc" id="aa09560_html_a57886dc304657391b76080b4ca7c3176"><div class="ttname"><a href="../../d1/db9/a09560.html#a57886dc304657391b76080b4ca7c3176">Quest::RewardChoiceItemId</a></div><div class="ttdeci">uint32 RewardChoiceItemId[QUEST_REWARD_CHOICES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00303">QuestDef.h:303</a></div></div>
<div class="ttc" id="aa09560_html_a5f22941fdb30fd269c0cf7ddab97e918"><div class="ttname"><a href="../../d1/db9/a09560.html#a5f22941fdb30fd269c0cf7ddab97e918">Quest::ItemDrop</a></div><div class="ttdeci">uint32 ItemDrop[QUEST_SOURCE_ITEM_IDS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00299">QuestDef.h:299</a></div></div>
<div class="ttc" id="aa09560_html_a624f094e3f33c2bf5eb30dd9d208a058"><div class="ttname"><a href="../../d1/db9/a09560.html#a624f094e3f33c2bf5eb30dd9d208a058">Quest::GetSrcItemCount</a></div><div class="ttdeci">uint32 GetSrcItemCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00256">QuestDef.h:256</a></div></div>
<div class="ttc" id="aa09560_html_a62deb059ae37d23ad11c985b8a8ed792"><div class="ttname"><a href="../../d1/db9/a09560.html#a62deb059ae37d23ad11c985b8a8ed792">Quest::IsDFQuest</a></div><div class="ttdeci">bool IsDFQuest() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00291">QuestDef.h:291</a></div></div>
<div class="ttc" id="aa09560_html_a69a404c71347a99ebb006a8091f84493"><div class="ttname"><a href="../../d1/db9/a09560.html#a69a404c71347a99ebb006a8091f84493">Quest::GetRequiredClasses</a></div><div class="ttdeci">uint32 GetRequiredClasses() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00232">QuestDef.h:232</a></div></div>
<div class="ttc" id="aa09560_html_a6ff12c6f23e1c67482e61700b33d9f0a"><div class="ttname"><a href="../../d1/db9/a09560.html#a6ff12c6f23e1c67482e61700b33d9f0a">Quest::GetAllowableRaces</a></div><div class="ttdeci">uint32 GetAllowableRaces() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00233">QuestDef.h:233</a></div></div>
<div class="ttc" id="aa09560_html_a725d9e26041dbb223470b8f96094b084"><div class="ttname"><a href="../../d1/db9/a09560.html#a725d9e26041dbb223470b8f96094b084">Quest::IsRepeatable</a></div><div class="ttdeci">bool IsRepeatable() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00280">QuestDef.h:280</a></div></div>
<div class="ttc" id="aa09560_html_a72ab8dd7b90b7aaf183a11e9da4cdcaf"><div class="ttname"><a href="../../d1/db9/a09560.html#a72ab8dd7b90b7aaf183a11e9da4cdcaf">Quest::GetZoneOrSort</a></div><div class="ttdeci">int32 GetZoneOrSort() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00227">QuestDef.h:227</a></div></div>
<div class="ttc" id="aa09560_html_a7c067ea4d0fbf622a17eec3ad7414594"><div class="ttname"><a href="../../d1/db9/a09560.html#a7c067ea4d0fbf622a17eec3ad7414594">Quest::IsAutoComplete</a></div><div class="ttdeci">bool IsAutoComplete() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/a01814_source.html#l00271">QuestDef.cpp:271</a></div></div>
<div class="ttc" id="aa09560_html_a822276910bf774ea9190c34b9a30fe5d"><div class="ttname"><a href="../../d1/db9/a09560.html#a822276910bf774ea9190c34b9a30fe5d">Quest::RewardChoiceItemCount</a></div><div class="ttdeci">uint32 RewardChoiceItemCount[QUEST_REWARD_CHOICES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00304">QuestDef.h:304</a></div></div>
<div class="ttc" id="aa09560_html_a85b398c765cd61093e9c99aa5c4dab50"><div class="ttname"><a href="../../d1/db9/a09560.html#a85b398c765cd61093e9c99aa5c4dab50">Quest::GetRequiredMinRepFaction</a></div><div class="ttdeci">uint32 GetRequiredMinRepFaction() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00240">QuestDef.h:240</a></div></div>
<div class="ttc" id="aa09560_html_a910f66ebd4b91d594dab6e6227ad2917"><div class="ttname"><a href="../../d1/db9/a09560.html#a910f66ebd4b91d594dab6e6227ad2917">Quest::GetPlayersSlain</a></div><div class="ttdeci">uint32 GetPlayersSlain() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00251">QuestDef.h:251</a></div></div>
<div class="ttc" id="aa09560_html_a93e369e74db8a06214df0ded5731e925"><div class="ttname"><a href="../../d1/db9/a09560.html#a93e369e74db8a06214df0ded5731e925">Quest::CalculateHonorGain</a></div><div class="ttdeci">uint32 CalculateHonorGain(uint8 level) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/a01814_source.html#l00301">QuestDef.cpp:301</a></div></div>
<div class="ttc" id="aa09560_html_a992449032653d9405898a3419f8c28c0"><div class="ttname"><a href="../../d1/db9/a09560.html#a992449032653d9405898a3419f8c28c0">Quest::GetQuestId</a></div><div class="ttdeci">uint32 GetQuestId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00225">QuestDef.h:225</a></div></div>
<div class="ttc" id="aa09560_html_a9acac091142788ff249f56b7e1020f03"><div class="ttname"><a href="../../d1/db9/a09560.html#a9acac091142788ff249f56b7e1020f03">Quest::GetRequiredSkillValue</a></div><div class="ttdeci">uint32 GetRequiredSkillValue() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00235">QuestDef.h:235</a></div></div>
<div class="ttc" id="aa09560_html_aaaa75cd3de5c25120c3d710bbf52154c"><div class="ttname"><a href="../../d1/db9/a09560.html#aaaa75cd3de5c25120c3d710bbf52154c">Quest::GetRewMailDelaySecs</a></div><div class="ttdeci">uint32 GetRewMailDelaySecs() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00272">QuestDef.h:272</a></div></div>
<div class="ttc" id="aa09560_html_aaacce83fe56a29eee3663836d784c4bb"><div class="ttname"><a href="../../d1/db9/a09560.html#aaacce83fe56a29eee3663836d784c4bb">Quest::RequiredItemCount</a></div><div class="ttdeci">uint32 RequiredItemCount[QUEST_ITEM_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00298">QuestDef.h:298</a></div></div>
<div class="ttc" id="aa09560_html_aab14227810deb46be3e04f3fb43eab05"><div class="ttname"><a href="../../d1/db9/a09560.html#aab14227810deb46be3e04f3fb43eab05">Quest::IsDaily</a></div><div class="ttdeci">bool IsDaily() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00284">QuestDef.h:284</a></div></div>
<div class="ttc" id="aa09560_html_aac8b19de3f9cc6d5b6b2a294d6ef8f21"><div class="ttname"><a href="../../d1/db9/a09560.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">Quest::GetExclusiveGroup</a></div><div class="ttdeci">int32 GetExclusiveGroup() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00248">QuestDef.h:248</a></div></div>
<div class="ttc" id="aa09560_html_ab73acadcd0a76dd4470c4796aa04a8e9"><div class="ttname"><a href="../../d1/db9/a09560.html#ab73acadcd0a76dd4470c4796aa04a8e9">Quest::prevQuests</a></div><div class="ttdeci">PrevQuests prevQuests</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00321">QuestDef.h:321</a></div></div>
<div class="ttc" id="aa09560_html_abff147587981d28f9e8034031696a91d"><div class="ttname"><a href="../../d1/db9/a09560.html#abff147587981d28f9e8034031696a91d">Quest::RequiredItemId</a></div><div class="ttdeci">uint32 RequiredItemId[QUEST_ITEM_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00297">QuestDef.h:297</a></div></div>
<div class="ttc" id="aa09560_html_acedf7709925beca7cfa576950ea952bf"><div class="ttname"><a href="../../d1/db9/a09560.html#acedf7709925beca7cfa576950ea952bf">Quest::GetRewItemsCount</a></div><div class="ttdeci">uint32 GetRewItemsCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00318">QuestDef.h:318</a></div></div>
<div class="ttc" id="aa09560_html_acff09432e075b85f9e9618a695ab952a"><div class="ttname"><a href="../../d1/db9/a09560.html#acff09432e075b85f9e9618a695ab952a">Quest::GetRequiredSkill</a></div><div class="ttdeci">uint32 GetRequiredSkill() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00234">QuestDef.h:234</a></div></div>
<div class="ttc" id="aa09560_html_ad0a6cd3d42bc80ab0a3f5472cbf24b8b"><div class="ttname"><a href="../../d1/db9/a09560.html#ad0a6cd3d42bc80ab0a3f5472cbf24b8b">Quest::IsAllowedInRaid</a></div><div class="ttdeci">bool IsAllowedInRaid(Difficulty difficulty) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/a01814_source.html#l00293">QuestDef.cpp:293</a></div></div>
<div class="ttc" id="aa09560_html_ad0c0f5ed540531ae8efb8316b0509181"><div class="ttname"><a href="../../d1/db9/a09560.html#ad0c0f5ed540531ae8efb8316b0509181">Quest::XPValue</a></div><div class="ttdeci">uint32 XPValue(uint8 playerLevel=0) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/a01814_source.html#l00199">QuestDef.cpp:199</a></div></div>
<div class="ttc" id="aa09560_html_ad0ccd9dbb5209c6e5a8b4f88703d1b24"><div class="ttname"><a href="../../d1/db9/a09560.html#ad0ccd9dbb5209c6e5a8b4f88703d1b24">Quest::GetRewChoiceItemsCount</a></div><div class="ttdeci">uint32 GetRewChoiceItemsCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00317">QuestDef.h:317</a></div></div>
<div class="ttc" id="aa09560_html_ad4362cc4900c53c7bf010ea8fe0eabff"><div class="ttname"><a href="../../d1/db9/a09560.html#ad4362cc4900c53c7bf010ea8fe0eabff">Quest::GetSrcItemId</a></div><div class="ttdeci">uint32 GetSrcItemId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00255">QuestDef.h:255</a></div></div>
<div class="ttc" id="aa09560_html_ad52228188a1e225f7b26dd0a16967994"><div class="ttname"><a href="../../d1/db9/a09560.html#ad52228188a1e225f7b26dd0a16967994">Quest::GetRewOrReqMoney</a></div><div class="ttdeci">int32 GetRewOrReqMoney(uint8 playerLevel=0) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/a01814_source.html#l00239">QuestDef.cpp:239</a></div></div>
<div class="ttc" id="aa09560_html_ad655d2ab2988cbc70c17a53f27aa84dc"><div class="ttname"><a href="../../d1/db9/a09560.html#ad655d2ab2988cbc70c17a53f27aa84dc">Quest::IsWeekly</a></div><div class="ttdeci">bool IsWeekly() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00285">QuestDef.h:285</a></div></div>
<div class="ttc" id="aa09560_html_adaa19295bcbbc791d0ed2e70d641e4e9"><div class="ttname"><a href="../../d1/db9/a09560.html#adaa19295bcbbc791d0ed2e70d641e4e9">Quest::IsSeasonal</a></div><div class="ttdeci">bool IsSeasonal() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00287">QuestDef.h:287</a></div></div>
<div class="ttc" id="aa09560_html_adb84c508be7586def5faee4c286dd463"><div class="ttname"><a href="../../d1/db9/a09560.html#adb84c508be7586def5faee4c286dd463">Quest::IsDailyOrWeekly</a></div><div class="ttdeci">bool IsDailyOrWeekly() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00288">QuestDef.h:288</a></div></div>
<div class="ttc" id="aa09560_html_add051d795a43fec06874305a818f5998"><div class="ttname"><a href="../../d1/db9/a09560.html#add051d795a43fec06874305a818f5998">Quest::GetTitle</a></div><div class="ttdeci">std::string const &amp; GetTitle() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00258">QuestDef.h:258</a></div></div>
<div class="ttc" id="aa09560_html_ae8a2cf843cd8c423ed4116d53a5bd098"><div class="ttname"><a href="../../d1/db9/a09560.html#ae8a2cf843cd8c423ed4116d53a5bd098">Quest::GetRewSpellCast</a></div><div class="ttdeci">int32 GetRewSpellCast() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00270">QuestDef.h:270</a></div></div>
<div class="ttc" id="aa09560_html_aec34a6498bb385e4ee734fa54d0d9643"><div class="ttname"><a href="../../d1/db9/a09560.html#aec34a6498bb385e4ee734fa54d0d9643">Quest::IsMonthly</a></div><div class="ttdeci">bool IsMonthly() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00286">QuestDef.h:286</a></div></div>
<div class="ttc" id="aa09560_html_aede7794218b0181207be14b07cda2b64"><div class="ttname"><a href="../../d1/db9/a09560.html#aede7794218b0181207be14b07cda2b64">Quest::RewardItemId</a></div><div class="ttdeci">uint32 RewardItemId[QUEST_REWARDS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00305">QuestDef.h:305</a></div></div>
<div class="ttc" id="aa09560_html_aefa1e253b25eb7e6a0239f14dda98ffc"><div class="ttname"><a href="../../d1/db9/a09560.html#aefa1e253b25eb7e6a0239f14dda98ffc">Quest::GetBonusTalents</a></div><div class="ttdeci">uint32 GetBonusTalents() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00252">QuestDef.h:252</a></div></div>
<div class="ttc" id="aa09560_html_af1e10dfc30ded6ceadd623ab382ef10f"><div class="ttname"><a href="../../d1/db9/a09560.html#af1e10dfc30ded6ceadd623ab382ef10f">Quest::GetQuestMethod</a></div><div class="ttdeci">uint32 GetQuestMethod() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00226">QuestDef.h:226</a></div></div>
<div class="ttc" id="aa09560_html_af6c06e652199b8685e1d1688a3c8f33f"><div class="ttname"><a href="../../d1/db9/a09560.html#af6c06e652199b8685e1d1688a3c8f33f">Quest::GetTimeAllowed</a></div><div class="ttdeci">uint32 GetTimeAllowed() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00245">QuestDef.h:245</a></div></div>
<div class="ttc" id="aa09560_html_af7ac2e2789dc06f793ee19f7cbae4a41"><div class="ttname"><a href="../../d1/db9/a09560.html#af7ac2e2789dc06f793ee19f7cbae4a41">Quest::IsPVPQuest</a></div><div class="ttdeci">bool IsPVPQuest() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00292">QuestDef.h:292</a></div></div>
<div class="ttc" id="aa09560_html_af8f473ce55790d197715fef652c2edc1"><div class="ttname"><a href="../../d1/db9/a09560.html#af8f473ce55790d197715fef652c2edc1">Quest::prevChainQuests</a></div><div class="ttdeci">PrevChainQuests prevChainQuests</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00323">QuestDef.h:323</a></div></div>
<div class="ttc" id="aa09560_html_afcb07099ad8e2ed8fa6c87ca7993aac3"><div class="ttname"><a href="../../d1/db9/a09560.html#afcb07099ad8e2ed8fa6c87ca7993aac3">Quest::GetRequiredMaxRepFaction</a></div><div class="ttdeci">uint32 GetRequiredMaxRepFaction() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00242">QuestDef.h:242</a></div></div>
<div class="ttc" id="aa09560_html_afd21789d43617d2a7d48e0479b247fde"><div class="ttname"><a href="../../d1/db9/a09560.html#afd21789d43617d2a7d48e0479b247fde">Quest::GetNextQuestInChain</a></div><div class="ttdeci">uint32 GetNextQuestInChain() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00249">QuestDef.h:249</a></div></div>
<div class="ttc" id="aa09564_html"><div class="ttname"><a href="../../dd/d88/a09564.html">QuestStatusData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00404">QuestDef.h:405</a></div></div>
<div class="ttc" id="aa09564_html_a16343f7a162e5b7b6a1a18345420c77a"><div class="ttname"><a href="../../dd/d88/a09564.html#a16343f7a162e5b7b6a1a18345420c77a">QuestStatusData::Timer</a></div><div class="ttdeci">uint32 Timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00413">QuestDef.h:413</a></div></div>
<div class="ttc" id="aa09564_html_a170a1e54fe45b7fd0c7934f1309f7969"><div class="ttname"><a href="../../dd/d88/a09564.html#a170a1e54fe45b7fd0c7934f1309f7969">QuestStatusData::PlayerCount</a></div><div class="ttdeci">uint16 PlayerCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00416">QuestDef.h:416</a></div></div>
<div class="ttc" id="aa09564_html_a466999cea52f65bf58916bc34750bf95"><div class="ttname"><a href="../../dd/d88/a09564.html#a466999cea52f65bf58916bc34750bf95">QuestStatusData::ItemCount</a></div><div class="ttdeci">uint16 ItemCount[QUEST_ITEM_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00414">QuestDef.h:414</a></div></div>
<div class="ttc" id="aa09564_html_a4ce7af3a64737d7961b6dfa19189c932"><div class="ttname"><a href="../../dd/d88/a09564.html#a4ce7af3a64737d7961b6dfa19189c932">QuestStatusData::Status</a></div><div class="ttdeci">QuestStatus Status</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00412">QuestDef.h:412</a></div></div>
<div class="ttc" id="aa09564_html_a734f6a61aa35c77689d33031e88f0c0b"><div class="ttname"><a href="../../dd/d88/a09564.html#a734f6a61aa35c77689d33031e88f0c0b">QuestStatusData::Explored</a></div><div class="ttdeci">bool Explored</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00417">QuestDef.h:417</a></div></div>
<div class="ttc" id="aa09564_html_aa5892dc0744a41ac565568307f12ad35"><div class="ttname"><a href="../../dd/d88/a09564.html#aa5892dc0744a41ac565568307f12ad35">QuestStatusData::CreatureOrGOCount</a></div><div class="ttdeci">uint16 CreatureOrGOCount[QUEST_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d29/a01817_source.html#l00415">QuestDef.h:415</a></div></div>
<div class="ttc" id="aa09572_html_a1c217a2d0b1f4f1079f9353294a37170"><div class="ttname"><a href="../../dd/de1/a09572.html#a1c217a2d0b1f4f1079f9353294a37170">ReputationMgr::SetVisible</a></div><div class="ttdeci">void SetVisible(FactionTemplateEntry const *factionTemplateEntry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd6/a01820_source.html#l00458">ReputationMgr.cpp:458</a></div></div>
<div class="ttc" id="aa10340_html"><div class="ttname"><a href="../../d1/dac/a10340.html">WorldPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d14/a02066_source.html#l00026">WorldPacket.h:27</a></div></div>
<div class="ttc" id="aa10380_html_a2c74b80ca9b81765049e315813b29269"><div class="ttname"><a href="../../da/dd9/a10380.html#a2c74b80ca9b81765049e315813b29269">WorldSession::SendPacket</a></div><div class="ttdeci">void SendPacket(WorldPacket const *packet)</div><div class="ttdoc">Send a packet to the client.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d48/a02069_source.html#l00208">WorldSession.cpp:208</a></div></div>
<div class="ttc" id="aa10380_html_a38ff97828c0efe89c092f5772c543564"><div class="ttname"><a href="../../da/dd9/a10380.html#a38ff97828c0efe89c092f5772c543564">WorldSession::GetSessionDbLocaleIndex</a></div><div class="ttdeci">LocaleConstant GetSessionDbLocaleIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9d/a02072_source.html#l00496">WorldSession.h:496</a></div></div>
<div class="ttc" id="aa10536_html"><div class="ttname"><a href="../../d8/d22/a10536.html">SpellInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d26/a02129_source.html#l00313">SpellInfo.h:314</a></div></div>
<div class="ttc" id="aa10536_html_a6af41c5dfe2fc8a6e18d010bcb924dc9"><div class="ttname"><a href="../../d8/d22/a10536.html#a6af41c5dfe2fc8a6e18d010bcb924dc9">SpellInfo::IsSelfCast</a></div><div class="ttdeci">bool IsSelfCast() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da0/a02126_source.html#l01073">SpellInfo.cpp:1073</a></div></div>
<div class="ttc" id="aa10536_html_ad66dd61ba67ee1626e7e8393f0c27498"><div class="ttname"><a href="../../d8/d22/a10536.html#ad66dd61ba67ee1626e7e8393f0c27498">SpellInfo::HasEffect</a></div><div class="ttdeci">bool HasEffect(SpellEffects effect) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da0/a02126_source.html#l00868">SpellInfo.cpp:868</a></div></div>
<div class="ttc" id="aa30048_html"><div class="ttname"><a href="../../d2/d45/a30048.html">CharTitlesEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d7a/a04262_source.html#l00631">DBCStructure.h:632</a></div></div>
<div class="ttc" id="aa30124_html"><div class="ttname"><a href="../../da/d98/a30124.html">FactionEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d7a/a04262_source.html#l00897">DBCStructure.h:898</a></div></div>
<div class="ttc" id="aa30124_html_a1953f7a343201113dae80cdd97e1ac90"><div class="ttname"><a href="../../da/d98/a30124.html#a1953f7a343201113dae80cdd97e1ac90">FactionEntry::ID</a></div><div class="ttdeci">uint32 ID</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d7a/a04262_source.html#l00899">DBCStructure.h:899</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_f7e0c1f1a42fff32e0ff6393fb6a6d60.html">azerothcore-wotlk</a></li><li class="navelem"><a class="el" href="../../dir_ee82ee7794f367a672177b3bd595def7.html">src</a></li><li class="navelem"><a class="el" href="../../dir_cfd62069f43c6d31c3f6e771507ef478.html">server</a></li><li class="navelem"><a class="el" href="../../dir_355661791026b33f9301c754e4db8b50.html">game</a></li><li class="navelem"><a class="el" href="../../dir_e83c9d0a1780a629eb22febc87da63b1.html">Entities</a></li><li class="navelem"><a class="el" href="../../dir_47dd4bd942ccc740eef16326f5a4c0e4.html">Player</a></li><li class="navelem"><a class="el" href="../../de/d33/a01274.html">PlayerQuest.cpp</a></li>
    <li class="footer">Generated on Wed Nov 9 2022 22:09:31 for AzeorthCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
